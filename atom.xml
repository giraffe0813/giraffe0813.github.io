<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Giraffe&#39;s Home</title>
  <subtitle>A Stupid Giraffe</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yemengying.com/"/>
  <updated>2018-12-13T03:33:20.000Z</updated>
  <id>http://yemengying.com/</id>
  
  <author>
    <name>Mengying Ye</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>å“ˆå¸Œä¸åŒºå—é“¾</title>
    <link href="http://yemengying.com/2018/02/11/hash-blockchain/"/>
    <id>http://yemengying.com/2018/02/11/hash-blockchain/</id>
    <published>2018-02-11T14:49:44.000Z</published>
    <updated>2018-12-13T03:33:20.000Z</updated>
    
    <content type="html">&lt;blockquote&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆè¦äº†è§£ä¸‹åŒºå—é“¾å‘¢ï¼Ÿå› ä¸ºåŒºå—é“¾æœ€è¿‘å®åœ¨æ˜¯å¤ªç«äº†ï¼Œç«åˆ°æˆ‘çˆ¸éƒ½å¬è¯´äº†ï¼Œæ€»è®©æˆ‘ç»™ä»–ç§‘æ™®ä¸€ä¸‹ã€‚ã€‚ã€‚ã€‚ &lt;/p&gt;
&lt;/blockquote&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;æ¯æ¬¡è·Ÿä»–è¯´æˆ‘ä¹Ÿä¸çŸ¥é“ï¼Œä»–å°±ä¸€è„¸ä¸ä¿¡ï¼Œå¯èƒ½è§‰å¾—å’Œè½¯ä»¶ï¼Œè®¡ç®—æœºæ­è¾¹çš„æˆ‘éƒ½èƒ½çŸ¥é“ã€‚&lt;br&gt;&lt;img src=&quot;https://pic.yupoo.com/jiananshi/4a978934/4e0fbec5.png&quot; alt=&quot;ä¸ä¿¡ä¸‰è¿&quot;&gt;&lt;/p&gt;
&lt;p&gt;é©¬ä¸Šè¦è¿‡å¹´å›å®¶äº†ï¼Œä¸ºäº†æˆ‘çš„å‹å²é’±ï¼Œæˆ‘å‡†å¤‡å…ˆç®€å•äº†è§£ä¸‹ï¼Œä»¥ä¾¿è¿‡å¹´è¢«é—®çš„æ—¶å€™ä¸ä¼šå†ä¸€è„¸æ‡µé€¼ã€‚è¦äº†è§£åŒºå—é“¾ï¼Œå°±è¦å…ˆä»åœ¨åŒºå—é“¾æŠ€æœ¯ä¸­èµ·ç€é‡è¦ä½œç”¨çš„å“ˆå¸Œå¼€å§‹ã€‚&lt;/p&gt;
&lt;h2 id=&quot;ç›¸å…³æ–‡æ¡£&quot;&gt;&lt;a href=&quot;#ç›¸å…³æ–‡æ¡£&quot; class=&quot;headerlink&quot; title=&quot;ç›¸å…³æ–‡æ¡£&quot;&gt;&lt;/a&gt;ç›¸å…³æ–‡æ¡£&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://blockgeeks.com/guides/what-is-hashing/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;What Is Hashing? Under The Hood Of Blockchain - Blockgeeks&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.cs.upc.edu/~mjserna/docencia/grauA/P17/Crypto.pdf&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://www.cs.upc.edu/~mjserna/docencia/grauA/P17/Crypto.pdf&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://chimera.labs.oreilly.com/books/1234000001802/ch07.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://chimera.labs.oreilly.com/books/1234000001802/ch07.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://blockgeeks.com/guides/what-is-bitcoin-cash/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://blockgeeks.com/guides/what-is-bitcoin-cash/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.amazon.cn/%E5%8C%BA%E5%9D%97%E9%93%BE-%E6%8A%80%E6%9C%AF%E9%A9%B1%E5%8A%A8%E9%87%91%E8%9E%8D-%E7%BE%8E-%E9%98%BF%E5%B0%94%E6%96%87%E5%BE%B7%C2%B7%E7%BA%B3%E6%8B%89%E4%BA%9A%E5%8D%97/dp/B073QHSM7P?psc=1&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;ã€ŠåŒºå—é“¾æŠ€æœ¯é©±åŠ¨é‡‘èã€‹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;ä»€ä¹ˆæ˜¯å“ˆå¸Œï¼Ÿ&quot;&gt;&lt;a href=&quot;#ä»€ä¹ˆæ˜¯å“ˆå¸Œï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;ä»€ä¹ˆæ˜¯å“ˆå¸Œï¼Ÿ&quot;&gt;&lt;/a&gt;ä»€ä¹ˆæ˜¯å“ˆå¸Œï¼Ÿ&lt;/h2&gt;&lt;p&gt;ç®€å•æ¥è¯´ï¼Œå“ˆå¸Œå°±æ˜¯è¾“å…¥ä»»æ„é•¿åº¦çš„å­—ç¬¦ä¸²éƒ½å¯ä»¥äº§ç”Ÿå›ºå®šå¤§å°çš„è¾“å‡ºã€‚åœ¨æ¯”ç‰¹å¸è¿™ç§åŠ å¯†è´§å¸ä¸­ï¼Œäº¤æ˜“å°±æ˜¯è¾“å…¥ï¼Œç„¶åç»è¿‡å“ˆå¸Œç®—æ³•(æ¯”ç‰¹å¸é‡‡ç”¨çš„æ˜¯ SHA - 256)ï¼Œäº§ç”Ÿå›ºå®šé•¿åº¦çš„è¾“å‡ºã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢å°±æ˜¯ä½¿ç”¨ SHA-256 ç®—æ³•çš„ä¾‹å­ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://pic.yupoo.com/jiananshi/3ec9133e/89977ce9.png&quot; alt=&quot;SHA-256&quot;&gt;&lt;/p&gt;
&lt;p&gt;é€šè¿‡ä¸Šé¢çš„ä¾‹å­å¯ä»¥çœ‹å‡ºï¼Œæ— è®ºè¾“å…¥å¤§æˆ–è€…å°ï¼Œè¾“å‡ºéƒ½æ˜¯å›ºå®š256æ¯”ç‰¹çš„é•¿åº¦ã€‚è¿™ä¸€ç‰¹æ€§åœ¨å¤„ç†å¤§é‡æ•°æ®å’Œäº¤æ˜“æ—¶æ˜¯è‡³å…³é‡è¦çš„ã€‚åŸºäºå“ˆå¸Œè¿™ä¸€ç‰¹æ€§ï¼Œæˆ‘ä»¬ä¸ç”¨è®°è¾“å…¥æ•°æ®æ˜¯å¤šä¹ˆå¤§ï¼Œåªéœ€è¦è®°ä½hashå€¼å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æˆ‘ä»¬è¿›ä¸€æ­¥è®¨è®ºä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦çœ‹çœ‹å“ˆå¸Œå‡½æ•°çš„å„ç§å±æ€§ä»¥åŠå®ƒä»¬åœ¨åŒºå—é“¾ä¸­çš„å®ç°æ–¹å¼ã€‚&lt;/p&gt;
&lt;h2 id=&quot;åŠ å¯†å“ˆå¸Œå‡½æ•°&quot;&gt;&lt;a href=&quot;#åŠ å¯†å“ˆå¸Œå‡½æ•°&quot; class=&quot;headerlink&quot; title=&quot;åŠ å¯†å“ˆå¸Œå‡½æ•°&quot;&gt;&lt;/a&gt;åŠ å¯†å“ˆå¸Œå‡½æ•°&lt;/h2&gt;&lt;p&gt;åŠ å¯†å“ˆå¸Œå‡½æ•°æ˜¯ä¸€ç±»ç‰¹æ®Šçš„å“ˆå¸Œå‡½æ•°ã€‚ä¸ºäº†è®©å“ˆå¸Œå‡½æ•°è¾¾åˆ°å¯†ç å®‰å…¨ï¼Œéœ€è¦æœ‰ä»¥ä¸‹å‡ ä¸ªç‰¹æ€§ï¼š&lt;/p&gt;
&lt;h3 id=&quot;ç¡®å®šæ€§-Deterministic&quot;&gt;&lt;a href=&quot;#ç¡®å®šæ€§-Deterministic&quot; class=&quot;headerlink&quot; title=&quot;ç¡®å®šæ€§(Deterministic)&quot;&gt;&lt;/a&gt;ç¡®å®šæ€§(Deterministic)&lt;/h3&gt;&lt;p&gt;å¯¹äºåŒä¸€ä¸ªè¾“å…¥ï¼Œæ— è®ºç”¨å“ˆå¸Œå‡½æ•°è®¡ç®—å¤šå°‘æ¬¡ï¼Œéƒ½ä¼šå¾—åˆ°ç›¸åŒçš„ç»“æœã€‚&lt;/p&gt;
&lt;h3 id=&quot;å¿«é€Ÿè®¡ç®—&quot;&gt;&lt;a href=&quot;#å¿«é€Ÿè®¡ç®—&quot; class=&quot;headerlink&quot; title=&quot;å¿«é€Ÿè®¡ç®—&quot;&gt;&lt;/a&gt;å¿«é€Ÿè®¡ç®—&lt;/h3&gt;&lt;p&gt;å¯¹äºè¾“å…¥çš„å­—ç¬¦ä¸²ï¼Œèƒ½åœ¨åˆç†çš„æ—¶é—´å†…ç®—å‡ºå“ˆå¸Œå‡½æ•°çš„è¾“å‡ºï¼Œå¦åˆ™ä¼šå½±å“ç³»ç»Ÿçš„æ€§èƒ½ã€‚&lt;/p&gt;
&lt;h3 id=&quot;éšç§˜æ€§&quot;&gt;&lt;a href=&quot;#éšç§˜æ€§&quot; class=&quot;headerlink&quot; title=&quot;éšç§˜æ€§&quot;&gt;&lt;/a&gt;éšç§˜æ€§&lt;/h3&gt;&lt;p&gt;å¦‚æœæˆ‘ä»¬å·²çŸ¥å­—ç¬¦ä¸² A çš„å“ˆå¸Œå€¼æ˜¯ H(A)ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ²¡æœ‰å¯è¡Œçš„åŠæ³•ç®—å‡º A æ˜¯ä»€ä¹ˆã€‚æ³¨æ„ï¼Œè¿™é‡Œè¯´çš„æ˜¯ â€œä¸å¯è¡Œâ€ è€Œä¸æ˜¯ â€œä¸å¯èƒ½â€ã€‚ æ¯”å¦‚ä¸‹é¢çš„ä¾‹å­ä¸­ï¼ŒçŸ¥é“è¾“å‡ºå“ˆå¸Œå€¼æ˜¯å¯ä»¥ç®—å‡ºè¾“å…¥çš„ã€‚&lt;/p&gt;
&lt;p&gt;å‡å¦‚æˆ‘ä»¬æ·éª°å­ğŸ²ï¼Œè¾“å‡ºå°±æ˜¯éª°å­ä¸Šæ•°å­—çš„å“ˆå¸Œå€¼ã€‚é‚£ä¹ˆåœ¨çŸ¥é“è¾“å‡ºçš„å“ˆå¸Œå€¼æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬èƒ½å¦çŸ¥é“éª°å­ä¸Šçš„æ•°å­—å‘¢ï¼Ÿå› ä¸ºå“ˆå¸Œå‡½æ•°æ˜¯å…·æœ‰ç¡®å®šæ€§çš„ï¼Œç›¸åŒè¾“å…¥çš„å“ˆå¸Œå€¼ä¸€å®šç›¸åŒï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è®¡ç®— 1-6 çš„å“ˆå¸Œå€¼æ˜¯ä»€ä¹ˆï¼Œç„¶åå¯¹æ¯”å°±èƒ½çŸ¥é“éª°å­ä¸Šçš„æ•°å­—æ˜¯ä»€ä¹ˆäº†ã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œæˆ‘ä»¬èƒ½å¤Ÿæ ¹æ®å“ˆå¸Œå€¼çŒœå‡ºéª°å­çš„æ•°å­—ï¼Œæ˜¯å› ä¸ºè¾“å…¥å€¼åªæœ‰ 6 ç§å¯èƒ½æ€§ã€‚å¦‚æœæˆ‘ä»¬çš„è¾“å…¥å€¼æ¥è‡ªä¸€ä¸ªåˆ†æ•£çš„é›†åˆï¼Œé‚£ä¹ˆæƒ³è¦é€šè¿‡è¾“å‡ºæ¨å¯¼å‡ºè¾“å…¥çš„å”¯ä¸€æ–¹æ³•å¯èƒ½å°±æ˜¯â€œæš´åŠ›ç ´è§£æ³•â€äº†ã€‚æš´åŠ›ç ´è§£å°±æ˜¯ï¼Œä»»æ„é€‰æ‹©ä¸€ä¸ªè¾“å…¥ï¼Œè®¡ç®—å…¶å“ˆå¸Œå€¼ï¼Œä¸ç°æœ‰å“ˆå¸Œå€¼å¯¹æ¯”æ˜¯å¦ä¸€è‡´ï¼Œä¸æ–­é‡å¤è¿™ä¸€è¿‡ç¨‹ï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªè¾“å…¥çš„å“ˆå¸Œå€¼ä¸ç°æœ‰å“ˆå¸Œå€¼ä¸€è‡´ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆæš´åŠ›ç ´è§£æ³•æ˜¯å¦å¯è¡Œå‘¢ï¼Ÿå‡è®¾æˆ‘ä»¬ç°åœ¨å¤„ç†çš„æ˜¯128ä½çš„å“ˆå¸Œå€¼ã€‚&lt;br&gt;&lt;strong&gt;æœ€å¥½çš„æƒ…å†µ&lt;/strong&gt;ï¼šç¬¬ä¸€æ¬¡å°è¯•å°±æ‰¾åˆ°äº†ç­”æ¡ˆï¼Œä½†è¿™ç§æƒ…å†µå¯ä»¥è¯´æ˜¯å‡ ä¹ä¸å¯èƒ½çš„ï¼Œæ¯”ä¸­å¤§ä¹é€è¿˜éš¾ã€‚&lt;br&gt;&lt;strong&gt;æœ€åçš„æƒ…å†µ&lt;/strong&gt;ï¼šåœ¨å°è¯• 2^128 -1 æ¬¡åå¾—åˆ°äº†ç­”æ¡ˆï¼Œä¹Ÿå°±æ˜¯è¯•è¿‡äº†æ‰€æœ‰å¯èƒ½çš„è¾“å…¥æ‰æ‰¾åˆ°ã€‚&lt;br&gt;&lt;strong&gt;å¹³å‡çš„æƒ…å†µ&lt;/strong&gt;ï¼š åœ¨å¹³å‡æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬è¦å°è¯• 2^128 / 2 = 2^127 æ¬¡ä¹‹åæ‰èƒ½æ‰¾åˆ°ç­”æ¡ˆã€‚2^127 = 1.7 X 10^38 ï¼Œ ä¹Ÿå¯ä»¥è¯´æ˜¯ä¸ªå¤©æ–‡æ•°å­—äº†ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œåœ¨å·²çŸ¥å“ˆå¸Œå€¼çš„æƒ…å†µä¸‹ï¼Œ å°½ç®¡å¯ä»¥é€šè¿‡æš´åŠ›ç ´è§£çš„æ–¹æ³•æ‰¾åˆ°è¾“å…¥çš„å­—ç¬¦ä¸²æ˜¯ä»€ä¹ˆï¼Œä½†è¿™ä¼šèŠ±è´¹å¾ˆé•¿é•¿é•¿é•¿é•¿çš„æ—¶é—´ï¼Œæ‰€ä»¥ä¸ç”¨æ‹…å¿ƒã€‚&lt;/p&gt;
&lt;h3 id=&quot;æŠ—ç¯¡æ”¹èƒ½åŠ›&quot;&gt;&lt;a href=&quot;#æŠ—ç¯¡æ”¹èƒ½åŠ›&quot; class=&quot;headerlink&quot; title=&quot;æŠ—ç¯¡æ”¹èƒ½åŠ›&quot;&gt;&lt;/a&gt;æŠ—ç¯¡æ”¹èƒ½åŠ›&lt;/h3&gt;&lt;p&gt;å¯¹äºä»»æ„ä¸€ä¸ªè¾“å…¥ï¼Œå“ªæ€•æ˜¯å¾ˆå°çš„æ”¹åŠ¨ï¼Œå…¶å“ˆå¸Œæ”¹å˜ä¹Ÿä¼šéå¸¸å¤§ã€‚æ¯”å¦‚ â€œThis is a testâ€ å¯¹åº”çš„å“ˆå¸Œå€¼æ˜¯&lt;code&gt;C7BE1ED902FB8DD4D48897C6452F5D7E509FBCDBE2808B16BCF4EDCE4C07D14E&lt;/code&gt;ï¼Œ è€Œ â€œthis is a testâ€ å¯¹åº”çš„å“ˆå¸Œå€¼æ˜¯ &lt;code&gt;2E99758548972A8E8822AD47FA1017FF72F06F3FF6A016851F45C398732BC50C&lt;/code&gt;ã€‚ &lt;/p&gt;
&lt;p&gt;çœ‹ä¸Šé¢çš„ä¾‹å­ï¼Œå³ä¾¿åªæ”¹å˜äº†è¾“å…¥å­—ç¬¦ä¸²ç¬¬ä¸€ä¸ªå­—æ¯çš„å¤§å°å†™ï¼Œè¾“å‡ºhashå€¼ä¹Ÿæ˜¯å®Œå…¨ä¸åŒçš„ã€‚ç”¨å‰æ®µæ—¶é—´æ¯”è¾ƒæµè¡Œçš„åŒºå—é“¾æ’¸çŒ«æ¸¸æˆç±»æ¯”ä¸€ä¸‹ï¼Œâ€œThis is a testâ€ çš„å“ˆå¸Œå€¼å¯¹åº”çŒ«å¯èƒ½æ˜¯è¿™æ ·çš„ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://pic.yupoo.com/jiananshi/f094a3f5/1640dc96.png&quot; alt=&quot;å–µ~&quot;&gt;&lt;/p&gt;
&lt;p&gt;è€Œåªæ”¹äº†ä¸ªå¤§å°å†™ï¼Œâ€œthis is a testâ€ çš„å“ˆå¸Œå€¼å¯¹åº”çŒ«å¯èƒ½å°±å˜æˆä¸‹é¢è¿™æ ·äº†ï¼š&lt;br&gt;&lt;img src=&quot;https://pic.yupoo.com/jiananshi/9146f91a/4cb2eb92.png&quot; alt=&quot;å–µå–µ~&quot;&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸€ç‰¹æ€§å¯¹äºåŒºå—é“¾æ¥è¯´ååˆ†é‡è¦ï¼Œå› ä¸ºå®ƒå†³å®šäº†åŒºå—é“¾æ˜¯ immutable çš„(ä¸å˜çš„)ã€‚&lt;/p&gt;
&lt;h3 id=&quot;æŠ—ç¢°æ’èƒ½åŠ›&quot;&gt;&lt;a href=&quot;#æŠ—ç¢°æ’èƒ½åŠ›&quot; class=&quot;headerlink&quot; title=&quot;æŠ—ç¢°æ’èƒ½åŠ›&quot;&gt;&lt;/a&gt;æŠ—ç¢°æ’èƒ½åŠ›&lt;/h3&gt;&lt;p&gt;ç¢°æ’æ˜¯æŒ‡ï¼Œå¯¹äºç›¸åŒçš„è¾“å…¥ï¼Œç»è¿‡å“ˆå¸Œè®¡ç®—åäº§ç”Ÿäº†ä¸åŒçš„è¾“å‡ºã€‚å…·æœ‰æŠ—ç¢°æ’èƒ½åŠ›å°±æ˜¯å¯¹äºå¤§éƒ¨åˆ†çš„è¾“å…¥éƒ½æœ‰ç‹¬ä¸€æ— äºŒçš„è¾“å…¥ã€‚ è¿™é‡Œè¯´çš„æ˜¯â€å¤§éƒ¨åˆ†â€ï¼Œå› ä¸ºæ‰¾ä¸åˆ°ç¢°æ’ï¼Œå¹¶ä¸æ„å‘³ä¸å­˜åœ¨ç¢°æ’ã€‚æ¦‚ç‡å­¦ä¸­çš„ç”Ÿæ—¥æ‚–è®ºå¯ä»¥è¯æ˜è¿™ä¸€ç‚¹ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ç”Ÿæ—¥æ‚–è®º:  æŒ‡å¦‚æœä¸€ä¸ªæˆ¿é—´é‡Œæœ‰23ä¸ªæˆ–23ä¸ªä»¥ä¸Šçš„äººï¼Œé‚£ä¹ˆè‡³å°‘æœ‰ä¸¤ä¸ªäººçš„ç”Ÿæ—¥ç›¸åŒçš„æ¦‚ç‡è¦å¤§äº50%ã€‚è¿™å°±æ„å‘³ç€åœ¨ä¸€ä¸ªå…¸å‹çš„æ ‡å‡†å°å­¦ç­çº§(30äºº)ä¸­ï¼Œå­˜åœ¨ä¸¤äººç”Ÿæ—¥ç›¸åŒçš„å¯èƒ½æ€§æ›´é«˜ã€‚å¯¹äº60æˆ–è€…æ›´å¤šçš„äººï¼Œè¿™ç§æ¦‚ç‡è¦å¤§äº99%ã€‚ä»å¼•èµ·é€»è¾‘çŸ›ç›¾çš„è§’åº¦æ¥è¯´ç”Ÿæ—¥æ‚–è®ºå¹¶ä¸æ˜¯ä¸€ç§æ‚–è®ºï¼Œä»è¿™ä¸ªæ•°å­¦äº‹å®ä¸ä¸€èˆ¬ç›´è§‰ç›¸æŠµè§¦çš„æ„ä¹‰ä¸Šï¼Œå®ƒæ‰ç§°å¾—ä¸Šæ˜¯ä¸€ä¸ªæ‚–è®ºã€‚å¤§å¤šæ•°äººä¼šè®¤ä¸ºï¼Œ23äººä¸­æœ‰2äººç”Ÿæ—¥ç›¸åŒçš„æ¦‚ç‡åº”è¯¥è¿œè¿œå°äº50%ã€‚  &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;http://pic.yupoo.com/jiananshi/a6e044f3/d67f5e94.png&quot; alt=&quot;ç”Ÿæ—¥æ‚–è®º&quot;&gt;&lt;/p&gt;
&lt;p&gt;æ²¡æœ‰å“ªä¸ªå“ˆå¸Œå‡½æ•°æ˜¯å®Œå…¨å…·æœ‰é˜²ç¢°æ’ç‰¹æ€§ï¼Œä½†å¯¹äº SHA -256 ä¹‹ç±»çš„å“ˆå¸Œå‡½æ•°ï¼Œéœ€è¦èŠ±è´¹å¾ˆé•¿çš„æ—¶é—´æ¥æ‰¾åˆ°ç¢°æ’ã€‚æ‰€ä»¥æˆ‘ä»¬å®Œå…¨å¯ä»¥è®¤ä¸º if H(A) = H(B) é‚£ä¹ˆ A=B.&lt;/p&gt;
&lt;h3 id=&quot;è°œé¢˜å‹å¥½&quot;&gt;&lt;a href=&quot;#è°œé¢˜å‹å¥½&quot; class=&quot;headerlink&quot; title=&quot;è°œé¢˜å‹å¥½&quot;&gt;&lt;/a&gt;è°œé¢˜å‹å¥½&lt;/h3&gt;&lt;p&gt;è¿™ä¸€ç‰¹æ€§å¯¹åŠ å¯†è´§å¸æ¥è¯´è‡³å…³é‡è¦(ç‰¹åˆ«æ˜¯åœ¨æŒ–çŸ¿è¿‡ç¨‹ä¸­)ã€‚å…ˆå®šä¹‰ä¸‹ä»€ä¹ˆæ˜¯è°œé¢˜å‹å¥½ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è°œé¢˜å‹å¥½ï¼š å¦‚æœå¯¹äºä»»æ„ n ä½è¾“å‡ºå€¼ yï¼Œ å‡å®š k é€‰è‡ªé«˜é˜¶æœ€å°ç†µåˆ†å¸ƒï¼Œå¦‚æœæ— æ³•æ‰¾åˆ°ä¸€ä¸ªå¯è¡Œçš„åŠæ³•ï¼Œåœ¨æ¯” 2^n å°å¾ˆå¤šçš„æ—¶é—´å†…æ‰¾åˆ° x ï¼Œ ä¿è¯ H(k|x) = y æˆç«‹ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç§°å“ˆå¸Œå‡½æ•° H å…·æœ‰è°œé¢˜å‹å¥½çš„ç‰¹æ€§ã€‚  &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;ä»€ä¹ˆæ˜¯é«˜é˜¶æœ€å°ç†µ?&lt;/strong&gt;&lt;br&gt;é«˜é˜¶æœ€å°ç†µæè¿°äº†åˆ†å¸ƒçš„åˆ†æ•£ç¨‹åº¦ã€‚åœ¨è¿™æ ·çš„åˆ†å¸ƒä¸­ï¼Œä»»æ„æ•°å€¼è¢«é€‰å®šçš„æ¦‚ç‡çš„å°åˆ°å¯ä»¥å¿½ç•¥ä¸è®¡çš„ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœè¦ä» 1-5 ä¸­é€‰æ‹©ä¸€ä¸ªæ•°ï¼Œå°±æ˜¯ä½é˜¶æœ€å°ç†µçš„åˆ†å¸ƒã€‚å¦‚æœä» 1-æ— ç©·å¤§ä¸­é€‰æ‹©ä¸€ä¸ªæ•°ï¼Œå°±æ˜¯é«˜é˜¶æœ€å°ç†µçš„åˆ†å¸ƒã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;â€™k|xâ€™ä»£è¡¨äº†ä»€ä¹ˆï¼Ÿ&lt;/strong&gt;&lt;br&gt;â€˜|â€™ æ˜¯è¿æ¥ç¬¦çš„æ„æ€ï¼Œå°†ä¸¤ä¸ªå­—ç¬¦ä¸²è¿æ¥èµ·æ¥ã€‚ä¸¾ä¸ªä¾‹å­â€™cute|giraffeâ€™ = â€˜cutegiraffeâ€™ã€‚&lt;/p&gt;
&lt;p&gt;å†æ¥å›é¡¾ä¸‹è°œé¢˜å‹å¥½çš„å®šä¹‰ã€‚å‡è®¾æœ‰ä¸€ä¸ª n ä½è¾“å‡ºå€¼ y, ä»é«˜é˜¶åˆ†å¸ƒä¸­é€‰å–ä¸€ä¸ªä»»æ„å€¼ kï¼Œ é‚£ä¹ˆæ²¡æœ‰ä¸€ä¸ªå¯è¡Œçš„åŠæ³•ï¼Œæ¯” 2^n å°å¾ˆå¤šçš„æ—¶é—´å†…æ‰¾åˆ° x ï¼Œä½¿å¾— H(k| x) = yã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œè¯´çš„è¿˜æ˜¯ â€œä¸å¯è¡Œâ€ï¼Œè€Œä¸æ˜¯ â€œä¸å¯èƒ½â€ã€‚æ•´ä¸ªçš„æ¯”ç‰¹å¸é‡‡çŸ¿çš„è¿‡ç¨‹å°±åŸºäºè§£è°œã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æ˜¯å‡ ä¸ªå…¸å‹çš„åŠ å¯†å“ˆå¸Œå‡½æ•°ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;MD5ï¼šäº§ç”Ÿ 128 ä½å“ˆå¸Œã€‚&lt;/li&gt;
&lt;li&gt;SHA-1ï¼šäº§ç”Ÿ 160 ä½å“ˆå¸Œã€‚&lt;/li&gt;
&lt;li&gt;SHA-256ï¼šäº§ç”Ÿ 256 ä½å“ˆå¸Œã€‚ä¹Ÿæ˜¯æ¯”ç‰¹å¸ä¸­ä½¿ç”¨çš„å“ˆå¸Œå‡½æ•°ã€‚&lt;/li&gt;
&lt;li&gt;Keccak-256ï¼šäº§ç”Ÿ 256 ä½å“ˆå¸Œï¼Œåœ¨ Ethereum ä¸­ä½¿ç”¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;å“ˆå¸Œä¸æ•°æ®ç»“æ„&quot;&gt;&lt;a href=&quot;#å“ˆå¸Œä¸æ•°æ®ç»“æ„&quot; class=&quot;headerlink&quot; title=&quot;å“ˆå¸Œä¸æ•°æ®ç»“æ„&quot;&gt;&lt;/a&gt;å“ˆå¸Œä¸æ•°æ®ç»“æ„&lt;/h2&gt;&lt;p&gt;å¦‚æœæƒ³è¦ç†è§£åŒºå—é“¾æ˜¯æ€æ ·å·¥ä½œçš„ï¼Œå°±å¿…é¡»è¦ç†è§£å…¶ä¸­ 3 ç§é‡è¦çš„æ•°æ®ç»“æ„ &lt;strong&gt;å“ˆå¸ŒæŒ‡é’ˆ&lt;/strong&gt; ,  &lt;strong&gt;åŒºå—é“¾&lt;/strong&gt; å’Œ &lt;strong&gt;æ¢…å…‹å°”æ ‘&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&quot;å“ˆå¸ŒæŒ‡é’ˆ&quot;&gt;&lt;a href=&quot;#å“ˆå¸ŒæŒ‡é’ˆ&quot; class=&quot;headerlink&quot; title=&quot;å“ˆå¸ŒæŒ‡é’ˆ&quot;&gt;&lt;/a&gt;å“ˆå¸ŒæŒ‡é’ˆ&lt;/h3&gt;&lt;p&gt;ä¸ä¸åŒæŒ‡é’ˆä¸åŒçš„æ˜¯ï¼Œå“ˆå¸ŒæŒ‡é’ˆçš„å€¼æ˜¯é€šè¿‡æ•°æ®è®¡ç®—å‡ºæ¥çš„ä¸”æŒ‡å‘æ•°æ®æ‰€åœ¨ä½ç½®ï¼Œæ‰€ä»¥å“ˆå¸ŒæŒ‡é’ˆå¯ä»¥å‘Šè¯‰æˆ‘ä»¬æ•°æ®å­˜å‚¨ä½ç½®åŠæ•°æ®çš„å“ˆå¸Œå€¼ã€‚é€šè¿‡å“ˆå¸ŒæŒ‡é’ˆï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åˆ¤æ–­å‡ºæ•°æ®æ˜¯å¦æœ‰è¢«ç¯¡æ”¹ã€‚&lt;/p&gt;
&lt;p&gt;å“ˆå¸ŒæŒ‡é’ˆåœ¨åŒºå—é“¾ä¸­æä¸ºé‡è¦ã€‚åŒºå—é“¾çš„ç»“æ„å°±æ˜¯ç”±åˆ›ä¸–åŒºå—å¼€å§‹ï¼Œä¹‹åçš„æ¯ä¸ªåŒºå—é€šè¿‡å“ˆå¸ŒæŒ‡é’ˆè¿›è¡Œè¿æ¥ã€‚æ¯ä¸€ä¸ªåŒºå—ä¸­éƒ½åŒ…å«äº†å‰ä¸€ä¸ªåŒºå—çš„å“ˆå¸ŒæŒ‡é’ˆï¼Œè¿™æ ·åé¢åŒºå—ä¸ä»…å¯ä»¥æŸ¥æ‰¾åˆ°å‰é¢æ‰€æœ‰åŒºå—ï¼Œä¹Ÿå¯ä»¥éªŒè¯å‰é¢åŒºå—æ•°æ®æœ‰æ²¡æœ‰è¢«æ›´æ”¹ï¼Œä»è€Œä¿è¯äº†åŒºå—é“¾ä¸æ˜“ç¯¡æ”¹çš„ç‰¹æ€§ã€‚&lt;/p&gt;
&lt;p&gt;å“ˆå¸ŒæŒ‡é’ˆåœ¨åŒºå—é“¾ä¸­ç¬¬äºŒä¸ªç”¨å¤„å°±æ˜¯æ„å»ºMerkle Tree(æ¢…å…‹å°”æ ‘)ï¼Œä¸‹æ–‡ä¼šè¯¦ç»†è®²ã€‚&lt;/p&gt;
&lt;h3 id=&quot;åŒºå—é“¾&quot;&gt;&lt;a href=&quot;#åŒºå—é“¾&quot; class=&quot;headerlink&quot; title=&quot;åŒºå—é“¾&quot;&gt;&lt;/a&gt;åŒºå—é“¾&lt;/h3&gt;&lt;p&gt;åŒºå—é“¾æ˜¯ä¸€ä¸ªåŸºäºå“ˆå¸ŒæŒ‡é’ˆæ„å»ºçš„ä¸€ä¸ªæœ‰åºçš„ï¼Œåå‘é“¾æ¥çš„äº¤æ˜“å—é“¾è¡¨ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨åŒºå—é“¾ä¸­æ¯ä¸ªåŒºå—éƒ½é€šè¿‡å“ˆå¸ŒæŒ‡é’ˆè¿æ¥åˆ°å‰ä¸€ä¸ªåŒºå—ä¸Šã€‚å¤§è‡´ç»“æ„å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://pic.yupoo.com/jiananshi/a8ee7066/48a107a4.png&quot; alt=&quot;block chain&quot;&gt;&lt;/p&gt;
&lt;p&gt;åŒºå—é“¾ä¹Ÿå¸¸è¢«çœ‹åšä¸€ä¸ªå‚ç›´çš„å †æ ˆï¼ŒåŒºå—åœ¨æ ˆé¡¶ä¸€æ¬¡è¿½åŠ ï¼Œç¬¬ä¸€ä¸ªåŒºå—ä¹Ÿå°±æ˜¯æ•´ä¸ªå †æ ˆçš„åŸºç¡€ã€‚æ‰€ä»¥ä¹Ÿå¸¸å¸¸ç”¨â€œé«˜åº¦â€(height) è¿™ä¸ªè¯æ¥æè¿°æŸä¸ªåŒºå—åˆ°ç¬¬ä¸€ä¸ªåŒºå—çš„è·ç¦»ã€‚&lt;/p&gt;
&lt;p&gt;åŒºå—é“¾ä¸­çš„æ¯ä¸€ä¸ªåŒºå—éƒ½æœ‰ä¸€ä¸ªå¯¹åŒºå—å¤´éƒ¨è¿›è¡Œ SHA256  åŠ å¯†å“ˆå¸Œå‡½æ•°è®¡ç®—å¾—å‡ºçš„å“ˆå¸Œå€¼ä½œä¸ºæ ‡è¯†ã€‚ç”±äºæ¯ä¸ªåŒºå—éœ€è¦è¿æ¥åˆ°å‰ä¸€ä¸ªåŒºå—ï¼Œæ‰€ä»¥æ¯ä¸ªåŒºå—å¤´éƒ¨ä¸“é—¨æœ‰ä¸€ä¸ªå­—æ®µç”¨æ¥å­˜å‚¨å‰ä¸€ä¸ªåŒºå—(ä¹Ÿå«çˆ¶åŒºå—)çš„å“ˆå¸Œå€¼ã€‚è¿™æ ·æ¯ä¸ªåŒºå—éƒ½è¿æ¥åˆ°äº†ä»–ä»¬çš„çˆ¶åŒºå—ï¼Œä»è€Œåˆ›å»ºäº†åŒºå—é“¾ã€‚&lt;/p&gt;
&lt;p&gt;å°½ç®¡æ¯ä¸€ä¸ªåŒºå—åªèƒ½ç”±ä¸€ä¸ªçˆ¶åŒºå—ï¼Œä½†å´å¯èƒ½çŸ­æ—¶é—´å†…æ‹¥æœ‰å¤šä¸ªå­åŒºå—ã€‚ä¹Ÿå°±æ˜¯è¯´å¯èƒ½å­˜åœ¨å¤šä¸ªåŒºå—å¤´éƒ¨ä¸­å­˜å‚¨çš„çˆ¶åŒºå—çš„å“ˆå¸Œå€¼æ˜¯ä¸€æ ·çš„ã€‚è¿™ç§æƒ…å†µä¸€èˆ¬å‘ç”Ÿåœ¨ä¸åŒçš„åŒºå—åœ¨åŒä¸€æ—¶é—´è¢«ä¸åŒçš„çŸ¿å·¥æ‰¾åˆ°ã€‚è¿™æ ·å°±ä¼šé€ æˆåŒºå—é“¾çš„åˆ†å‰ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;br&gt;&lt;img src=&quot;http://pic.yupoo.com/jiananshi/f6c0930f/fd6bf4c0.png&quot; alt=&quot;åŒºå—é“¾åˆ†å‰&quot;&gt;&lt;/p&gt;
&lt;p&gt;ä¸è¿‡åŒºå—é“¾çš„åˆ†å‰åªæ˜¯æš‚æ—¶ï¼Œä¼šæ ¹æ®â€œæœ€é•¿é“¾åŸåˆ™â€æ¥è§£å†³åˆ†å‰ã€‚ä¸æ˜¯æœ¬æ–‡é‡ç‚¹ä¸å†èµ˜è¿°ã€‚&lt;/p&gt;
&lt;p&gt;åˆšåˆšç¬¬äºŒèŠ‚æåˆ°å“ˆå¸ŒæŒ‡é’ˆå¯ä»¥ä¿è¯åŒºå—é“¾ä¸æ˜“è¢«ç¯¡æ”¹ï¼Œä¸‹é¢æ¥åˆ†æä¸‹åŸå› ã€‚&lt;/p&gt;
&lt;p&gt;å‡è®¾æœ‰ä¸€ä¸ªé»‘å®¢æƒ³è¦ç¯¡æ”¹ä¸Šå›¾ä¸­ åŒºå— 2 çš„æ•°æ®ã€‚ç”±äºå“ˆå¸Œå‡½æ•°å…·æœ‰æŠ—ç¯¡æ”¹èƒ½åŠ›ï¼Œå¾ˆå°çš„æ”¹åŠ¨ï¼Œè¾“å‡ºçš„å“ˆå¸Œå€¼ä¼šå¤§ä¸ä¸€æ ·ã€‚æ‰€ä»¥å¦‚æœæ”¹åŠ¨åŒºå—2ä¸Šçš„æ•°æ®ï¼Œé‚£ä¹ˆ åŒºå—3 è‡ªèº«çš„å“ˆå¸Œä¼šå‘ç”Ÿå˜åŒ–ã€‚ è€Œ åŒºå—3 çš„å¤´éƒ¨ä¸­å­˜å‚¨äº† åŒºå—2 çš„å“ˆå¸Œå€¼ï¼Œæ‰€ä»¥ å¯¹åŒºå—2 çš„æ”¹åŠ¨å¿…ç„¶ä¼šå½±å“åˆ° åŒºå—3ï¼Œä»¥æ­¤ç±»æ¨ï¼ŒåŒºå—3åé¢çš„åŒºå—ä¹Ÿä¼šå—åˆ°å½±å“ã€‚æ‰€ä»¥ä¸€ä¸ªåŒºå—çš„ä¿®æ”¹ä¼šçº§è”å½±å“åˆ°å®ƒä¹‹åçš„æ‰€æœ‰åŒºå—ï¼Œè€Œè¦ä¿®æ”¹ä¹‹åçš„æ‰€æœ‰åŒºå—éœ€è¦å¼ºå¤§çš„ç®—åŠ›ï¼Œå¯ä»¥è¯´æ˜¯ä¸å¯èƒ½çš„ï¼Œè¿™ä¹Ÿå°±ä¿è¯äº†åŒºå—é“¾çš„ä¸å˜æ€§ã€‚&lt;/p&gt;
&lt;p&gt;ä»”ç»†çœ‹ä¸‹åŒºå—é“¾ä¸­æ¯ä¸ªåŒºå—çš„ç»“æ„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åŒºå—çš„ç»“æ„&lt;/strong&gt;&lt;br&gt;åŒºå—çš„å†…éƒ¨ç»“æ„åˆ†ä¸º å¤´éƒ¨ï¼Œ å…ƒæ•°æ®ï¼Œå’Œä¸€ç³»åˆ—çš„äº¤æ˜“è®°å½•ã€‚å¤´éƒ¨å¤§å°æ˜¯ 80ä¸ªå­—èŠ‚ï¼Œè€Œä¸€ä¸ªäº¤æ˜“è®°å½•è‡³å°‘è¦50ä¸ªå­—èŠ‚ï¼Œå¹³å‡æ¯ä¸ªåŒºå—åŒ…å«è¶…è¿‡500ä¸ªäº¤æ˜“è®°å½•ã€‚æ‰€ä»¥ï¼Œä¸€ä¸ªå®Œæ•´çš„åŒºå—çš„å¤§å°ä¸€èˆ¬æ˜¯å®ƒå¤´éƒ¨å¤§å°çš„1000å€ã€‚ ä¸‹å›¾æ˜¯ä¸€ä¸ªåŒºå—çš„å¤§è‡´ç»“æ„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://pic.yupoo.com/jiananshi/2ea67637/38ecf1fb.png&quot; alt=&quot;structure&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åŒºå—çš„å¤´éƒ¨&lt;/strong&gt;&lt;br&gt;å¦‚ä¸Šå›¾ï¼ŒåŒºå—çš„å¤´éƒ¨çš„ç»„æˆåˆ†ä¸º3å¤§å—ã€‚ç¬¬ä¸€å—æ˜¯å‰é¢åŒºå—çš„å“ˆå¸Œå€¼ï¼Œç”¨äºè¿æ¥åˆ°çˆ¶åŒºå—ã€‚ç¬¬äºŒå—åŒ…å«äº†ä¸€ä¸ªéšæœºæ•°ï¼Œä¸€ä¸ªç‚¹æ•°(ç”¨æ¥è¡¨ç¤ºæ‰¾åˆ°è¿™ä¸ªåŒºå—çš„éš¾åº¦)ï¼Œå’Œä¸€ä¸ªæ—¶é—´æˆ³ï¼Œè¿™ä¸‰ä¸ªå­—æ®µéƒ½ä¸æŒ–çŸ¿çš„è¿‡ç¨‹æ¯æ¯ç›¸å…³ã€‚ç¬¬ä¸‰å—æ˜¯æ¢…å…‹å°”æ ‘(merkle tree )çš„æ ‘æ ¹,merkle tree  ç”¨æ¥å°†åŒºå—å†…çš„æ‰€æœ‰äº¤æ˜“ä»¥ä¸€ç§éå¸¸é«˜æ•ˆçš„å½¢å¼ç»„ç»‡èµ·æ¥ã€‚&lt;/p&gt;
&lt;p&gt;merkle tree ç›¸å…³å†…å®¹ä¸‹æ–‡ä¼šæœ‰æ¶‰åŠï¼Œéšæœºæ•°ã€ç‚¹æ•°å’Œæ—¶é—´æˆ³éƒ½æ˜¯ä¸æŒ–çŸ¿ç›¸å…³çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åŒºå—çš„æ ‡è¯†ï¼šåŒºå—å¤´éƒ¨å“ˆå¸Œå€¼å’ŒåŒºå—é«˜åº¦&lt;/strong&gt;&lt;br&gt;ä¸€ä¸ªåŒºå—æœ€ä¸»è¦çš„æ ‡è¯†å°±æ˜¯åŒºå—è‡ªèº«å¤´éƒ¨è¿›è¡ŒäºŒæ¬¡å“ˆå¸Œè®¡ç®—äº§ç”Ÿçš„åŠ å¯†å“ˆå¸Œå€¼ã€‚åŒºå—é“¾ä¸­ç¬¬ä¸€ä¸ªåŒºå—çš„å“ˆå¸Œå€¼å°±æ˜¯ &lt;code&gt;000000000019d6689c085ae165831e934ff763ae46a2a6c172b3f1b60a8ce26f&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;p&gt;åŒºå—çš„å¦ä¸€ä¸ªæ ‡è¯†æ˜¯å®ƒåœ¨åŒºå—é“¾å½“ä¸­çš„ä½ç½®ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ä¸€ä¸ªåŒºå—åªèƒ½æœ‰ä¸€ä¸ªé«˜åº¦ï¼Œä½†åœ¨åŒºå—é“¾å­˜åœ¨åˆ†å‰çš„æƒ…å†µä¸‹ï¼Œå¯èƒ½å­˜åœ¨å¤šä¸ªåŒºå—å…·æœ‰ä¸€æ ·çš„é«˜åº¦ã€‚è¿™æ—¶ï¼ŒåŒºå—çš„é«˜åº¦å°±ä¸èƒ½ä½œä¸ºå”¯ä¸€æ ‡è¯†äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¬¬ä¸€ä¸ªåŒºå— ï¼š åˆ›ä¸–åŒºå—&lt;/strong&gt;&lt;br&gt;åŒºå—é“¾ä¸­çš„ç¬¬ä¸€ä¸ªåŒºå—æ˜¯2009å¹´åˆ›å»ºçš„ï¼Œå«åšâ€œåˆ›ä¸–åŒºå—â€ã€‚å®ƒæ˜¯åŒºå—é“¾ä¸­æ‰€æœ‰åŒºå—çš„ç¥–å…ˆï¼Œä»ä»»ä½•ä¸€ä¸ªåŒºå—å‘å‰è¿½æº¯ï¼Œæœ€ç»ˆéƒ½ä¼šåˆ°è¾¾åˆ›ä¸–åŒºå—ã€‚&lt;/p&gt;
&lt;p&gt;é€šè¿‡ &lt;code&gt;blockchain.info&lt;/code&gt; ä¹‹ç±»çš„ç½‘ç«™æŸ¥çœ‹åˆ›ä¸–åŒºå—çš„å†…å®¹ &lt;code&gt;https://blockchain.info/block/000000000019d6689c085ae165831e934ff763ae46a2a6c172b3f1b60a8ce26f&lt;/code&gt;&lt;br&gt;&lt;figure class=&quot;highlight json&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;&quot;hash&quot;&lt;/span&gt; : &lt;span class=&quot;string&quot;&gt;&quot;000000000019d6689c085ae165831e934ff763ae46a2a6c172b3f1b60a8ce26f&quot;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;&quot;confirmations&quot;&lt;/span&gt; : &lt;span class=&quot;number&quot;&gt;308321&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;&quot;size&quot;&lt;/span&gt; : &lt;span class=&quot;number&quot;&gt;285&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;&quot;height&quot;&lt;/span&gt; : &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;&quot;version&quot;&lt;/span&gt; : &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;&quot;merkleroot&quot;&lt;/span&gt; : &lt;span class=&quot;string&quot;&gt;&quot;4a5e1e4baab89f3a32518a88c31bc87f618f76673e2cc77ab2127b7afdeda33b&quot;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;&quot;tx&quot;&lt;/span&gt; : [&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;&quot;4a5e1e4baab89f3a32518a88c31bc87f618f76673e2cc77ab2127b7afdeda33b&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ],&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;&quot;time&quot;&lt;/span&gt; : &lt;span class=&quot;number&quot;&gt;1231006505&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;&quot;nonce&quot;&lt;/span&gt; : &lt;span class=&quot;number&quot;&gt;2083236893&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;&quot;bits&quot;&lt;/span&gt; : &lt;span class=&quot;string&quot;&gt;&quot;1d00ffff&quot;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;&quot;difficulty&quot;&lt;/span&gt; : &lt;span class=&quot;number&quot;&gt;1.00000000&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;&quot;nextblockhash&quot;&lt;/span&gt; : &lt;span class=&quot;string&quot;&gt;&quot;00000000839a8e6886ab5951d76f411475428afc90947ee320161bbf18eb6048&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;æ¯”ç‰¹å¸çš„åˆ›å§‹äººä¸­æœ¬èªè¿˜åœ¨åˆ›ä¸–åŒºå—é‡Œç•™ä¸‹ä¸€å¥æ°¸ä¸å¯ä¿®æ”¹çš„è¯â€œThe Times 03/Jan/2009 Chancellor on brink of second bailout for banksâ€ (2009å¹´1æœˆ3æ—¥ï¼Œè´¢æ”¿å¤§è‡£æ­£å¤„äºå®æ–½ç¬¬äºŒè½®é“¶è¡Œç´§æ€¥æ´åŠ©çš„è¾¹ç¼˜)ï¼Œ è¿™å¥è¯æ˜¯æ³°æ™¤å£«æŠ¥å½“å¤©çš„å¤´ç‰ˆæ–‡ç« æ ‡é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è¿æ¥åŒºå—åˆ°åŒºå—é“¾&lt;/strong&gt;&lt;br&gt;æ¯”ç‰¹å¸ä¸­æ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½å­˜å‚¨äº†ä»åˆ›ä¸–åŒºå—å¼€å§‹çš„åŒºå—é“¾çš„æœ¬åœ°å‰¯æœ¬ï¼Œæœ¬åœ°åŒºå—é“¾çš„å‰¯æœ¬ä¼šåœ¨æ–°çš„åŒºå—è¢«å‘ç°å¹¶ä¸”æ·»åŠ åˆ°åŒºå—é“¾åæ›´æ–°ã€‚å½“ä¸€ä¸ªèŠ‚ç‚¹ä»ç½‘ç»œæ¥æ”¶åˆ°ä¸€ä¸ªåŒºå—æ—¶ï¼Œä¼šéªŒè¯è¯¥åŒºå—ï¼ŒéªŒè¯é€šè¿‡åå°†å…¶æ·»åŠ åˆ°å·²æœ‰åŒºå—é“¾ä¸Šã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†å»ºç«‹è¿æ¥ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½ä¼šæ£€éªŒæ¥æ”¶åˆ°çš„åŒºå—çš„å¤´éƒ¨ï¼Œæ‰¾åˆ°å¤´éƒ¨ä¸­å­˜å‚¨çš„çˆ¶åŒºå—çš„å“ˆå¸Œå€¼ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œä¸€ä¸ªèŠ‚ç‚¹çš„åŒºå—é“¾ä¸­æœ‰ 277314 ä¸ªåŒºå—ï¼Œæœ€åä¸€ä¸ªåŒºå—å¤´éƒ¨çš„å“ˆå¸Œå€¼è®¡ç®—å‡ºæ˜¯&lt;code&gt;00000000000000027e7ba6fe7bad39faf3b5a83daed765f05f7d1b71a1632249&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ—¶èŠ‚ç‚¹æ¥æ”¶åˆ°ä¸€ä¸ªæ–°çš„åŒºå—ï¼Œå†…å®¹å¦‚ä¸‹ï¼š&lt;br&gt;&lt;figure class=&quot;highlight json&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;&quot;size&quot;&lt;/span&gt; : &lt;span class=&quot;number&quot;&gt;43560&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;&quot;version&quot;&lt;/span&gt; : &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;&quot;previousblockhash&quot;&lt;/span&gt; :&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;&quot;00000000000000027e7ba6fe7bad39faf3b5a83daed765f05f7d1b71a1632249&quot;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;&quot;merkleroot&quot;&lt;/span&gt; :&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;&quot;5e049f4030e0ab2debb92378f53c0a6e09548aea083f3ab25e1d94ea1155e29d&quot;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;&quot;time&quot;&lt;/span&gt; : &lt;span class=&quot;number&quot;&gt;1388185038&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;&quot;difficulty&quot;&lt;/span&gt; : &lt;span class=&quot;number&quot;&gt;1180923195.25802612&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;&quot;nonce&quot;&lt;/span&gt; : &lt;span class=&quot;number&quot;&gt;4215469401&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;&quot;tx&quot;&lt;/span&gt; : [&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;&quot;257e7497fb8bc68421eb2c7b699dbab234831600e7352f0d9e6522c7cf3f6c77&quot;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; #[... many more transactions omitted ...]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;&quot;05cfd38f6ae6aa83674cc99e4d75a1458c165b7ab84725eda41d018a09176634&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;åœ¨éªŒè¯å®Œæˆä¹‹åï¼ŒèŠ‚ç‚¹ä¼šå…ˆæ‰¾åˆ°æ–°åŒºå—å¤´éƒ¨ä¸­å­˜å‚¨çš„ çˆ¶åŒºå— çš„å“ˆå¸Œå€¼ï¼Œæ¯”è¾ƒä¸æœ€åä¸€ä¸ªåŒºå—çš„å“ˆå¸Œå€¼æ˜¯å¦ä¸€è‡´ã€‚æ˜¯ä¸€è‡´çš„å°±æŠŠæ–°åŒºå—è¿æ¥åˆ°åŒºå—é“¾ä¸Šï¼Œè¿™æ—¶åŒºå—é“¾çš„é«˜åº¦å°±å˜ä¸ºäº†277315ã€‚&lt;/p&gt;
&lt;h3 id=&quot;ä»€ä¹ˆæ˜¯æ¢…å…‹å°”æ ‘ï¼Ÿ&quot;&gt;&lt;a href=&quot;#ä»€ä¹ˆæ˜¯æ¢…å…‹å°”æ ‘ï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;ä»€ä¹ˆæ˜¯æ¢…å…‹å°”æ ‘ï¼Ÿ&quot;&gt;&lt;/a&gt;ä»€ä¹ˆæ˜¯æ¢…å…‹å°”æ ‘ï¼Ÿ&lt;/h3&gt;&lt;p&gt;åœ¨åŒºå—çš„å¤´éƒ¨ä¸­ï¼Œæœ‰å­˜å‚¨ä¸€ä¸ªæ¢…å…‹å°”æ ‘æ ¹çš„ hash å€¼ã€‚æ‰€ä»¥å…ˆæ¥äº†è§£ä¸‹ä»€ä¹ˆæ˜¯æ¢…å…‹å°”æ ‘ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://pic.yupoo.com/jiananshi/c6e23447/2bcf1f9a.png&quot; alt=&quot;merkle tree&quot;&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šå›¾å°±æ˜¯æ¢…å…‹å°”æ ‘çš„æ ·å­ã€‚&lt;/p&gt;
&lt;p&gt;æ¢…å…‹å°”æ ‘åœ¨åŒºå—é“¾ä¸­ç”¨äºç»„ç»‡å’Œè®°å½•å­˜å‚¨åœ¨åŒºå—ä¸­çš„äº¤æ˜“ï¼Œä»¥ä¾¿é«˜æ•ˆçš„éªŒè¯æŸä¸ªäº¤æ˜“æ˜¯å¦å­˜åœ¨åœ¨åŒºå—ä¸­ã€‚æ¢…å…‹å°”æ ‘æ˜¯é€šè¿‡ä¸æ–­çš„é€’å½’è®¡ç®—èŠ‚ç‚¹çš„å“ˆå¸Œå€¼ç›´åˆ°åªæœ‰ä¸€ä¸ªhashå€¼æ¥æ„å»ºçš„ã€‚&lt;/p&gt;
&lt;p&gt;å½“æ¢…å…‹å°”æ ‘ä¸­æœ‰Nä¸ªæ•°æ®æ—¶ï¼Œæœ€å¤šåªéœ€è¦2*log2(N)è®¡ç®—å°±å¯ä»¥éªŒè¯æŸä¸ªç‰¹å®šæ•°æ®æ˜¯å¦å­˜åœ¨ï¼Œæ‰€ä»¥æ¢…å…‹å°”æ ‘æ˜¯ç›¸å½“é«˜æ•ˆçš„ã€‚&lt;/p&gt;
&lt;p&gt;æ¢…å…‹å°”æ ‘æ˜¯è‡ªåº•å‘ä¸Šæ„å»ºçš„ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾æˆ‘ä»¬ç°åœ¨æœ‰ A, B, C,Då››ç¬”äº¤æ˜“éœ€è¦å­˜å‚¨è®°å½•åœ¨åŒºå—ä¸­ï¼Œæ¥çœ‹ä¸‹æ˜¯å¦‚ä½•æ„å»ºæ¢…å…‹å°”æ ‘çš„ã€‚ é¦–å…ˆè¦ç”¨ A,B,C,D æ¥æ„å»ºæ ‘çš„å¶å­èŠ‚ç‚¹ï¼Œå°†ä»–ä»¬äºŒæ¬¡å“ˆå¸Œåçš„å“ˆå¸Œå€¼å­˜å‚¨åœ¨æ˜¯å¶å­èŠ‚ç‚¹ï¼Œå°±æ˜¯ä¸Šå›¾ä¸­çš„ HA,HB,HC,HDã€‚&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;H(A) = SHA256(SHA256(A))&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;æ¥ç€å†ç”¨ç›¸é‚»ä¸¤ä¸ªç»“ç‚¹çš„hashå€¼è¿æ¥åœ¨ä¸€èµ·ç»è¿‡äºŒæ¬¡å“ˆå¸Œè®¡ç®—æ¥æ„å»ºå®ƒä»¬çš„çˆ¶èŠ‚ç‚¹&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;H(AB) = SHA256(SHA256(H(A) + H(B)))&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸€è¿‡ç¨‹ä¸€ç›´é‡å¤åˆ°åªå‰©ä¸‹é¡¶å±‚çš„ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯å­˜å‚¨åœ¨åŒºå—å¤´éƒ¨çš„æ ‘çš„æ ¹èŠ‚ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;å› ä¸ºæ¢…å…‹å°”æ ‘æ˜¯ä¸€æ£µäºŒå‰æ ‘ï¼Œå®ƒéœ€è¦å¶æ•°ä¸ªå¶å­èŠ‚ç‚¹ã€‚å¦‚æœæ°å¥½æ˜¯å¥‡æ•°ä¸ªäº¤æ˜“ï¼Œé‚£ä¹ˆæœ€åä¸€ç¬”äº¤æ˜“ä¼šè¢«å¤åˆ¶ä¸€éï¼Œæ¥åˆ›é€ å¶æ•°ä¸ªå¶å­èŠ‚ç‚¹ï¼Œä»¥ä¾¿è¾¾åˆ°å¹³è¡¡ã€‚ä¸‹å›¾ä¸­çš„äº¤æ˜“ C å°±è¢«å¤åˆ¶äº†ä¸€éã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://pic.yupoo.com/jiananshi/17ae7320/1caf2511.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;æ ¹æ®ä¸Šé¢çš„æ–¹å¼æˆ‘ä»¬å¯ä»¥ä¸ºä»»æ„ä¸ªæ•°çš„äº¤æ˜“æ„å»ºæ¢…å…‹å°”æ ‘ï¼Œä¸€ä¸ªåŒºå—é€šå¸¸è¦è®°å½•å‡ ç™¾åˆ°ä¸Šåƒçš„äº¤æ˜“ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†éªŒè¯ä¸€ç¬”äº¤æ˜“æ˜¯å¦åŒ…å«åœ¨åŒºå—ä¸­ï¼ŒèŠ‚ç‚¹åªéœ€è¦ è®¡ç®— log2(N) ä¸ªå“ˆå¸Œå€¼ï¼Œç»„æˆè¯¥äº¤æ˜“åˆ°merkleæ ‘æ ¹çš„è®¤è¯è·¯å¾„å³å¯ã€‚æ­£å› ä¸ºæ¢…å…‹å°”æ ‘ï¼ŒåŒºå—é“¾ä¸­çš„èŠ‚ç‚¹å¯ä»¥å¿«é€Ÿçš„äº§ç”Ÿä¸€æ¡åŒ…å«10æˆ–12ä¸ªå“ˆå¸Œå€¼çš„è®¤è¯è·¯å¾„ï¼Œæ¥è¯æ˜åœ¨åŒºå—ä¸­ä¸Šåƒç¬”äº¤æ˜“ä¸­æŸç¬”äº¤æ˜“çš„å­˜åœ¨ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å“ˆå¸Œä¸æŒ–çŸ¿&quot;&gt;&lt;a href=&quot;#å“ˆå¸Œä¸æŒ–çŸ¿&quot; class=&quot;headerlink&quot; title=&quot;å“ˆå¸Œä¸æŒ–çŸ¿&quot;&gt;&lt;/a&gt;å“ˆå¸Œä¸æŒ–çŸ¿&lt;/h2&gt;&lt;p&gt;æˆ‘ä»¬è¯´çš„â€œæŒ–çŸ¿â€ï¼Œå°±æ˜¯æŒ‡æ‰¾åˆ°å¯ä»¥åŠ å…¥åŒºå—é“¾çš„æ–°çš„åŒºå—ã€‚çŸ¿å·¥ä»¬è¦ä¸æ–­çš„å·¥ä½œåœ¨ç¡®ä¿åŒºå—é“¾çš„å¢é•¿çš„åŒæ—¶è·åˆ°æ–°åŒºå—çš„å¥–åŠ±ã€‚æ—©äº›æ—¶å€™ï¼Œäººä»¬å¾€å¾€ä½¿ç”¨ç¬”è®°æœ¬ç”µè„‘æŒ–çŸ¿ï¼Œä½†éšç€æ—¶é—´çš„æ¨ç§»ï¼Œå¤§å®¶å¼€å§‹ç»„æˆçŸ¿æ± ä»¥ä¾¿é›†ä¸­ç®—åŠ›æ›´é«˜æ•ˆçš„æŒ–çŸ¿ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œå­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œæ¯ç§åŠ å¯†è´§å¸éƒ½æœ‰ä¸€ä¸ªä¸Šé™ï¼Œæ¯”å¦‚ï¼Œæ¯”ç‰¹å¸ä¸€å…±æœ‰2100ä¸‡ä¸ªã€‚å¦‚æœæ‰¾åˆ°æ–°åŒºå—çš„é€Ÿåº¦è¿‡å¿«ï¼Œé‚£ä¹ˆå¾ˆå¿«æ‰€æœ‰çš„æ¯”ç‰¹å¸å°±è¢«æŒ–å®Œäº†ã€‚æ‰€ä»¥ï¼Œéœ€è¦æ§åˆ¶æ‰¾åˆ°æ–°åŒºå—çš„é€Ÿåº¦ã€‚å¯¹äºæ¯”ç‰¹å¸ï¼Œæ–°åŒºå—åˆ›å»ºçš„æ—¶é—´é—´éš”è¢«æ§åˆ¶åœ¨10åˆ†é’Ÿå·¦å³ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†æ§åˆ¶åŒºå—çš„åˆ›å»ºé€Ÿåº¦ï¼Œè®¾ç½®äº†ä¸€ä¸ªç›®æ ‡å€¼ã€‚ä¸€ä¸ªæœ‰æ•ˆåŒºå—çš„å¤´éƒ¨å“ˆå¸Œå€¼å¿…é¡»è¦å°äºç›®æ ‡å€¼ã€‚ç›®æ ‡å€¼æ˜¯ä¸€ä¸ªä»¥ä¸€ä¸²0å¼€å¤´çš„64ä½çš„å­—ç¬¦ä¸²ï¼Œå¼€å¤´çš„0è¶Šå¤šéš¾åº¦è¶Šå¤§ï¼Œæ¯æ–°äº§ç”Ÿ2016ä¸ªåŒºå—ä¹‹åç›®æ ‡å€¼ä¼šè°ƒæ•´ä¸€æ¬¡ã€‚åŒºå—çš„å¤´éƒ¨æœ‰ä¸ªéšæœºæ•°çš„å­—æ®µï¼Œå…¶å®æŒ–çŸ¿çš„è¿‡ç¨‹ä¹Ÿå°±æ˜¯æ‰¾åˆ°ä¸€ä¸ªå¯ä»¥ä½¿åŒºå—å¤´éƒ¨å“ˆå¸Œå€¼å°äºç›®æ ‡å€¼çš„éšæœºæ•°çš„è¿‡ç¨‹ï¼Œä¹Ÿå«åšè§£è¿·ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æ€»ç»“&quot;&gt;&lt;a href=&quot;#æ€»ç»“&quot; class=&quot;headerlink&quot; title=&quot;æ€»ç»“&quot;&gt;&lt;/a&gt;æ€»ç»“&lt;/h2&gt;&lt;p&gt;å“ˆå¸Œåœ¨åŒºå—é“¾æŠ€æœ¯ä¸­æ˜¯æœ€åŸºç¡€çš„ã€‚å¦‚æœæƒ³è¦äº†è§£åŒºå—é“¾æ˜¯ä»€ä¹ˆï¼Œå°±å¿…é¡»è¦äº†è§£ä»€ä¹ˆæ˜¯å“ˆå¸Œï¼Œå®ƒæœ‰ä»€ä¹ˆç‰¹æ€§ï¼Œåœ¨åŒºå—é“¾ä¸­èµ·ç€ä»€ä¹ˆä½œç”¨ã€‚&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆè¦äº†è§£ä¸‹åŒºå—é“¾å‘¢ï¼Ÿå› ä¸ºåŒºå—é“¾æœ€è¿‘å®åœ¨æ˜¯å¤ªç«äº†ï¼Œç«åˆ°æˆ‘çˆ¸éƒ½å¬è¯´äº†ï¼Œæ€»è®©æˆ‘ç»™ä»–ç§‘æ™®ä¸€ä¸‹ã€‚ã€‚ã€‚ã€‚ &lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="å“ˆå¸Œ" scheme="http://yemengying.com/categories/%E5%93%88%E5%B8%8C/"/>
    
    
      <category term="å“ˆå¸Œ" scheme="http://yemengying.com/tags/%E5%93%88%E5%B8%8C/"/>
    
  </entry>
  
  <entry>
    <title>ã€è¯‘ã€‘Spring MVC ä¸­çš„ DispatcherServlet</title>
    <link href="http://yemengying.com/2017/10/07/spring-dispatcherServlet/"/>
    <id>http://yemengying.com/2017/10/07/spring-dispatcherServlet/</id>
    <published>2017-10-07T12:58:19.000Z</published>
    <updated>2018-12-13T03:46:31.000Z</updated>
    
    <content type="html">&lt;blockquote&gt;
&lt;p&gt;çœ‹ç™½å¤œè¿½å‡¶çœ‹çš„ï¼Œå†™ä¸ªåšå®¢æ€»æ„Ÿè§‰èº«åæœ‰äººã€‚ã€‚ã€‚ã€‚ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;åŸæ–‡é“¾æ¥&quot;&gt;&lt;a href=&quot;#åŸæ–‡é“¾æ¥&quot; class=&quot;headerlink&quot; title=&quot;åŸæ–‡é“¾æ¥&quot;&gt;&lt;/a&gt;åŸæ–‡é“¾æ¥&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;http://javarevisited.blogspot.jp/2017/09/dispatcherservlet-of-spring-mvc-10-points-to-remember.html#axzz4ujB6NAWf&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;åŸæ–‡&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœç»å¸¸ä¸ Spring MVC æ‰“äº¤é“ï¼Œé‚£ä¹ˆå¾ˆæœ‰å¿…è¦äº†è§£ä»€ä¹ˆæ˜¯ DispatcherServletã€‚å®ƒæ˜¯ Spring MVC çš„æ ¸å¿ƒï¼Œå‡†ç¡®çš„è¯´å°±æ˜¯ MVC è®¾è®¡æ¨¡å¼ä¸­çš„ C æˆ– Controllerã€‚æ¯ä¸ªç”± Spring MVC å¤„ç†çš„è¯·æ±‚éƒ½è¦ç»è¿‡ DispatcherServletã€‚ä¸€èˆ¬è€Œè¨€ï¼Œå®ƒæ˜¯å‰ç«¯æ§åˆ¶å™¨æ¨¡å¼çš„å®ç°ï¼Œä¸ºåº”ç”¨æä¾›ä¸€ä¸ªç»Ÿä¸€å…¥å£ã€‚DispatcherServlet æ˜¯è¿æ¥ Java ä¸ Spring çš„æ¡¥æ¢,å¤„ç†æ‰€æœ‰ä¼ å…¥çš„è¯·æ±‚ã€‚å¹¶ä¸”ä¸å…¶ä»–å£°æ˜åœ¨ web.xml ä¸­çš„ Servlet ä¸€æ ·ï¼Œä¹Ÿæ˜¯é€šè¿‡ä¸€ä¸ª URL pattern å°†æ¯ä¸ªè¯·æ±‚æ˜ å°„åˆ° DispatcherServletã€‚&lt;/p&gt;
&lt;p&gt;DispatcherServlet è´Ÿè´£å°†è¯·æ±‚å§”æ´¾ç»™ Spring MVC ä¸­å…¶ä»–çš„ç»„ä»¶å¤„ç†ï¼Œæ¯”å¦‚æ³¨æœ‰ @Controller æˆ– @RestController çš„ Controllerç±»ï¼ŒHandler Mappers(å¤„ç†å™¨æ˜ å°„)ï¼ŒView Resolvers(è§†å›¾è§£æå™¨) ç­‰ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;å°½ç®¡ï¼Œè¯·æ±‚æ˜ å°„æ˜¯ç”± @ResquestMapping æ³¨è§£å®Œæˆçš„ï¼Œä½†å®é™…ä¸Šæ˜¯ç”± DispatcherServlet å°†è¯·æ±‚å§”æ´¾ç»™ç›¸åº”çš„ Controller æ¥å¤„ç†çš„ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ RESTFul çš„ web æœåŠ¡ä¸­ï¼Œ DispatcherServlet è¿˜è´Ÿè´£é€‰æ‹©æ­£ç¡®çš„ä¿¡æ¯è½¬æ¢å™¨ï¼Œä»¥ä¾¿å°†å“åº”ç»“æœè½¬æ¢æˆå®¢æˆ·ç«¯æœŸæœ›çš„æ ¼å¼(JSON, XML æˆ– TEXT)ã€‚æ¯”å¦‚ï¼Œå¦‚æœå®¢æˆ·ç«¯æœŸæœ› JSON æ ¼å¼ï¼Œé‚£ä¹ˆä¼šä½¿ç”¨ &lt;code&gt;MappingJacksonHttpMessageConverter&lt;/code&gt; æˆ– &lt;code&gt;MappingJackson2HttpMessageConverter&lt;/code&gt; (å–å†³äº classpath ä¸­å¯ç”¨çš„æ˜¯ Jackson 1 è¿˜æ˜¯ Jackson 2) æ¥å°†å“åº”ç»“æœè½¬æˆ JSON å­—ç¬¦ä¸²çš„æ ¼å¼ã€‚&lt;/p&gt;
&lt;h2 id=&quot;DispatcherServlet-å¦‚ä½•å¤„ç†è¯·æ±‚&quot;&gt;&lt;a href=&quot;#DispatcherServlet-å¦‚ä½•å¤„ç†è¯·æ±‚&quot; class=&quot;headerlink&quot; title=&quot;DispatcherServlet å¦‚ä½•å¤„ç†è¯·æ±‚&quot;&gt;&lt;/a&gt;DispatcherServlet å¦‚ä½•å¤„ç†è¯·æ±‚&lt;/h2&gt;&lt;p&gt;æ­£å¦‚ä¸Šé¢æ‰€è¯´ï¼ŒDispatcherServlet è¢«ç”¨æ¥å¤„ç†æ‰€æœ‰ä¼ å…¥çš„è¯·æ±‚ï¼Œå¹¶å°†å®ƒä»¬è·¯ç”±åˆ°ä¸åŒçš„ Controller æ¥è¿›è¡Œè¿›ä¸€æ­¥å¤„ç†ã€‚å®ƒå†³å®šäº†ç”±å“ªä¸ª Controller å¤„ç†è¯·æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;DispatcherServlet ä½¿ç”¨å¤„ç†å™¨æ˜ å°„æ¥å°†ä¼ å…¥çš„è¯·æ±‚è·¯ç”±åˆ°å¤„ç†å™¨ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œä½¿ç”¨ &lt;code&gt;BeanNameUrlHandlerMapping&lt;/code&gt; å’Œ ç”± @RequestMapping æ³¨è§£é©±åŠ¨çš„&lt;code&gt;DefaultAnnotationHandlerMapping&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†æ‰¾åˆ°æ­£ç¡®çš„æ–¹æ³•æ¥å¤„ç†è¯·æ±‚ï¼Œå®ƒä¼šæ‰«ææ‰€æœ‰å£°æ˜äº† @Controller æ³¨è§£çš„ç±»ï¼Œå¹¶ä¸”é€šè¿‡ @RequestMapping  æ³¨è§£æ‰¾åˆ°è´Ÿè´£å¤„ç†è¯¥è¯·æ±‚çš„æ–¹æ³•ã€‚@RequestMapping æ³¨è§£å¯ä»¥é€šè¿‡è·¯å¾„æ¥æ˜ å°„è¯·æ±‚(æ¯”å¦‚: &lt;code&gt;@RequestMapping(â€œpathâ€)&lt;/code&gt;), ä¹Ÿå¯ä»¥é€šè¿‡ HTTP æ–¹æ³•(æ¯”å¦‚: &lt;code&gt;@RequestMapping(&amp;quot;path&amp;quot;, method=RequestMethod.GET)&lt;/code&gt;), ä¹Ÿå¯ä»¥é€šè¿‡è¯·æ±‚å‚æ•°(æ¯”å¦‚: &lt;code&gt;@RequestMapping(&amp;quot;path&amp;quot;â€, method=RequestMethod.POST, params=&amp;quot;param1â€)&lt;/code&gt;),è¿˜å¯ä»¥é€šè¿‡ HTTP è¯·æ±‚å¤´(æ¯”å¦‚: &lt;code&gt;@RequestMapping(&amp;quot;path&amp;quot;, header=&amp;quot;content-type=text/*â€)&lt;/code&gt;)ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨ç±»çº§åˆ«å£°æ˜ @RequestMapping æ³¨è§£æ¥è¿‡æ»¤ä¼ å…¥çš„è¯·æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨è¯·æ±‚å¤„ç†ä¹‹åï¼ŒController ä¼šå°†é€»è¾‘è§†å›¾çš„åå­—å’Œ model è¿”å›ç»™ DispatcherServletã€‚ä¹‹ååˆ©ç”¨è§†å›¾è§£æå™¨å®šä½åˆ°çœŸæ­£çš„ View ä»¥ä¾¿æ¸²æŸ“ç»“æœã€‚æˆ‘ä»¬å¯ä»¥æŒ‡å®šä½¿ç”¨çš„è§†å›¾è§£æå™¨ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼ŒDispatcherServlet ä½¿ç”¨ &lt;a href=&quot;http://javarevisited.blogspot.jp/2017/08/what-does-internalresourceviewresolver-do-in-spring-mvc.html#axzz4unX8dLL4&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;InternalResourceViewResolver&lt;/a&gt;æ¥å°†é€»è¾‘è§†å›¾çš„åå­—è½¬æ¢æˆçœŸæ­£çš„è§†å›¾ï¼Œæ¯”å¦‚ JSPã€‚&lt;/p&gt;
&lt;p&gt;é€‰å®šè§†å›¾ä¹‹åï¼ŒDispatcherServlet ä¼šå°†æ•°æ®æ¨¡å‹ä¸è§†å›¾ç›¸ç»“åˆï¼Œå¹¶å°†ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯ã€‚å¹¶ä¸æ˜¯ä»»ä½•æ—¶å€™éƒ½éœ€è¦è§†å›¾ï¼Œæ¯”å¦‚ä¸€ä¸ª RESTful çš„ web æœåŠ¡å°±ä¸éœ€è¦ï¼Œå®ƒä»¬çš„å¤„ç†æ–¹æ³•ä¼šåˆ©ç”¨ @ResponseBody æ³¨è§£ç›´æ¥å°†è¯·æ±‚ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯ã€‚å¯ä»¥çœ‹&lt;a href=&quot;http://courses.baeldung.com/p/rest-with-spring-live-class?affcode=22136_bkwjs9xa&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;REST with Spring course&lt;/a&gt;äº†è§£æ›´å¤šå…³äºå¦‚ä½•ä½¿ç”¨ Spring MVC å¼€å‘å’Œæµ‹è¯• RESTful æœåŠ¡çš„çŸ¥è¯†ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æ€»ç»“&quot;&gt;&lt;a href=&quot;#æ€»ç»“&quot; class=&quot;headerlink&quot; title=&quot;æ€»ç»“&quot;&gt;&lt;/a&gt;æ€»ç»“&lt;/h2&gt;&lt;p&gt;åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘åˆ†äº«äº†ä¸€äº›å…³äº DispatcherServlet æ¯”è¾ƒé‡è¦çš„ä¸€äº›çŸ¥è¯†ç‚¹ã€‚è¿™äº›ä¸ä»…å¯ä»¥å¸®åŠ©å¤§å®¶æ›´å¥½çš„ç†è§£ DispatcherServletï¼Œä¹Ÿå¯ä»¥é¼“åŠ±å¤§å®¶è¿›ä¸€æ­¥å»å­¦ä¹ ç›¸å…³çš„çŸ¥è¯†ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;DispatcherServlet æ˜¯ Spring MVC åº”ç”¨ä¸­ä¸»è¦çš„æ§åˆ¶å™¨ã€‚æ‰€æœ‰çš„è¯·æ±‚éƒ½ä¼šå…ˆç»ç”± DispatcherServlet å¤„ç†ï¼Œå†ç”± Controller (å£°æ˜æœ‰ @Controller æ³¨è§£çš„ç±») å¤„ç†ã€‚&lt;/li&gt;
&lt;li&gt;DispatcherServlet æ˜¯å‰ç«¯æ§åˆ¶å™¨æ¨¡å¼çš„å®ç°ã€‚å‰ç«¯æ§åˆ¶å™¨å°±æ˜¯ä¸ªç”¨æ¥å¤„ç†ç½‘ç«™æ‰€æœ‰è¯·æ±‚çš„æ§åˆ¶å™¨ã€‚&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å°±åƒå…¶ä»–çš„ Servletï¼Œ DispatcherServlet ä¹Ÿæ˜¯å£°æ˜å’Œé…ç½®åœ¨ web.xml æ–‡ä»¶ä¸­çš„ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;web-app&lt;/span&gt;&amp;gt;&lt;/span&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;servlet&lt;/span&gt;&amp;gt;&lt;/span&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;servlet-name&lt;/span&gt;&amp;gt;&lt;/span&gt;SpringMVC&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;servlet-name&lt;/span&gt;&amp;gt;&lt;/span&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;servlet-class&lt;/span&gt;&amp;gt;&lt;/span&gt;org.springframework.web.servlet.DispatcherServlet&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;servlet-class&lt;/span&gt;&amp;gt;&lt;/span&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;load-on-startup&lt;/span&gt;&amp;gt;&lt;/span&gt;1&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;load-on-startup&lt;/span&gt;&amp;gt;&lt;/span&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;servlet&lt;/span&gt;&amp;gt;&lt;/span&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;servlet-mapping&lt;/span&gt;&amp;gt;&lt;/span&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;servlet-name&lt;/span&gt;&amp;gt;&lt;/span&gt;SpringMVC&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;servlet-name&lt;/span&gt;&amp;gt;&lt;/span&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;url-pattern&lt;/span&gt;&amp;gt;&lt;/span&gt;*&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;url-pattern&lt;/span&gt;&amp;gt;&lt;/span&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;servlet-mapping&lt;/span&gt;&amp;gt;&lt;/span&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;web-app&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;DispatcherServlet ç»§æ‰¿è‡ª HttpServlet åŸºç±»ã€‚Servlet å¼•æ“(æ¯”å¦‚ Tomcat) åˆ›å»ºè¯¥ç±»çš„å®ä¾‹ï¼Œå¹¶ä¸”è°ƒç”¨å®ƒä¸åŒçš„æ–¹æ³•ï¼Œæ¯”å¦‚ï¼šinit(), service(), destroy()ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;DispatcherServlet ä¸º Spring MVC åº”ç”¨æä¾›ç»Ÿä¸€å…¥å£ï¼Œå¤„ç†æ‰€æœ‰çš„è¯·æ±‚ã€‚&lt;/li&gt;
&lt;li&gt;DispatcherServlet ä¹Ÿå®Œå…¨ä¸ Spring IoC å®¹å™¨é›†æˆï¼Œå¯ä»¥ä½¿ç”¨ Spring æ¡†æ¶çš„æ¯ä¸€ä¸ªç‰¹æ€§ï¼Œæ¯”å¦‚ä¾èµ–æ³¨å…¥ã€‚&lt;/li&gt;
&lt;li&gt;å½“ DispatcherServlet è¢«é…ç½®ä¸º &lt;code&gt;load-on-startup = 1&lt;/code&gt;,æ„å‘³ç€è¯¥ servlet  ä¼šåœ¨å¯åŠ¨æ—¶ç”±å®¹å™¨åˆ›å»ºï¼Œè€Œä¸æ˜¯åœ¨è¯·æ±‚åˆ°è¾¾æ—¶ã€‚è¿™æ ·åšä¼šé™ä½ç¬¬ä¸€æ¬¡è¯·æ±‚çš„å“åº”æ—¶é—´ï¼Œå› ä¸ºDispatcherServlet ä¼šåœ¨å¯åŠ¨æ—¶åšå¤§é‡å·¥ä½œï¼ŒåŒ…æ‹¬æ‰«æå’ŒæŸ¥æ‰¾æ‰€æœ‰çš„ Controller å’Œ RequestMappingã€‚&lt;/li&gt;
&lt;li&gt;åœ¨ DispatcherServlet åˆå§‹åŒ–æœŸé—´ï¼ŒSpring æ¡†æ¶ä¼šåœ¨ WEB-INF æ–‡ä»¶å¤¹ä¸­æŸ¥æ‰¾åä¸º [servlet-name]-servlet.xml çš„æ–‡ä»¶ï¼Œå¹¶åˆ›å»ºç›¸åº”çš„ beanã€‚æ¯”å¦‚ï¼Œå¦‚æœ servlet åƒä¸Šé¢ web.xml æ–‡ä»¶ä¸­é…ç½®çš„ä¸€æ ·ï¼Œåä¸º â€œSpringMVCâ€ï¼Œé‚£ä¹ˆä¼šæŸ¥æ‰¾ â€œSpringMVC-Servlet.xmlâ€çš„æ–‡ä»¶ã€‚å¦‚æœå…¨å±€ä½œç”¨åŸŸä¸­æœ‰ç›¸åŒåå­—çš„beanï¼Œä¼šè¢«è¦†ç›–ã€‚å¯ä»¥ç”¨ servlet åˆå§‹åŒ–å‚æ•° &lt;code&gt;contextConfigLocation&lt;/code&gt;æ›´æ”¹é…ç½®æ–‡ä»¶çš„ä½ç½®ã€‚&lt;br&gt;&lt;img src=&quot;http://oduh99f02.bkt.clouddn.com/2017-10-08-Desktop%20HD.png&quot; alt=&quot;Dispatcher Servlet flow&quot;&gt;&lt;/li&gt;
&lt;li&gt;åœ¨ Spring MVC æ¡†æ¶ä¸­ï¼Œæ¯ä¸ª DispatcherServlet éƒ½æœ‰å®ƒè‡ªå·±çš„ WebApplicationContext ï¼Œå¹¶ä¸”ç»§æ‰¿äº†æ ¹ WebApplicationContext ä¸­å®šä¹‰çš„æ‰€æœ‰ beanã€‚è¿™äº›ç»§æ‰¿çš„ bean åœ¨ servlet æŒ‡å®šçš„ä½œç”¨åŸŸä¸­å¯ä»¥è¢«é‡è½½ï¼Œä¹Ÿå¯ä»¥åœ¨å…¶æŒ‡å®šä½œç”¨åŸŸä¸­å®šä¹‰æ–°çš„ beanã€‚&lt;/li&gt;
&lt;li&gt;Spring MVC ä¸­çš„ DispatcherServletä¹Ÿå…è®¸è¿”å› Servlet API å®šä¹‰çš„ last-modification-dateã€‚ä¸ºäº†å†³å®šè¯·æ±‚æœ€åä¿®æ”¹æ—¶é—´ï¼ŒDispatcherServletä¼šå…ˆæŸ¥æ‰¾åˆé€‚çš„ handler mappingï¼Œç„¶åæ£€æµ‹å¤„ç†å™¨æ˜¯å¦å®ç°äº† LastModified æ¥å£ã€‚å¦‚æœå®ç°äº†ï¼Œå°±è°ƒç”¨æ¥å£çš„ getLastModified(request) æ–¹æ³•ï¼Œå¹¶å°†è¯¥å€¼è¿”å›ç»™å®¢æˆ·ç«¯ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä»¥ä¸Šå°±æ˜¯å…³äº DispatcherSerlvet çš„å†…å®¹ã€‚æ­£å¦‚ä¸Šé¢æ‰€è®²ï¼ŒDispacherServlet æ˜¯ Spring MVC çš„éª¨å¹²ï¼Œæ˜¯ä¸»è¦çš„æ§åˆ¶å™¨ï¼Œç”¨æ¥å°†ä¸åŒçš„ HTTP è¯·æ±‚è·¯ç”±å½“ç›¸åº”çš„ Controllerã€‚å®ƒæ˜¯å‰ç«¯æ§åˆ¶å™¨è®¾è®¡æ¨¡å¼çš„å®ç°ï¼Œå¹¶ä¸”ä¸ºåº”ç”¨æä¾›å•ä¸€å…¥å£ã€‚å¯ä»¥åœ¨ web.xml ä¸­é…ç½® DispatcherServletï¼Œä½†å»ºè®®å°† load-on-startup è®¾ç½®ä¸º 1ã€‚è¿™æ ·å®¹å™¨ä¼šåœ¨å¯åŠ¨æ—¶åŠ è½½è¯¥ Serlvet è€Œä¸æ˜¯è¯·æ±‚åˆ°è¾¾æ—¶ã€‚è¿™æ ·èƒ½å‡å°‘ç¬¬ä¸€ä¸ªè¯·æ±‚çš„å“åº”æ—¶é—´ã€‚&lt;/p&gt;
&lt;hr style=&quot;border-color: #333;border-width:2px; border-style: dotted; margin-top: 30px; margin-bottom: 30px;&quot;&gt;

&lt;p&gt;å‡ºç§Ÿè½¦å¸æœºç»ˆäºå¯ä»¥ä¸‹äº†ï¼Œç­‰çš„èŠ±å„¿éƒ½è°¢äº†ï¼Œå®‹åº·æ˜Šåƒä¸‡ä¸è¦å¤ªå¸…~&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://pic.yupoo.com/jiananshi/c494820d/08877f04.jpg&quot; alt=&quot;miao a&quot;&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;çœ‹ç™½å¤œè¿½å‡¶çœ‹çš„ï¼Œå†™ä¸ªåšå®¢æ€»æ„Ÿè§‰èº«åæœ‰äººã€‚ã€‚ã€‚ã€‚ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="spring" scheme="http://yemengying.com/categories/spring/"/>
    
    
      <category term="java" scheme="http://yemengying.com/tags/java/"/>
    
      <category term="ç¿»è¯‘" scheme="http://yemengying.com/tags/%E7%BF%BB%E8%AF%91/"/>
    
      <category term="spring" scheme="http://yemengying.com/tags/spring/"/>
    
  </entry>
  
  <entry>
    <title>Oracle ä¸­çš„å¤–é”®ä¸é”</title>
    <link href="http://yemengying.com/2017/09/04/oracle-foreignkey-lock/"/>
    <id>http://yemengying.com/2017/09/04/oracle-foreignkey-lock/</id>
    <published>2017-09-04T10:31:07.000Z</published>
    <updated>2018-12-13T03:49:20.000Z</updated>
    
    <content type="html">&lt;blockquote&gt;
&lt;p&gt;ç®—æ˜¯æ¥ä¸Šç¯‡å§ã€‚ã€‚ã€‚ å†…å®¹ä¸»è¦æ¥è‡ª Oracle å®˜æ–¹æ–‡æ¡£ï¼Œè‡ªå·±é‡æ–°ç”»äº†ä¸‹å›¾ã€‚å›¾ä¸­é…è‰²æ¥è‡ªå¤§ç¥ draveness çš„&lt;a href=&quot;http://draveness.me/mysql-innodb.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;æ–‡ç« &lt;/a&gt;ï¼Œå°æ¸…æ–°çš„é…è‰²çœŸæ˜¯ç¾ç¾å“’ã€‚çœ‹æ¥æˆ‘åœ¨å­¦ç”»å›¾çš„è·¯ä¸Šè¿˜è¦ä¿®ç‚¼å¾ˆä¹…å•Šã€‚ã€‚ã€‚ã€‚ã€‚  &lt;/p&gt;
&lt;/blockquote&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;é”æ˜¯ä¸€ç§å¯ä»¥é˜²æ­¢å¤šä¸ªäº‹åŠ¡é”™è¯¯çš„æ›´æ–°å…±äº«æ•°æ®çš„æœºåˆ¶ï¼Œåœ¨ç»´æŠ¤æ•°æ®åº“å¹¶å‘æ€§å’Œä¸€è‡´æ€§æ–¹é¢èµ·ç€å…³é”®çš„ä½œç”¨ã€‚åœ¨ Oracle å †ç»„ç»‡è¡¨ä¸­ï¼Œ æ•°æ®åº“é”çš„è¡Œä¸ºä¸å¤–é”®åˆ—æ˜¯å¦æœ‰ç´¢å¼•æœ‰å…³ã€‚å¦‚æœå¤–é”®æœªåŠ ç´¢å¼•ï¼Œé‚£ä¹ˆå­è¡¨å¯èƒ½ä¼šè¢«é¢‘ç¹é”ä½ï¼Œä»è€Œå¯¼è‡´æ­»é”ï¼Œé™ä½å¹¶å‘æ€§ã€‚æ‰€ä»¥ï¼ŒOracle å®˜æ–¹å»ºè®®ç»å¯¹å¤šæ•°æƒ…å†µéƒ½ä¸ºå¤–é”®åŠ ç´¢å¼•ï¼Œé™¤éçˆ¶è¡¨çš„å”¯ä¸€é”®/ä¸»é”®ç»å¯¹ä¸ä¼šæ›´æ–°æˆ–åˆ é™¤ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æœªåŠ ç´¢å¼•çš„å¤–é”®ä¸é”&quot;&gt;&lt;a href=&quot;#æœªåŠ ç´¢å¼•çš„å¤–é”®ä¸é”&quot; class=&quot;headerlink&quot; title=&quot;æœªåŠ ç´¢å¼•çš„å¤–é”®ä¸é”&quot;&gt;&lt;/a&gt;æœªåŠ ç´¢å¼•çš„å¤–é”®ä¸é”&lt;/h2&gt;&lt;p&gt;å½“ä»¥ä¸‹æ¡ä»¶éƒ½æ»¡è¶³æ—¶ï¼Œæ•°æ®åº“ä¼šè·å–å­è¡¨çš„å…¨è¡¨é”ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å­è¡¨çš„å¤–é”®åˆ—æœªåŠ ç´¢å¼•&lt;/li&gt;
&lt;li&gt;çˆ¶è¡¨çš„ä¸»é”®è¢«ä¿®æ”¹(æ¯”å¦‚ï¼šåˆ é™¤ä¸€è¡Œæˆ–ä¸»é”®è¢«ä¿®æ”¹)æˆ–è€…åˆå¹¶åˆ°çˆ¶è¡¨ã€‚åœ¨çˆ¶è¡¨æ’å…¥ä¸€æ¡è®°å½•æ˜¯ä¸ä¼šé”ä½å­è¡¨çš„ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å‡è®¾ hr.departments æ˜¯çˆ¶è¡¨ï¼Œhr.employees æ˜¯å­è¡¨ï¼Œ hr.employees ä¸­çš„ department_id æ˜¯æœªåŠ ç´¢å¼•çš„å¤–é”®åˆ—ã€‚ä¸‹å›¾å±•ç°äº†ä¿®æ”¹çˆ¶è¡¨ department_id = 60 è¿™ä¸€è®°å½•çš„ä¸»é”®æ—¶ï¼Œæ•°æ®åº“åŠ é”çš„æƒ…å†µï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://pic.yupoo.com/jiananshi/2ee4d87f/a5d4acb9.png&quot; alt=&quot;unindexed_foreign_key&quot;&gt;&lt;/p&gt;
&lt;p&gt;åœ¨ä¸Šå›¾ä¸­ï¼Œæ•°æ®åº“åœ¨æ›´æ–°çˆ¶è¡¨ department 60 è¿™ä¸€è®°å½•çš„ä¸»é”®æ—¶ï¼Œä¼šè·å¾—å­è¡¨ employees çš„å…¨è¡¨é”ã€‚è¿™æ ·å…¶ä»–ä¼šè¯å¯ä»¥æŸ¥è¯¢å­è¡¨ä½†ä¸å…è®¸æ›´æ–°å­è¡¨ã€‚å­è¡¨çš„è¡¨é”ä¼šåœ¨çˆ¶è¡¨æ›´æ–°å®Œæˆåç«‹åˆ»é‡Šæ”¾ã€‚å¦‚æœä¿®æ”¹çˆ¶è¡¨å¤šæ¡è®°å½•ï¼Œé‚£ä¹ˆä¿®æ”¹æ¯ä¸€æ¡éƒ½ä¼šè·å¾—å­è¡¨çš„è¡¨é”å¹¶é‡Šæ”¾ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ Oracle 9i åŠä»¥ä¸Šç‰ˆæœ¬ä¸­ï¼Œå…¨è¡¨é”éƒ½æ˜¯çŸ­æœŸçš„ï¼Œä»…åœ¨ DML æ“ä½œæœŸé—´å­˜åœ¨ï¼Œè€Œä¸æ˜¯æ•´ä¸ªäº‹åŠ¡ã€‚ä½†å³ä¾¿å¦‚æ­¤ï¼Œè¿˜æ˜¯è¦é¿å…ï¼Œå› ä¸ºå…¨è¡¨é”å¯èƒ½ä¼šå¯¼è‡´æ­»é”ã€‚Tom ä¹Ÿæ›¾è¯´è¿‡ï¼Œå¯¼è‡´æ­»é”çš„å¤´å·åŸå› å°±æ˜¯å¤–é”®æœªåŠ ç´¢å¼•(ç¬¬äºŒå·åŸå› æ˜¯è¡¨ä¸Šçš„ä½å›¾ç´¢å¼•é­åˆ°å¹¶å‘æ›´æ–°)ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;éœ€è¦æ³¨æ„ï¼Œå­è¡¨çš„ DML ä¸ä¼šè·å¾—çˆ¶è¡¨çš„è¡¨é”  &lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;åŠ ç´¢å¼•çš„å¤–é”®ä¸é”&quot;&gt;&lt;a href=&quot;#åŠ ç´¢å¼•çš„å¤–é”®ä¸é”&quot; class=&quot;headerlink&quot; title=&quot;åŠ ç´¢å¼•çš„å¤–é”®ä¸é”&quot;&gt;&lt;/a&gt;åŠ ç´¢å¼•çš„å¤–é”®ä¸é”&lt;/h2&gt;&lt;p&gt;å½“ä»¥ä¸‹æ¡ä»¶éƒ½æ»¡è¶³æ—¶ï¼Œæ•°æ®åº“ä¸ä¼šè·å¾—å­è¡¨çš„å…¨è¡¨é”ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å­è¡¨çš„å¤–é”®åˆ—å·²åŠ ç´¢å¼•&lt;/li&gt;
&lt;li&gt;çˆ¶è¡¨çš„ä¸»é”®æ­£åœ¨è¢«ä¿®æ”¹(æ¯”å¦‚ï¼šåˆ é™¤ä¸€è¡Œæˆ–ä¸»é”®è¢«ä¿®æ”¹)æˆ–åˆå¹¶åˆ°çˆ¶è¡¨&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸‹é¢çš„å›¾å±•ç¤ºäº†å­è¡¨ employees çš„å¤–é”®åˆ— department_id åŠ äº†ç´¢å¼•ã€‚ å½“ä¸€ä¸ªäº‹åŠ¡ä»çˆ¶è¡¨ department ä¸­åˆ é™¤ department 280 æ—¶ï¼Œ è¿™ä¸€æ“ä½œä¸ä¼šå¼•èµ·æ•°æ®åº“è·å¾—å­è¡¨çš„å…¨è¡¨é”ã€‚&lt;/p&gt;
&lt;p&gt;çˆ¶è¡¨ä¸Šçš„é”æ˜¯ä¸ºäº†é˜²æ­¢å…¶ä»–äº‹åŠ¡è·å–è¡¨çº§æ’ä»–é”ï¼Œä½†ä¸ä¼šé˜»æ­¢çˆ¶è¡¨æˆ–å­è¡¨ä¸Šçš„ DML  æ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://pic.yupoo.com/jiananshi/3acb7f13/cf7696ef.png&quot; alt=&quot;indexed_foreign_key&quot;&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœå­è¡¨æŒ‡æ˜äº† &lt;code&gt;ON DELETE CASCADE&lt;/code&gt;, é‚£ä¹ˆåˆ é™¤çˆ¶è¡¨ä¼šå¯¼è‡´åˆ é™¤å­è¡¨å¯¹åº”çš„è®°å½•ã€‚æ¯”å¦‚åˆ é™¤çˆ¶è¡¨ department 280 è¿™ä¸€è®°å½•ï¼Œé‚£ä¹ˆå­è¡¨ employees ä¸­ department_id ä¸º 280 çš„è®°å½•ä¹Ÿä¼šè¢«åˆ é™¤ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒåŠ é”çš„è§„åˆ™ä¸åˆ é™¤å®Œä¸»è¡¨åå†åˆ é™¤å­è¡¨çš„è®°å½•æ˜¯ä¸€æ ·çš„ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç¯‡æ˜¯ä¸æ˜¯æœ‰ç‚¹æ°´å•Šã€‚ã€‚ã€‚ã€‚æ˜¯æ—¶å€™æ”¾å‡ºæˆ‘å§‘å®¶çš„å°éœ¸ç‹ cookie å®å®æ’‘ä¸‹åœºäº†ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è™½ç„¶æˆ‘åˆå’¬äººï¼Œåˆä¹±å«ï¼Œè¿˜å–œæ¬¢å¯¹ç€çª—å¸˜å°ä¾¿ã€‚ä½†æˆ‘çŸ¥é“æˆ‘æ˜¯ä¸ªå¥½ç‹—ç‹—ã€‚&lt;br&gt;                                         â€”â€”â€”â€”cookie                                                                            &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;https://pic.yupoo.com/jiananshi/47585e7b/8318af70.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://pic.yupoo.com/jiananshi/943bd285/7bae2334.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://pic.yupoo.com/jiananshi/8fa84a4a/ded05647.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://pic.yupoo.com/jiananshi/65bbfe90/2c9aa704.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;ç®—æ˜¯æ¥ä¸Šç¯‡å§ã€‚ã€‚ã€‚ å†…å®¹ä¸»è¦æ¥è‡ª Oracle å®˜æ–¹æ–‡æ¡£ï¼Œè‡ªå·±é‡æ–°ç”»äº†ä¸‹å›¾ã€‚å›¾ä¸­é…è‰²æ¥è‡ªå¤§ç¥ draveness çš„&lt;a href=&quot;http://draveness.me/mysql-innodb.html&quot;&gt;æ–‡ç« &lt;/a&gt;ï¼Œå°æ¸…æ–°çš„é…è‰²çœŸæ˜¯ç¾ç¾å“’ã€‚çœ‹æ¥æˆ‘åœ¨å­¦ç”»å›¾çš„è·¯ä¸Šè¿˜è¦ä¿®ç‚¼å¾ˆä¹…å•Šã€‚ã€‚ã€‚ã€‚ã€‚  &lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="Oracle" scheme="http://yemengying.com/categories/Oracle/"/>
    
    
      <category term="Oracle" scheme="http://yemengying.com/tags/Oracle/"/>
    
  </entry>
  
  <entry>
    <title>å°æ­»é”</title>
    <link href="http://yemengying.com/2017/07/15/deadlock-in-oracle/"/>
    <id>http://yemengying.com/2017/07/15/deadlock-in-oracle/</id>
    <published>2017-07-15T14:52:22.000Z</published>
    <updated>2018-12-13T03:56:58.000Z</updated>
    
    <content type="html">&lt;blockquote&gt;
&lt;p&gt; æœ€è¿‘çº¿ä¸Šå¶å°”å°±ä¼šæŠ¥ä¸ªæ­»é”é—®é¢˜ï¼Œä¸Šå‘¨ç»ˆäºè§£å†³äº†,å‘¨æœ«æ•´ç†ä¸‹ã€‚è™½ç„¶é—®é¢˜è§£å†³äº†ï¼Œä½†æ˜¯trace fileé‡Œçš„æ­»é”å›¾è¿˜æ˜¯ä¸å¤ªç†è§£ã€‚è¦æ˜¯æœ‰äººèƒ½ç»™æˆ‘è®²è®²é‚£çœŸæ˜¯æå¥½çš„ï¼Œè¦æ˜¯æ²¡äººçš„è¯æˆ‘å°±ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚å†ç¿»ç¿»æ–‡æ¡£ã€‚ &lt;/p&gt;
&lt;/blockquote&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;èƒŒæ™¯&quot;&gt;&lt;a href=&quot;#èƒŒæ™¯&quot; class=&quot;headerlink&quot; title=&quot;èƒŒæ™¯&quot;&gt;&lt;/a&gt;èƒŒæ™¯&lt;/h2&gt;&lt;p&gt;è¿‘ä¸€ä¸ªæœˆçº¿ä¸Šå¶å°”å°±ä¼šæŠ¥æ­»é”çš„é—®é¢˜ï¼Œé”™è¯¯å¦‚ä¸‹å›¾ï¼š&lt;br&gt;&lt;img src=&quot;https://pic.yupoo.com/jiananshi/d4b73e70/8096062f.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;â€œORA-00060: deadlock detected while waiting for resource â€&lt;/code&gt;è¿™ä¸ªé”™è¯¯è¯´æ˜Oracle æ•°æ®åº“ç›‘æµ‹åˆ°äº†æ­»é”çš„å­˜åœ¨ã€‚è¿™æ—¶ Oracle ä¼šå›æ»šé€ æˆæ­»é”çš„å…¶ä¸­ä¸€ä¸ªäº‹åŠ¡ï¼Œå¦ä¸€ä¸ªäº‹åŠ¡æ­£å¸¸æ‰§è¡Œ(ä¸ä¼šå¯Ÿè§‰åˆ°å‘ç”Ÿäº†æ­»é”)ï¼Œå¹¶å‘æ‰§è¡Œäº†å›æ»šçš„äº‹åŠ¡æŠ›å‡ºä¸Šé¢çš„é”™è¯¯ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ DBA çš„å¸®åŠ©ä¸‹å®šä½åˆ°äº†é€ æˆæ­»é”çš„ä¸¤å—ä»£ç ã€‚ç”±äºé¡¹ç›®æœ‰å¾ˆå¤šçš„æ‚²è§‚é”ï¼Œå³åˆ©ç”¨â€œSELECTâ€¦FOR UPDATEâ€å¯¹èµ„æºåŠ æ’ä»–è¡Œçº§é”ï¼Œæ‰€ä»¥ç¬¬ä¸€æ„Ÿè§‰å°±æ˜¯çœ‹çœ‹è¿™ä¸¤æ®µä»£ç æœ‰æ²¡æœ‰æŒ‰ç…§ç›¸åçš„é¡ºåºå¯¹ä¸¤ä¸ªæˆ–å¤šä¸ªèµ„æºè¿›è¡ŒåŠ é”ã€‚&lt;/p&gt;
&lt;p&gt;ä¸è¿‡åˆ†æè¿‡ä»£ç ä¹‹åå´æ²¡æœ‰ç«‹åˆ»æ‰¾åˆ°å¯èƒ½é€ æˆæ­»é”çš„åŸå› ï¼Œä¸¤å—ä»£ç å¯¹æ•°æ®åº“èµ„æºçš„æ“ä½œå¦‚ä¸‹è¡¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://yemengying.com/qiniu/image/2017-07-17-Screen%20Shot%202017-07-17%20at%2010.16.52%20PM.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;ä»è¡¨é¢ä¸Šçœ‹Session 1è²Œä¼¼ä¸­åªé”äº† actor1 å¹¶æ›´æ–°ï¼ŒSession 2ä¸­ä¾æ¬¡é”äº† actor2 å’Œ actor1ï¼Œä¸æ»¡è¶³äº’ç›¸ç­‰å¾…å¯¹æ–¹åŠ é”çš„èµ„æºï¼Œå°±ç®—æ˜¯Session1æŒæœ‰actor1é”æ—¶é—´è¿‡é•¿ï¼Œå¯¼è‡´ Session2 ä¸€ç›´æ‹¿ä¸åˆ° actor1 çš„é”ï¼Œä¹Ÿåº”è¯¥æŠ¥â€œlock wait timeoutâ€ï¼Œè€Œä¸æ˜¯æ­»é”ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†éªŒè¯ç¡®å®æ˜¯è¿™ä¸¤æ®µä»£ç é€ æˆçš„æ­»é”ï¼Œå†™äº†æµ‹è¯•ä»£ç ï¼Œå¼€äº†ä¸¤ä¸ªçº¿ç¨‹ï¼Œæ¨¡ä»¿æ­»é”çš„è¿™ä¸¤æ®µä»£ç ï¼Œå»æ‰äº†ä¸æ•°æ®åº“æ— å…³çš„ä¸šåŠ¡é€»è¾‘ï¼Œçœ‹çœ‹èƒ½å¦é‡ç°ã€‚æ¯•ç«Ÿå¿ƒé‡Œè¿˜æœ‰ç‚¹å°æ€€ç–‘ï¼Œä¼šä¸ä¼šæ˜¯ DBA æé”™äº†ï¼Œä¸æ˜¯è¿™ä¸¤æ®µä»£ç çš„é—®é¢˜ã€‚&lt;br&gt;ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;41&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;42&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;43&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;44&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;45&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;46&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;47&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;48&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;49&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;50&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;51&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@SpringApplicationConfiguration&lt;/span&gt;(classes = DeadLockTest.class)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@ImportAutoConfiguration&lt;/span&gt;(&amp;#123;CommonConfig.class&amp;#125;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;DeadLockTest&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;BaseUnitDbTest&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  Long lenderId = &lt;span class=&quot;number&quot;&gt;16642L&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  Long borrowerId = &lt;span class=&quot;number&quot;&gt;16643L&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;meta&quot;&gt;@Autowired&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; ActorService actorService;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;meta&quot;&gt;@Autowired&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;meta&quot;&gt;@Qualifier&lt;/span&gt;(CommonConfig.ORACLE_TRANSACTION_MANAGER_NAME)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; PlatformTransactionManager platformTransactionManager;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; ExecutorService es = Executors.newFixedThreadPool(&lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ThreadFactoryBuilder().setNameFormat(&lt;span class=&quot;string&quot;&gt;&quot;Test-Thread-%d&quot;&lt;/span&gt;).build());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;meta&quot;&gt;@Test&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;testRefreshAndLockActor&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;throws&lt;/span&gt; Exception &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    es.invokeAll(Lists.newArrayList(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;::lock1, &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;::lock2));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; Void &lt;span class=&quot;title&quot;&gt;lock1&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    TransactionTemplate t = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; TransactionTemplate(platformTransactionManager);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    t.execute((s) -&amp;gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      System.out.println(&lt;span class=&quot;string&quot;&gt;&quot;Before Lock &quot;&lt;/span&gt; + Thread.currentThread().getName());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      Actor lender = actorService.refreshAndLockActor(lenderId);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      &lt;span class=&quot;keyword&quot;&gt;try&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        Thread.sleep(&lt;span class=&quot;number&quot;&gt;6000&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      &amp;#125; &lt;span class=&quot;keyword&quot;&gt;catch&lt;/span&gt; (InterruptedException e) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        e.printStackTrace();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      lender.setLockedForInv(BigDecimal.ONE);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      actorService.update(lender);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      System.out.println(&lt;span class=&quot;string&quot;&gt;&quot;After Lock &quot;&lt;/span&gt; + Thread.currentThread().getName());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; Void &lt;span class=&quot;title&quot;&gt;lock2&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    TransactionTemplate t = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; TransactionTemplate(platformTransactionManager);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    t.execute((s) -&amp;gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      &lt;span class=&quot;keyword&quot;&gt;try&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        Thread.sleep(&lt;span class=&quot;number&quot;&gt;1000&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      &amp;#125; &lt;span class=&quot;keyword&quot;&gt;catch&lt;/span&gt; (InterruptedException e) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        e.printStackTrace();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      System.out.println(&lt;span class=&quot;string&quot;&gt;&quot;Before Lock &quot;&lt;/span&gt; + Thread.currentThread().getName());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      Actor borrower = actorService.refreshAndLockActor(borrowerId);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      Actor lender = actorService.refreshAndLockActor(lenderId);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      System.out.println(&lt;span class=&quot;string&quot;&gt;&quot;After Lock &quot;&lt;/span&gt; + Thread.currentThread().getName());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ç»“æœã€‚ã€‚ã€‚çœŸçš„æŠ¥äº†æ­»é”ã€‚ã€‚ã€‚ã€‚&lt;br&gt;&lt;img src=&quot;https://pic.yupoo.com/jiananshi/fba203b9/133b7b02.jpeg&quot; alt=&quot;&quot;&gt;&lt;br&gt;æ§åˆ¶å°çš„æŠ¥é”™å¦‚ä¸‹å›¾&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://yemengying.com/qiniu/image/2017-07-17-Screen%20Shot%202017-07-17%20at%2010.19.56%20PM.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;é—®é¢˜åŸå› &quot;&gt;&lt;a href=&quot;#é—®é¢˜åŸå› &quot; class=&quot;headerlink&quot; title=&quot;é—®é¢˜åŸå› &quot;&gt;&lt;/a&gt;é—®é¢˜åŸå› &lt;/h2&gt;&lt;p&gt;å·²ç»ç¡®å®šäº†é€ æˆæ­»é”çš„ä¸¤æ®µä»£ç ï¼Œæ¥ä¸‹æ¥å°±å·®æ‰¾å‡ºåŸå› äº†ã€‚&lt;br&gt;&lt;code&gt;SELECT ... FOR UPDATE&lt;/code&gt;æ¯”è¾ƒç›´è§‚ï¼Œå°±æ˜¯å¯¹èµ„æºåŠ è¡Œçº§æ’ä»–é”ï¼Œåº”è¯¥æ²¡ä»€ä¹ˆçŒ«è…»ã€‚é‚£å°±è‚¯å®šæ˜¯åœ¨&lt;code&gt;UPDATE Actor1&lt;/code&gt;çš„æ—¶å€™æœ‰ä»€ä¹ˆä¸ä¸ºäººçŸ¥çš„æ“ä½œï¼Œå¯¼è‡´ Session1 éœ€è¦è·å– Actor2 çš„é”ï¼Œå¯¼è‡´æ­»é”ã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€æ€€ç–‘çš„æ˜¯è§¦å‘å™¨ï¼Œè™½ç„¶ç›®å‰å…¬å¸å·²ç»ç¦æ­¢ä½¿ç”¨è§¦å‘å™¨äº†ï¼Œä½†ç”±äºå†å²åŸå› ä¸»åº“è¿˜æ˜¯é—ç•™ç€ä¸€äº›è§¦å‘å™¨ã€‚å’Œæ˜ä½³æ’æŸ¥äº†æ‰€æœ‰ç›¸å…³çš„è§¦å‘å™¨ä¹‹åï¼ŒåŸºæœ¬æ’é™¤äº†æ˜¯ç”±è§¦å‘å™¨å¼•èµ·çš„ã€‚&lt;/p&gt;
&lt;p&gt;ä¸è¿‡è™½ç„¶è¿™ä¸ªé—®é¢˜ä¸æ˜¯è§¦å‘å™¨çš„é”…ï¼Œä½†è¿˜æ˜¯æä¼šåˆ°äº†ï¼Œåœ¨æ¶‰åŠåˆ°è§¦å‘å™¨æ—¶ï¼Œå¦‚æœä¸æ˜¯å¯¹ç³»ç»Ÿç‰¹åˆ«ç†Ÿï¼Œæ’æŸ¥é”™è¯¯çœŸçš„å¾ˆå›°éš¾ã€‚ã€‚ã€‚&lt;/p&gt;
&lt;p&gt;æ’é™¤äº†è§¦å‘å™¨ä¹‹åï¼ŒDBA æå‡ºé‚£å°±åªèƒ½æ˜¯å¤–é”®å¯¼è‡´çš„äº†ã€‚åœ¨ DBA æŠŠ devç¯å¢ƒæ•°æ®åº“çš„å¤–é”®å»æ‰åï¼Œå†æ¬¡æ‰§è¡Œæµ‹è¯•ä»£ç ï¼Œæœç„¶å°±ä¸å†æŠ¥æ­»é”äº†ã€‚&lt;/p&gt;
&lt;p&gt;åŸæ¥ Actor è¡¨ä¸Šçš„ refer_id æ˜¯ä¸€ä¸ªå…³è” Actor è¡¨ä¸»é”®çš„å¤–é”®(Self-Referential Integrity Constraints)ï¼Œè€Œ actor1 çš„ refer_id æ­£å¥½æ˜¯ actor2 çš„ idï¼Œæ‰€ä»¥åœ¨æ›´æ–° actor1 çš„å…¨å­—æ®µçš„æ—¶å€™ï¼Œä¹Ÿæ›´æ–°äº† refer_id(å…¶å®å€¼æ²¡å˜)ï¼Œç”±äºå¤–é”®çš„çº¦æŸï¼Œåœ¨å°† actor1 çš„ refer_id æ›´æ–°ä¸º actor2çš„ id æ—¶ï¼Œéœ€è¦ç¡®ä¿ actor2 æ˜¯å­˜åœ¨çš„ï¼Œå¹¶ä¸”åœ¨æ›´æ–°è¿‡ç¨‹ä¸­ï¼Œä¸èƒ½è¢«åˆ é™¤ï¼Œæ‰€ä»¥ Session1 ä¼šç”³è¯· actor2 çš„é”(ä¸ªäººç†è§£ä¸ä¸€å®šå‡†ç¡®)ã€‚è€Œè¿™æ—¶ actor2 çš„é”å·²ç»è¢« Session2 æŒæœ‰äº†ï¼Œå¹¶ä¸” Session2 æ­£åœ¨ç­‰å¾… actor1 çš„é”ï¼Œå°±å‘ç”Ÿäº†æ­»é”ã€‚&lt;/p&gt;
&lt;p&gt;ç”¨å›¾æ¥æè¿°ä¸‹ï¼š&lt;br&gt;&lt;img src=&quot;https://pic.yupoo.com/jiananshi/d09831f3/41ba745e.jpg&quot; alt=&quot;deadlock&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;è§£å†³åŠæ³•&quot;&gt;&lt;a href=&quot;#è§£å†³åŠæ³•&quot; class=&quot;headerlink&quot; title=&quot;è§£å†³åŠæ³•&quot;&gt;&lt;/a&gt;è§£å†³åŠæ³•&lt;/h2&gt;&lt;p&gt;è´¹äº†ä¸€å¤©å¤šæ‰æŠŠé—®é¢˜æ‰¾å‡ºæ¥ï¼Œç”¨äº†å‡ åˆ†é’Ÿå°± fix äº†ã€‚å…¶å®æˆ‘åªæ˜¯éœ€è¦æ›´æ–° Actor ä¸Šçš„ä¸¤ä¸ªå­—æ®µï¼Œæ ¹æœ¬ä¸éœ€è¦æ›´æ–°å…¨éƒ¨å­—æ®µï¼Œåªæ˜¯å½“æ—¶åœ¨å†™çš„æ—¶å€™å·²ç»æœ‰æ›´æ–°å…¨å­—æ®µçš„æ–¹æ³•äº†ï¼Œå°±å·äº†ä¸ªæ‡’ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥è§£å†³åŠæ³•å°±æ˜¯ä¸å†è°ƒç”¨æ›´æ–°å…¨å­—æ®µçš„æ–¹æ³•ï¼ŒåŠ äº†ä¸ªåªæ›´æ–°éƒ¨åˆ†å­—æ®µçš„æ–¹æ³•ï¼Œè¿™æ ·å°±ä¸ä¼šåœ¨æ›´æ–° actor1 çš„å¤–é”®å­—æ®µäº†ï¼Œä¹Ÿå°±ä¸ä¼šé€ æˆåœ¨æ›´æ–° actor1 çš„æ—¶å€™å»è¯·æ±‚ actor2 çš„é”äº†ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æ€»ç»“&quot;&gt;&lt;a href=&quot;#æ€»ç»“&quot; class=&quot;headerlink&quot; title=&quot;æ€»ç»“&quot;&gt;&lt;/a&gt;æ€»ç»“&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;è™½ç„¶è¿™ä¸ªé—®é¢˜ä¸æ˜¯è§¦å‘å™¨å¼•èµ·çš„ï¼Œä½†ç¦ç”¨è§¦å‘å™¨è¿˜æ˜¯å¾ˆæœ‰é“ç†æ»´ï¼Œä¸ç„¶å‡ºé—®é¢˜æŸ¥åˆ°åè¡€&lt;/li&gt;
&lt;li&gt;å¤–é”®è¿™ä¸ªä¸œä¸œï¼Œä¹Ÿèƒ½ä¸ç”¨å°±ä¸ç”¨å§ï¼Œç”±ç¨‹åºæ§åˆ¶ã€‚å…¶å®ç°åœ¨å…¬å¸å·²ç»ä¸è®©ç”¨å¤–é”®å’Œè§¦å‘å™¨äº†ï¼Œä¸è¿‡ç”±äºå†å²åŸå› ï¼Œä¸€äº›è€ç³»ç»Ÿåªèƒ½æ…¢æ…¢é‡æ„äº†ã€‚æŸ¥äº†ä¸‹ï¼Œç”±äºå¤–é”®å¼•èµ·çš„æ­»é”è¿˜æ˜¯è›®å¤šçš„ï¼Œæ¯”è¾ƒå¸¸è§çš„æ˜¯å¤–é”®åˆ—ä¸åŠ ç´¢å¼•ï¼Œå¯¼è‡´æ›´æ–°ä¸»è¡¨å­—æ®µæ—¶é”ä½äº†å­è¡¨ï¼Œä¸‹ç¯‡blogå¯ä»¥å­¦ä¹ ä¸‹å¤–é”®å’Œæ­»é”ä¸å¾—ä¸è¯´çš„é‚£äº›äº‹ã€‚ç®—äº†ï¼Œè¿˜æ˜¯ä¸ç«‹ flag äº†ï¼ŒåŸºæœ¬ä¸Šè¯´äº†ä¸‹ç¯‡è¦å†™å•¥çš„ï¼Œéƒ½æ²¡æœ‰ä¸‹ç¯‡äº†ã€‚ã€‚ã€‚ã€‚&lt;/li&gt;
&lt;li&gt;ä¸è¦æ›´æ–°å…¨å­—æ®µã€‚æŠ›å¼€è¿™ä¸ªæ­»é”é—®é¢˜ï¼Œæ›´æ–°å…¨å­—æ®µä¹Ÿæ˜¯å¾ˆå½±å“æ•ˆç‡çš„ã€‚è¿˜æ˜¯åªæ›´æ–°æœ‰æ”¹åŠ¨çš„å­—æ®µå§ã€‚&lt;/li&gt;
&lt;li&gt;ä¸èƒ½å·æ‡’ï¼Œå½“æ—¶çœäº†5åˆ†é’Ÿï¼Œæ‰¾ bug èŠ±äº†ä¸€å¤©å¤šã€‚ã€‚ã€‚éƒ½æ˜¯æ³ª&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;é—ç•™é—®é¢˜&quot;&gt;&lt;a href=&quot;#é—ç•™é—®é¢˜&quot; class=&quot;headerlink&quot; title=&quot;é—ç•™é—®é¢˜&quot;&gt;&lt;/a&gt;é—ç•™é—®é¢˜&lt;/h2&gt;&lt;p&gt;é—®é¢˜è™½ç„¶è§£å†³äº†ï¼Œä½†æ˜¯è¿˜æœ‰ç‚¹å°ç–‘é—®çš„ã€‚è¿™ä¸ªæ­»é”åœ¨ trace file ä¸­çš„æ­»é”å›¾å¦‚ä¸‹ï¼š&lt;br&gt;&lt;img src=&quot;https://pic.yupoo.com/jiananshi/f886128b/74344a68.jpg&quot; alt=&quot;trace file&quot;&gt;&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œä¸¤ä¸ª session æŒæœ‰ä¸¤ä¸ªèµ„æºçš„ X é”è¿˜æ˜¯å¥½ç†è§£çš„ï¼Œä½†ä»–ä»¬ç­‰å¾…çš„ä¸ºä»€ä¹ˆæ˜¯ S é”å‘¢ï¼Ÿï¼Ÿï¼Ÿè‡³å°‘ Session2 æ˜¯åœ¨ç­‰å¾… actor1 çš„æ’ä»–è¡Œçº§é”çš„ï¼Œä¸åº”è¯¥æ˜¯ä¹Ÿæ˜¯ç­‰å¾… X ä¹ˆã€‚æ±‚å¥½å¿ƒäººçš„è§£ç­”ã€‚&lt;br&gt;&lt;img src=&quot;https://yemengying.com/qiniu/image/2017-07-17-Screen%20Shot%202017-07-14%20at%204.37.56%20PM.png?imageMogr2/thumbnail/300x250!&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt; æœ€è¿‘çº¿ä¸Šå¶å°”å°±ä¼šæŠ¥ä¸ªæ­»é”é—®é¢˜ï¼Œä¸Šå‘¨ç»ˆäºè§£å†³äº†,å‘¨æœ«æ•´ç†ä¸‹ã€‚è™½ç„¶é—®é¢˜è§£å†³äº†ï¼Œä½†æ˜¯trace fileé‡Œçš„æ­»é”å›¾è¿˜æ˜¯ä¸å¤ªç†è§£ã€‚è¦æ˜¯æœ‰äººèƒ½ç»™æˆ‘è®²è®²é‚£çœŸæ˜¯æå¥½çš„ï¼Œè¦æ˜¯æ²¡äººçš„è¯æˆ‘å°±ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚å†ç¿»ç¿»æ–‡æ¡£ã€‚ &lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="Oracle" scheme="http://yemengying.com/categories/Oracle/"/>
    
    
      <category term="Oracle" scheme="http://yemengying.com/tags/Oracle/"/>
    
  </entry>
  
  <entry>
    <title>ã€è¯‘ã€‘Redditå¦‚ä½•ç»Ÿè®¡æ¯ä¸ªå¸–å­çš„æµè§ˆé‡</title>
    <link href="http://yemengying.com/2017/06/04/reddit-view-counting/"/>
    <id>http://yemengying.com/2017/06/04/reddit-view-counting/</id>
    <published>2017-06-04T05:26:17.000Z</published>
    <updated>2018-12-13T04:01:09.000Z</updated>
    
    <content type="html">&lt;blockquote&gt;
&lt;p&gt;ä¹‹å‰æ²¡å¬è¿‡ä¹Ÿæ²¡äº†è§£è¿‡ HyperLogLogï¼Œé€šè¿‡ç¿»è¯‘è¿™ç¯‡æ–‡ç« æ­£å¥½ç®€å•å­¦ä¹ ä¸‹ã€‚æ¬¢è¿æŒ‡æ­£é”™è¯¯~&lt;/p&gt;
&lt;/blockquote&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;&lt;a href=&quot;https://redditblog.com/2017/05/24/view-counting-at-reddit/?utm_source=wanqu.co&amp;amp;utm_campaign=Wanqu+Daily&amp;amp;utm_medium=website&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;åŸæ–‡é“¾æ¥&lt;/a&gt;ğŸ˜ğŸ¤—ğŸ˜‰&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://pic.yupoo.com/jiananshi/8afc30ad/b2e3cd7c.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬æƒ³è¦æ›´å¥½çš„å‘ç”¨æˆ·å±•ç¤º Reddit çš„è§„æ¨¡ã€‚ä¸ºäº†è¿™ä¸€ç‚¹ï¼ŒæŠ•ç¥¨å’Œè¯„è®ºæ•°æ˜¯ä¸€ä¸ªå¸–å­æœ€é‡è¦çš„æŒ‡æ ‡ã€‚ç„¶è€Œï¼Œåœ¨ Reddit ä¸Šæœ‰ç›¸å½“å¤šçš„ç”¨æˆ·åªæµè§ˆå†…å®¹ï¼Œæ—¢ä¸æŠ•ç¥¨ä¹Ÿä¸è¯„è®ºã€‚æ‰€ä»¥æˆ‘ä»¬æƒ³è¦å»ºç«‹ä¸€ä¸ªèƒ½å¤Ÿè®¡ç®—ä¸€ä¸ªå¸–å­æµè§ˆæ•°çš„ç³»ç»Ÿã€‚è¿™ä¸€æ•°å­—ä¼šè¢«å±•ç¤ºç»™å¸–å­çš„åˆ›ä½œè€…å’Œç‰ˆä¸»ï¼Œä»¥ä¾¿ä»–ä»¬æ›´å¥½çš„äº†è§£æŸä¸ªå¸–å­çš„æ´»è·ƒç¨‹åº¦ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://pic.yupoo.com/jiananshi/24277564/dc03ba12.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;åœ¨è¿™ç¯‡åšå®¢ä¸­ï¼Œæˆ‘ä»¬å°†è®¨è®ºæˆ‘ä»¬æ˜¯å¦‚ä½•å®ç°è¶…å¤§æ•°æ®é‡çš„è®¡æ•°ã€‚&lt;/p&gt;
&lt;h2 id=&quot;è®¡æ•°æœºåˆ¶&quot;&gt;&lt;a href=&quot;#è®¡æ•°æœºåˆ¶&quot; class=&quot;headerlink&quot; title=&quot;è®¡æ•°æœºåˆ¶&quot;&gt;&lt;/a&gt;è®¡æ•°æœºåˆ¶&lt;/h2&gt;&lt;p&gt;å¯¹äºè®¡æ•°ç³»ç»Ÿæˆ‘ä»¬ä¸»è¦æœ‰å››ç§éœ€æ±‚:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¸–å­æµè§ˆæ•°å¿…é¡»æ˜¯å®æ—¶æˆ–è€…è¿‘å®æ—¶çš„ï¼Œè€Œä¸æ˜¯æ¯å¤©æˆ–è€…æ¯å°æ—¶æ±‡æ€»ã€‚&lt;/li&gt;
&lt;li&gt;åŒä¸€ç”¨æˆ·åœ¨çŸ­æ—¶é—´å†…å¤šæ¬¡è®¿é—®å¸–å­ï¼Œåªç®—ä¸€ä¸ªæµè§ˆé‡&lt;/li&gt;
&lt;li&gt;æ˜¾ç¤ºçš„æµè§ˆé‡ä¸çœŸå®æµè§ˆé‡é—´å…è®¸æœ‰å°ç™¾åˆ†ä¹‹å‡ çš„è¯¯å·®&lt;/li&gt;
&lt;li&gt;Reddit æ˜¯å…¨çƒè®¿é—®é‡ç¬¬å…«çš„ç½‘ç«™ï¼Œç³»ç»Ÿè¦èƒ½åœ¨ç”Ÿäº§ç¯å¢ƒçš„è§„æ¨¡ä¸Šæ­£å¸¸è¿è¡Œï¼Œä»…å…è®¸å‡ ç§’çš„å»¶è¿Ÿ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¦å…¨éƒ¨æ»¡è¶³ä»¥ä¸Šå››ä¸ªéœ€æ±‚çš„å›°éš¾è¿œè¿œæ¯”å¬ä¸Šå»å¤§çš„å¤šã€‚ä¸ºäº†å®æ—¶ç²¾å‡†è®¡æ•°ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“æŸä¸ªç”¨æˆ·æ˜¯å¦æ›¾ç»è®¿é—®è¿‡è¿™ç¯‡å¸–å­ã€‚æƒ³è¦çŸ¥é“è¿™ä¸ªä¿¡æ¯ï¼Œæˆ‘ä»¬å°±è¦ä¸ºæ¯ç¯‡å¸–å­ç»´æŠ¤ä¸€ä¸ªè®¿é—®ç”¨æˆ·çš„é›†åˆï¼Œç„¶ååœ¨æ¯æ¬¡è®¡ç®—æµè§ˆé‡æ—¶æ£€æŸ¥é›†åˆã€‚ä¸€ä¸ª naive çš„å®ç°æ–¹å¼å°±æ˜¯å°†è®¿é—®ç”¨æˆ·çš„é›†åˆå­˜å‚¨åœ¨å†…å­˜çš„ hashMap ä¸­ï¼Œä»¥å¸–å­ Id ä¸º keyã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç§å®ç°æ–¹å¼å¯¹äºè®¿é—®é‡ä½çš„å¸–å­æ˜¯å¯è¡Œçš„ï¼Œä½†ä¸€æ—¦ä¸€ä¸ªå¸–å­å˜å¾—æµè¡Œï¼Œè®¿é—®é‡å‰§å¢æ—¶å°±å¾ˆéš¾æ§åˆ¶äº†ã€‚ç”šè‡³æœ‰çš„å¸–å­æœ‰è¶…è¿‡ 100 ä¸‡çš„ç‹¬ç«‹è®¿å®¢ï¼ å¯¹äºè¿™æ ·çš„å¸–å­ï¼Œå­˜å‚¨ç‹¬ç«‹è®¿å®¢çš„ ID  å¹¶ä¸”é¢‘ç¹æŸ¥è¯¢æŸä¸ªç”¨æˆ·æ˜¯å¦ä¹‹å‰æ›¾è®¿é—®è¿‡ä¼šç»™å†…å­˜å’Œ CPU é€ æˆå¾ˆå¤§çš„è´Ÿæ‹…ã€‚&lt;/p&gt;
&lt;p&gt;å› ä¸ºæˆ‘ä»¬ä¸èƒ½æä¾›å‡†ç¡®çš„è®¡æ•°ï¼Œæˆ‘ä»¬æŸ¥çœ‹äº†å‡ ç§ä¸åŒçš„&lt;a href=&quot;https://en.wikipedia.org/wiki/Count-distinct_problem&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;åŸºæ•°ä¼°è®¡ç®—æ³•&lt;/a&gt;ã€‚æœ‰ä¸¤ä¸ªç¬¦åˆæˆ‘ä»¬éœ€æ±‚çš„é€‰æ‹©ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸€æ˜¯çº¿æ€§æ¦‚ç‡è®¡æ•°æ³•ï¼Œå¾ˆå‡†ç¡®ï¼Œä½†å½“è®¡æ•°é›†åˆå˜å¤§æ—¶æ‰€éœ€å†…å­˜ä¼šçº¿æ€§å˜å¤§ã€‚&lt;/li&gt;
&lt;li&gt;äºŒæ˜¯åŸºäº &lt;a href=&quot;http://algo.inria.fr/flajolet/Publications/FlFuGaMe07.pdf&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;HyperLogLog&lt;/a&gt; (ä»¥ä¸‹ç®€ç§° HLL )çš„è®¡æ•°æ³•ã€‚ HLL ç©ºé—´å¤æ‚åº¦è¾ƒä½ï¼Œä½†æ˜¯ç²¾ç¡®åº¦ä¸å¦‚çº¿æ€§è®¡æ•°ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸‹é¢çœ‹ä¸‹ HLL ä¼šèŠ‚çœå¤šå°‘å†…å­˜ã€‚å¦‚æœæˆ‘ä»¬éœ€è¦å­˜å‚¨ 100 ä¸‡ä¸ªç‹¬ç«‹è®¿å®¢çš„ ID, æ¯ä¸ªç”¨æˆ· ID 8 å­—èŠ‚é•¿ï¼Œé‚£ä¹ˆä¸ºäº†å­˜å‚¨ä¸€ç¯‡å¸–å­çš„ç‹¬ç«‹è®¿å®¢æˆ‘ä»¬å°±éœ€è¦ 8 Mçš„å†…å­˜ã€‚åä¹‹ï¼Œå¦‚æœé‡‡ç”¨ HLL  ä¼šæ˜¾è‘—å‡å°‘å†…å­˜å ç”¨ã€‚ä¸åŒçš„ HLL å®ç°æ–¹å¼æ¶ˆè€—çš„å†…å­˜ä¸åŒã€‚å¦‚æœé‡‡ç”¨&lt;a href=&quot;http://antirez.com/news/75&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;è¿™ç¯‡æ–‡ç« &lt;/a&gt;çš„å®ç°æ–¹æ³•ï¼Œé‚£ä¹ˆå­˜å‚¨ 100 ä¸‡ä¸ª ID ä»…éœ€ 12 KBï¼Œæ˜¯åŸæ¥çš„ 0.15%ï¼ï¼&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://highscalability.com/blog/2012/4/5/big-data-counting-how-to-count-a-billion-distinct-objects-us.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Big Data Counting: How to count a billion distinct objects using only 1.5KB of Memory - High Scalability -&lt;/a&gt;è¿™ç¯‡æ–‡ç« å¾ˆå¥½çš„æ€»ç»“äº†ä¸Šé¢çš„ç®—æ³•ã€‚&lt;/p&gt;
&lt;p&gt;è®¸å¤š HLL çš„å®ç°éƒ½æ˜¯ç»“åˆäº†ä¸Šé¢ä¸¤ç§ç®—æ³•ã€‚åœ¨é›†åˆå°çš„æ—¶å€™é‡‡ç”¨çº¿æ€§è®¡æ•°ï¼Œå½“é›†åˆå¤§å°åˆ°è¾¾ä¸€å®šçš„é˜ˆå€¼ååˆ‡æ¢åˆ° HLLã€‚å‰è€…é€šå¸¸è¢«æˆä¸º â€ç¨€ç–â€œ(sparse) HLLï¼Œåè€…è¢«ç§°ä¸ºâ€ç¨ å¯†â€œ(dense) HLLã€‚è¿™ç§ç»“åˆäº†ä¸¤ç§ç®—æ³•çš„å®ç°æœ‰å¾ˆå¤§çš„å¥½å¤„ï¼Œå› ä¸ºå®ƒå¯¹äºå°é›†åˆå’Œå¤§é›†åˆéƒ½èƒ½å¤Ÿä¿è¯ç²¾ç¡®åº¦ï¼ŒåŒæ—¶ä¿è¯äº†é€‚åº¦çš„å†…å­˜å¢é•¿ã€‚å¯ä»¥åœ¨ google çš„è¿™ç¯‡&lt;a href=&quot;https://stefanheule.com/papers/edbt13-hyperloglog.pdf&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;è®ºæ–‡&lt;/a&gt;ä¸­äº†è§£è¿™ç§å®ç°çš„è¯¦ç»†å†…å®¹ã€‚&lt;/p&gt;
&lt;p&gt;ç°åœ¨æˆ‘ä»¬å·²ç»ç¡®å®šè¦é‡‡ç”¨ HLL ç®—æ³•äº†ï¼Œä¸è¿‡åœ¨é€‰æ‹©å…·ä½“çš„å®ç°æ—¶ï¼Œæˆ‘ä»¬è€ƒè™‘äº†ä»¥ä¸‹ä¸‰ç§ä¸åŒçš„å®ç°ã€‚å› ä¸ºæˆ‘ä»¬çš„æ•°æ®å·¥ç¨‹å›¢é˜Ÿä½¿ç”¨ Java å’Œ Scalaï¼Œæ‰€ä»¥æˆ‘ä»¬åªè€ƒè™‘ Java å’Œ Scala çš„å®ç°ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Twitter æä¾›çš„ &lt;a href=&quot;https://twitter.github.io/algebird/datatypes/approx/hyperloglog.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Algebird&lt;/a&gt;ï¼Œé‡‡ç”¨ Scala å®ç°ã€‚Algebird æœ‰å¾ˆå¥½çš„æ–‡æ¡£ï¼Œä½†ä»–ä»¬å¯¹äº sparse å’Œ dense HLL çš„å®ç°ç»†èŠ‚ä¸æ˜¯å¾ˆå®¹æ˜“ç†è§£ã€‚&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/addthis/stream-lib&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;stream-lib&lt;/a&gt;ä¸­æä¾›çš„ HyperLogLog++ï¼Œ é‡‡ç”¨ Java å®ç°ã€‚stream-lib ä¸­çš„ä»£ç æ–‡æ¡£é½å…¨ï¼Œä½†æœ‰äº›éš¾ç†è§£å¦‚ä½•åˆé€‚çš„ä½¿ç”¨å¹¶ä¸”æ”¹é€ çš„ç¬¦åˆæˆ‘ä»¬çš„éœ€æ±‚ã€‚&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://antirez.com/news/75&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Redis HLL å®ç°&lt;/a&gt;ï¼Œè¿™æ˜¯æˆ‘ä»¬æœ€ç»ˆé€‰æ‹©çš„ã€‚æˆ‘ä»¬è®¤ä¸º Redis ä¸­ HLLs çš„å®ç°æ–‡æ¡£é½å…¨ã€å®¹æ˜“é…ç½®ï¼Œæä¾›çš„ç›¸å…³ API ä¹Ÿå¾ˆå®¹æ˜“é›†æˆã€‚è¿˜æœ‰ä¸€ä¸ªå¥½å¤„æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸€å°ä¸“é—¨çš„æœåŠ¡å™¨éƒ¨ç½²ï¼Œä»è€Œå‡è½»æ€§èƒ½ä¸Šçš„å‹åŠ›ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;//yemengying.com/qiniu/image/2017-06-03-Screen%20Shot%202017-06-03%20at%207.58.59%20PM.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;Reddit çš„æ•°æ®ç®¡é“ä¾èµ–äº Kafkaã€‚å½“ä¸€ä¸ªç”¨æˆ·è®¿é—®äº†ä¸€ç¯‡åšå®¢ï¼Œä¼šè§¦å‘ä¸€ä¸ªäº‹ä»¶ï¼Œäº‹ä»¶ä¼šè¢«å‘é€åˆ°äº‹ä»¶æ”¶é›†æœåŠ¡å™¨ï¼Œå¹¶è¢«æŒä¹…åŒ–åœ¨ Kafka ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;ä¹‹åï¼Œè®¡æ•°ç³»ç»Ÿä¼šä¾æ¬¡é¡ºåºè¿è¡Œä¸¤ä¸ªç»„ä»¶ã€‚åœ¨æˆ‘ä»¬çš„è®¡æ•°ç³»ç»Ÿæ¶æ„ä¸­ï¼Œç¬¬ä¸€éƒ¨åˆ†æ˜¯ä¸€ä¸ª Kafka çš„æ¶ˆè´¹è€…ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º Nazarã€‚Nazar ä¼šä» Kafka ä¸­è¯»å–æ¯ä¸ªäº‹ä»¶ï¼Œå¹¶å°†å®ƒé€šè¿‡ä¸€ç³»åˆ—é…ç½®çš„è§„åˆ™æ¥åˆ¤æ–­è¯¥äº‹ä»¶æ˜¯å¦éœ€è¦è¢«è®¡æ•°ã€‚æˆ‘ä»¬å–è¿™ä¸ªåå­—ä»…ä»…æ˜¯å› ä¸º Nazar æ˜¯ä¸€ä¸ªçœ¼ç›å½¢çŠ¶çš„æŠ¤èº«ç¬¦ï¼Œè€Œ â€Nazarâ€œ ç³»ç»Ÿå°±åƒçœ¼ç›ä¸€æ ·ä½¿æˆ‘ä»¬çš„è®¡æ•°ç³»ç»Ÿè¿œç¦»ä¸æ€€å¥½æ„è€…çš„ç ´åã€‚å…¶ä¸­ä¸€ä¸ªæˆ‘ä»¬ä¸å°†ä¸€ä¸ªäº‹ä»¶è®¡ç®—åœ¨å†…çš„åŸå› å°±æ˜¯åŒä¸€ä¸ªç”¨æˆ·åœ¨å¾ˆçŸ­æ—¶é—´å†…é‡å¤è®¿é—®ã€‚Nazar ä¼šä¿®æ”¹äº‹ä»¶ï¼ŒåŠ ä¸Šä¸ªæ ‡æ˜æ˜¯å¦åº”è¯¥è¢«è®¡æ•°çš„å¸ƒå°”æ ‡è¯†ï¼Œå¹¶å°†äº‹ä»¶é‡æ–°æ”¾å…¥ Kafkaã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢å°±åˆ°äº†ç³»ç»Ÿçš„ç¬¬äºŒä¸ªéƒ¨åˆ†ã€‚æˆ‘ä»¬å°†ç¬¬äºŒä¸ª Kafka çš„æ¶ˆè´¹è€…ç§°ä½œ Abacusï¼Œç”¨æ¥è¿›è¡ŒçœŸæ­£æµè§ˆé‡çš„è®¡ç®—ï¼Œå¹¶ä¸”å°†è®¡ç®—ç»“æœæ˜¾ç¤ºåœ¨ç½‘ç«™æˆ–å®¢æˆ·ç«¯ã€‚Abacus ä» Kafka ä¸­è¯»å–ç»è¿‡ Nazar å¤„ç†è¿‡çš„äº‹ä»¶ï¼Œå¹¶æ ¹æ® Nazar çš„å¤„ç†ç»“æœå†³å®šæ˜¯è·³è¿‡è¿™ä¸ªäº‹ä»¶è¿˜æ˜¯å°†å…¶åŠ å…¥è®¡æ•°ã€‚å¦‚æœ Nazar ä¸­çš„å¤„ç†ç»“æœæ˜¯å¯ä»¥åŠ å…¥è®¡æ•°ï¼Œé‚£ä¹ˆ Abacus é¦–å…ˆä¼šæ£€æŸ¥è¿™ä¸ªäº‹ä»¶æ‰€å…³è”çš„å¸–å­åœ¨ Redis ä¸­æ˜¯å¦å·²ç»å­˜åœ¨äº†ä¸€ä¸ª HLL è®¡æ•°å™¨ã€‚å¦‚æœå·²ç»å­˜åœ¨ï¼ŒAbacus ä¼šç»™ Redis å‘é€ä¸ª PFADD çš„è¯·æ±‚ã€‚å¦‚æœä¸å­˜åœ¨ï¼Œé‚£ä¹ˆ Abacus ä¼šç»™ Cassandra é›†ç¾¤å‘é€ä¸ªè¯·æ±‚ï¼ˆCassandra ç”¨æ¥æŒä¹…åŒ– HLL è®¡æ•°å™¨å’Œ è®¡æ•°å€¼çš„ï¼‰ï¼Œç„¶åå‘ Redis å‘é€ &lt;a href=&quot;https://redis.io/commands/set&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;SET&lt;/a&gt;  è¯·æ±‚ã€‚è¿™é€šå¸¸ä¼šå‘ç”Ÿåœ¨ç½‘å‹è®¿é—®è¾ƒè€å¸–å­çš„æ—¶å€™ï¼Œè¿™æ—¶è¯¥å¸–å­çš„è®¡æ•°å™¨å¾ˆå¯èƒ½å·²ç»åœ¨ Redis ä¸­è¿‡æœŸäº†ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†å­˜å‚¨å­˜åœ¨ Redis ä¸­çš„è®¡æ•°å™¨è¿‡æœŸçš„è€å¸–å­çš„æµè§ˆé‡ã€‚Abacus ä¼šå‘¨æœŸæ€§çš„å°† Redis ä¸­å…¨éƒ¨çš„ HLL å’Œ æ¯ç¯‡å¸–å­çš„æµè§ˆé‡å†™å…¥åˆ° Cassandra é›†ç¾¤ä¸­ã€‚ä¸ºäº†é¿å…é›†ç¾¤è¿‡è½½ï¼Œæˆ‘ä»¬ä»¥ 10 ç§’ä¸ºå‘¨æœŸæ‰¹é‡å†™å…¥ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹å›¾æ˜¯äº‹ä»¶æµçš„å¤§è‡´æµç¨‹ï¼š&lt;br&gt;&lt;img src=&quot;https://pic.yupoo.com/jiananshi/387a1243/4a4db997.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;æ€»ç»“&quot;&gt;&lt;a href=&quot;#æ€»ç»“&quot; class=&quot;headerlink&quot; title=&quot;æ€»ç»“&quot;&gt;&lt;/a&gt;æ€»ç»“&lt;/h2&gt;&lt;p&gt;æˆ‘ä»¬å¸Œæœ›æµè§ˆé‡å¯ä»¥è®©å‘å¸–è€…äº†è§£å¸–å­å…¨éƒ¨çš„è®¿é—®é‡ï¼Œä¹Ÿå¸®åŠ©ç‰ˆä¸»å¿«é€Ÿå®šä½è‡ªå·±ç¤¾åŒºä¸­é«˜è®¿é—®é‡çš„å¸–å­ã€‚åœ¨æœªæ¥ï¼Œæˆ‘ä»¬è®¡åˆ’åˆ©ç”¨æˆ‘ä»¬æ•°æ®ç®¡é“åœ¨å®æ—¶æ–¹é¢çš„æ½œåŠ›æ¥ä¸º Reddit çš„ç”¨æˆ·æä¾›æ›´å¤šçš„æœ‰ç”¨çš„åé¦ˆã€‚&lt;/p&gt;
&lt;p&gt;â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”åˆ†å‰²çº¿â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”-&lt;/p&gt;
&lt;p&gt;è¿™å‘¨ä¸€å®šè¦çœ‹å®Œã€Šåœ°çƒä¸Šçš„æ˜Ÿæ˜Ÿã€‹ğŸ’ª&lt;br&gt;&lt;img src=&quot;https://pic.yupoo.com/jiananshi/36d4bd87/8761312e.jpg&quot; alt=&quot;Like stars on earth&quot;&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;ä¹‹å‰æ²¡å¬è¿‡ä¹Ÿæ²¡äº†è§£è¿‡ HyperLogLogï¼Œé€šè¿‡ç¿»è¯‘è¿™ç¯‡æ–‡ç« æ­£å¥½ç®€å•å­¦ä¹ ä¸‹ã€‚æ¬¢è¿æŒ‡æ­£é”™è¯¯~&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="ç¿»è¯‘" scheme="http://yemengying.com/categories/%E7%BF%BB%E8%AF%91/"/>
    
    
      <category term="ç¿»è¯‘" scheme="http://yemengying.com/tags/%E7%BF%BB%E8%AF%91/"/>
    
  </entry>
  
  <entry>
    <title>MySQL å”¯ä¸€æ€§çº¦æŸä¸ NULL</title>
    <link href="http://yemengying.com/2017/05/18/mysql-unique-key-null/"/>
    <id>http://yemengying.com/2017/05/18/mysql-unique-key-null/</id>
    <published>2017-05-18T14:35:54.000Z</published>
    <updated>2018-12-13T04:02:58.000Z</updated>
    
    <content type="html">&lt;blockquote&gt;
&lt;p&gt;å¾ˆä¹…ä¹‹å‰çš„ä¸€ä¸ª bug äº†ï¼Œç®€å•è®°å½•ä¸‹ã€‚ã€‚ã€‚ &lt;/p&gt;
&lt;/blockquote&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;ä¹‹å‰åšçš„ä¸€ä¸ªéœ€æ±‚ï¼Œç®€åŒ–æè¿°ä¸‹å°±æ˜¯æ¥å—å…¶ä»–ç»„çš„ MQ çš„æ¶ˆæ¯ï¼Œç„¶ååœ¨æ•°æ®åº“é‡Œæ’å…¥ä¸€æ¡è®°å½•ã€‚ä¸ºäº†é˜²æ­¢ä»–ä»¬é‡å¤å‘æ¶ˆæ¯ï¼Œæ’å…¥å¤šæ¡é‡å¤è®°å½•ï¼Œæ‰€ä»¥åœ¨è¡¨ä¸­çš„å‡ ä¸ªåˆ—ä¸ŠåŠ äº†ä¸ªå”¯ä¸€æ€§ç´¢å¼•ã€‚&lt;br&gt;&lt;figure class=&quot;highlight sql&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;UNIQUE&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;INDEX&lt;/span&gt; IDX_UN_LOAN_PLAN_APP &lt;span class=&quot;keyword&quot;&gt;ON&lt;/span&gt; testTable (A, B, C);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;è¿™æ—¶ A,B,C ä¸‰åˆ—éƒ½æ˜¯ä¸å…è®¸ NULL å€¼çš„ï¼Œå”¯ä¸€æ€§çº¦æŸä¹Ÿæ˜¯ work çš„ã€‚&lt;br&gt;åæ¥ç”±äºéœ€æ±‚çš„å˜åŒ–ï¼Œä¿®æ”¹äº†ä»¥å‰çš„å”¯ä¸€æ€§çº¦æŸï¼Œåˆå¤šåŠ äº†ä¸€åˆ—ã€‚(è‡³äºä¸ºä»€ä¹ˆåŠ å°±ä¸èµ˜è¿°äº†)ã€‚&lt;br&gt;&lt;figure class=&quot;highlight sql&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;ALTER&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;TABLE&lt;/span&gt; testTable&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;DROP&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;INDEX&lt;/span&gt; IDX_UN_LOAN_PLAN_APP,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;ADD&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;UNIQUE&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;KEY&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;`IDX_UN_LOAN_PLAN_APP`&lt;/span&gt; (A, B, C, D);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;æ–°åŠ çš„ D æ˜¯ç±»å‹æ˜¯ datetime, å…è®¸ä¸º NULLï¼Œé»˜è®¤å€¼ä¸º NULLã€‚ä¹‹æ‰€ä»¥é»˜è®¤å€¼ä¸º NULLï¼Œæ˜¯è€ƒè™‘åˆ°ä¸æ˜¯æ‰€æœ‰è®°å½•éƒ½æœ‰è¿™ä¸ªæ—¶é—´çš„ï¼Œ å¦‚æœå¼ºè¡Œè®¾ç½®ä¸€ä¸ª Magic Value (æ¯”å¦‚â€™1970-01-01 08:00:00â€˜)å½“åšé»˜è®¤å€¼ï¼Œçœ‹èµ·æ¥å¾ˆå¥‡æ€ªã€‚&lt;/p&gt;
&lt;p&gt;è“åã€‚ã€‚ã€‚å°±å‡ºé—®é¢˜äº†ã€‚åŠ äº† D ä¹‹åï¼Œå”¯ä¸€æ€§çº¦æŸåŸºæœ¬å°±å¤±æ•ˆäº†ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight sql&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;Insert&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;into&lt;/span&gt; testTable (A,B,C,D) &lt;span class=&quot;keyword&quot;&gt;VALUES&lt;/span&gt; (&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;literal&quot;&gt;NULL&lt;/span&gt;); &lt;span class=&quot;comment&quot;&gt;--- OK&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;Insert&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;into&lt;/span&gt; testTable (A,B,C,D) &lt;span class=&quot;keyword&quot;&gt;VALUES&lt;/span&gt; (&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;literal&quot;&gt;NULL&lt;/span&gt;); &lt;span class=&quot;comment&quot;&gt;--- OK&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;Insert&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;into&lt;/span&gt; testTable (A,B,C,D) &lt;span class=&quot;keyword&quot;&gt;VALUES&lt;/span&gt; (&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;literal&quot;&gt;NULL&lt;/span&gt;); &lt;span class=&quot;comment&quot;&gt;--- OK&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ä¸Šé¢çš„ä¸‰æ¡ SQL éƒ½æ˜¯å¯ä»¥æ‰§è¡ŒæˆåŠŸçš„ï¼Œæ•°æ®åº“ä¸­ä¼šæœ‰å¤šæ¡ä¸€æ ·çš„è®°å½•ã€‚å¯æŒ‰ç…§æˆ‘ä»¬ä»¥å‰çš„æ„æƒ³ï¼Œåœ¨æ‰§è¡Œåä¸¤æ¡ SQL æ—¶ åº”è¯¥æŠ›å‡º â€˜Duplicate keyâ€™ çš„å¼‚å¸¸çš„ã€‚&lt;/p&gt;
&lt;p&gt;åæ¥æŸ¥äº†ä¸€ä¸‹ï¼Œæ‰å‘ç°å…¶å® MySQL å®˜æ–¹æ–‡æ¡£ä¸Šå·²ç»æ˜ç¡®è¯´äº†è¿™ä¸€ç‚¹ï¼Œ å”¯ä¸€æ€§ç´¢å¼•æ˜¯å…è®¸å¤šä¸ª NULL å€¼çš„å­˜åœ¨çš„ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;A UNIQUE index creates a constraint such that all values in the index must be distinct. An error occurs if you try to add a new row with a key value that matches an existing row. For all engines, a UNIQUE index allows multiple NULL values for columns that can contain NULL.  &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä»ä¸‹è¡¨ä¸­ä¹Ÿå¯ä»¥çœ‹å‡ºæ¥ä¸ç®¡æ˜¯é‡‡ç”¨ä»€ä¹ˆç±»å‹çš„å­˜å‚¨å¼•æ“ï¼Œåœ¨å»ºç«‹ unique key çš„æ—¶å€™éƒ½æ˜¯å…è®¸å¤šä¸ª NULL å­˜åœ¨çš„ã€‚ã€‚ã€‚ã€‚&lt;br&gt;ï¿¼&lt;br&gt;&lt;img src=&quot;https://pic.yupoo.com/jiananshi/bfbe439c/2ba53a19.png&quot; alt=&quot;index&quot;&gt;&lt;br&gt;ç»†æƒ³æƒ³ï¼Œå…¶å®ä¹Ÿè›®åˆç†ï¼Œæ¯•ç«Ÿåœ¨ MySQL ä¸­è®¤ä¸º NULL ä»£è¡¨ç€â€œæœªçŸ¥â€ã€‚ åœ¨ SQL ä¸­ï¼Œä»»ä½•å€¼ä¸ NULL çš„æ¯”è¾ƒè¿”å›å€¼éƒ½æ˜¯ NULL è€Œä¸æ˜¯ TRUE, å°±ç®— NULL ä¸ NULL çš„æ¯”è¾ƒä¹Ÿæ˜¯è¿”å› NULLã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥åªèƒ½ fix äº†ã€‚ã€‚ã€‚è§£å†³åŠæ³•ä¹Ÿè›®ç®€å•ç²—æš´çš„ï¼Œç›´æ¥æŠŠçº¿ä¸Šæ•°æ®åˆ·äº†ä¸€éï¼Œå°†â€œ1970-01-01 08:00:00â€ä½œä¸ºé»˜è®¤å€¼ï¼Œç„¶åæŠŠé‚£åˆ—æ”¹ä¸ºä¸å…è®¸ä¸º NULL çš„äº†ï¼Œå’³å’³ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://pic.yupoo.com/jiananshi/498d5f2c/8dfdd2be.jpg&quot; alt=&quot;wuli æ»šæ»š&quot;&gt;&lt;/p&gt;
&lt;p&gt;MySQL å®˜ç½‘ä¸Šä¹Ÿæœ‰è›®å¤šäººè®¨è®ºè¿‡è¿™ä¸ªé—®é¢˜ï¼Œä¸€éƒ¨åˆ†äººè®¤ä¸ºè¿™æ˜¯ MySQL çš„ bugï¼Œ å¦ä¸€éƒ¨åˆ†åˆ™è®¤ä¸ºæ˜¯ä¸€ä¸ª featureï¼Œé™„ä¸Šé“¾æ¥ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://bugs.mysql.com/bug.php?id=8173&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;MySQL Bugs: #8173: unique index allows duplicates with null values&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;å¾ˆä¹…ä¹‹å‰çš„ä¸€ä¸ª bug äº†ï¼Œç®€å•è®°å½•ä¸‹ã€‚ã€‚ã€‚ &lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="MySQL" scheme="http://yemengying.com/categories/MySQL/"/>
    
    
      <category term="MySQL" scheme="http://yemengying.com/tags/MySQL/"/>
    
  </entry>
  
  <entry>
    <title>ã€è¯‘ã€‘Executor, ExecutorService å’Œ Executors é—´çš„ä¸åŒ</title>
    <link href="http://yemengying.com/2017/03/17/difference-between-executor-executorService/"/>
    <id>http://yemengying.com/2017/03/17/difference-between-executor-executorService/</id>
    <published>2017-03-17T06:07:21.000Z</published>
    <updated>2017-06-10T07:56:03.000Z</updated>
    
    <content type="html">&lt;blockquote&gt;
&lt;p&gt;æäº†å¥½ä¹…æ²¡æ›´åšå®¢ï¼Œå†ä¸å†™è¦è¢«æŸäºº BS äº†ï¼Œå’¦ã€‚ã€‚ã€‚ã€‚ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a href=&quot;http://javarevisited.blogspot.jp/2017/02/difference-between-executor-executorservice-and-executors-in-java.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;åŸæ–‡é“¾æ¥&lt;/a&gt;  &lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt; 
&lt;p&gt;&lt;code&gt;java.util.concurrent.Executor&lt;/code&gt;, &lt;code&gt;java.util.concurrent.ExecutorService&lt;/code&gt;, &lt;code&gt;java.util.concurrent. Executors&lt;/code&gt; è¿™ä¸‰è€…å‡æ˜¯ Java Executor æ¡†æ¶çš„ä¸€éƒ¨åˆ†ï¼Œç”¨æ¥æä¾›çº¿ç¨‹æ± çš„åŠŸèƒ½ã€‚å› ä¸ºåˆ›å»ºå’Œç®¡ç†çº¿ç¨‹éå¸¸å¿ƒç´¯ï¼Œå¹¶ä¸”æ“ä½œç³»ç»Ÿé€šå¸¸å¯¹çº¿ç¨‹æ•°æœ‰é™åˆ¶ï¼Œæ‰€ä»¥å»ºè®®ä½¿ç”¨çº¿ç¨‹æ± æ¥å¹¶å‘æ‰§è¡Œä»»åŠ¡ï¼Œè€Œä¸æ˜¯æ¯æ¬¡è¯·æ±‚è¿›æ¥æ—¶åˆ›å»ºä¸€ä¸ªçº¿ç¨‹ã€‚ä½¿ç”¨çº¿ç¨‹æ± ä¸ä»…å¯ä»¥æé«˜åº”ç”¨çš„å“åº”æ—¶é—´ï¼Œè¿˜å¯ä»¥é¿å…&lt;code&gt;&amp;quot;java.lang.OutOfMemoryError: unable to create new native thread&amp;quot;&lt;/code&gt; ä¹‹ç±»çš„é”™è¯¯ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ Java 1.5 æ—¶ï¼Œå¼€å‘è€…éœ€è¦å…³å¿ƒçº¿ç¨‹æ± çš„åˆ›å»ºå’Œç®¡ç†ï¼Œä½†åœ¨ Java 1.5 ä¹‹å Executor æ¡†æ¶æä¾›äº†å¤šç§å†…ç½®çš„çº¿ç¨‹æ± ,ä¾‹å¦‚ï¼šFixedThreadPool(åŒ…å«å›ºå®šæ•°ç›®çš„çº¿ç¨‹)ï¼ŒCachedThreadPool(å¯æ ¹æ®éœ€è¦åˆ›å»ºæ–°çš„çº¿ç¨‹)ç­‰ç­‰ã€‚&lt;/p&gt;
&lt;h2 id=&quot;Executor&quot;&gt;&lt;a href=&quot;#Executor&quot; class=&quot;headerlink&quot; title=&quot;Executor&quot;&gt;&lt;/a&gt;Executor&lt;/h2&gt;&lt;p&gt;Executor, ExecutorService, å’Œ Executors æœ€ä¸»è¦çš„åŒºåˆ«æ˜¯ Executor æ˜¯ä¸€ä¸ªæŠ½è±¡å±‚é¢çš„æ ¸å¿ƒæ¥å£(å¤§è‡´ä»£ç å¦‚ä¸‹)ã€‚&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Executor&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;execute&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Runnable command)&lt;/span&gt;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;ä¸åŒäº &lt;code&gt;java.lang.Thread&lt;/code&gt; ç±»å°†ä»»åŠ¡å’Œæ‰§è¡Œè€¦åˆåœ¨ä¸€èµ·ï¼Œ Executor å°†ä»»åŠ¡æœ¬èº«å’Œæ‰§è¡Œä»»åŠ¡åˆ†ç¦»ï¼Œå¯ä»¥é˜…è¯» &lt;a href=&quot;http://javarevisited.blogspot.sg/2016/12/difference-between-thread-and-executor.htmlæ¥çœ‹çœ‹&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;difference between Thread and Executor&lt;/a&gt; æ¥äº†è§£ Thread å’Œ Executor é—´æ›´å¤šçš„ä¸åŒã€‚&lt;/p&gt;
&lt;h2 id=&quot;ExecutorService&quot;&gt;&lt;a href=&quot;#ExecutorService&quot; class=&quot;headerlink&quot; title=&quot;ExecutorService&quot;&gt;&lt;/a&gt;ExecutorService&lt;/h2&gt;&lt;p&gt;ExecutorService æ¥å£ å¯¹ Executor æ¥å£è¿›è¡Œäº†æ‰©å±•ï¼Œæä¾›äº†è¿”å› Future å¯¹è±¡ï¼Œç»ˆæ­¢ï¼Œå…³é—­çº¿ç¨‹æ± ç­‰æ–¹æ³•ã€‚å½“è°ƒç”¨ &lt;code&gt;shutDown&lt;/code&gt; æ–¹æ³•æ—¶ï¼Œçº¿ç¨‹æ± ä¼šåœæ­¢æ¥å—æ–°çš„ä»»åŠ¡ï¼Œä½†ä¼šå®Œæˆæ­£åœ¨ pending ä¸­çš„ä»»åŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;Future å¯¹è±¡æä¾›äº†å¼‚æ­¥æ‰§è¡Œï¼Œè¿™æ„å‘³ç€æ— éœ€ç­‰å¾…ä»»åŠ¡æ‰§è¡Œçš„å®Œæˆï¼Œåªè¦æäº¤éœ€è¦æ‰§è¡Œçš„ä»»åŠ¡ï¼Œç„¶ååœ¨éœ€è¦æ—¶æ£€æŸ¥ Future æ˜¯å¦å·²ç»æœ‰äº†ç»“æœï¼Œå¦‚æœä»»åŠ¡å·²ç»æ‰§è¡Œå®Œæˆï¼Œå°±å¯ä»¥é€šè¿‡ Future.get() æ–¹æ³•è·å¾—æ‰§è¡Œç»“æœã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒFuture.get() æ–¹æ³•æ˜¯ä¸€ä¸ªé˜»å¡å¼çš„æ–¹æ³•ï¼Œå¦‚æœè°ƒç”¨æ—¶ä»»åŠ¡è¿˜æ²¡æœ‰å®Œæˆï¼Œä¼šç­‰å¾…ç›´åˆ°ä»»åŠ¡æ‰§è¡Œç»“æŸã€‚&lt;/p&gt;
&lt;p&gt;é€šè¿‡ ExecutorService.submit() æ–¹æ³•è¿”å›çš„ Future å¯¹è±¡ï¼Œè¿˜å¯ä»¥å–æ¶ˆä»»åŠ¡çš„æ‰§è¡Œã€‚Future æä¾›äº† cancel() æ–¹æ³•ç”¨æ¥å–æ¶ˆæ‰§è¡Œ pending ä¸­çš„ä»»åŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;ExecutorService éƒ¨åˆ†ä»£ç å¦‚ä¸‹ï¼š&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;ExecutorService&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Executor&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;shutdown&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;lt;T&amp;gt; &lt;span class=&quot;function&quot;&gt;Future&amp;lt;T&amp;gt; &lt;span class=&quot;title&quot;&gt;submit&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Callable&amp;lt;T&amp;gt; task)&lt;/span&gt;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;lt;T&amp;gt; &lt;span class=&quot;function&quot;&gt;Future&amp;lt;T&amp;gt; &lt;span class=&quot;title&quot;&gt;submit&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Runnable task, T result)&lt;/span&gt;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;lt;T&amp;gt; List&amp;lt;Future&amp;lt;T&amp;gt;&amp;gt; invokeAll(Collection&amp;lt;? extends Callable&amp;lt;T&amp;gt;&amp;gt; tasks, &lt;span class=&quot;keyword&quot;&gt;long&lt;/span&gt; timeout, TimeUnit unit) &lt;span class=&quot;keyword&quot;&gt;throws&lt;/span&gt; InterruptedException;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&quot;Executors&quot;&gt;&lt;a href=&quot;#Executors&quot; class=&quot;headerlink&quot; title=&quot;Executors&quot;&gt;&lt;/a&gt;Executors&lt;/h2&gt;&lt;p&gt;Executors æ˜¯ä¸€ä¸ªå·¥å…·ç±»ï¼Œç±»ä¼¼äº Collectionsã€‚æä¾›å·¥å‚æ–¹æ³•æ¥åˆ›å»ºä¸åŒç±»å‹çš„çº¿ç¨‹æ± ï¼Œæ¯”å¦‚ FixedThreadPool æˆ– CachedThreadPoolã€‚&lt;/p&gt;
&lt;p&gt;Executors éƒ¨åˆ†ä»£ç ï¼š&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Executors&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; ExecutorService &lt;span class=&quot;title&quot;&gt;newFixedThreadPool&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; nThreads)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ThreadPoolExecutor(nThreads, nThreads, &lt;span class=&quot;number&quot;&gt;0L&lt;/span&gt;, TimeUnit.MILLISECONDS,&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; LinkedBlockingQueue&amp;lt;Runnable&amp;gt;());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; ExecutorService &lt;span class=&quot;title&quot;&gt;newCachedThreadPool&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ThreadPoolExecutor(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, Integer.MAX_VALUE, &lt;span class=&quot;number&quot;&gt;60L&lt;/span&gt;, TimeUnit.SECONDS, &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; SynchronousQueue&amp;lt;Runnable&amp;gt;());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;ä¸‹é¢è¯¦ç»†çœ‹ä¸€ä¸‹ä¸‰è€…çš„åŒºåˆ«ï¼š&lt;/p&gt;
&lt;h2 id=&quot;Executor-vs-ExecutorService-vs-Executors&quot;&gt;&lt;a href=&quot;#Executor-vs-ExecutorService-vs-Executors&quot; class=&quot;headerlink&quot; title=&quot;Executor vs ExecutorService vs Executors&quot;&gt;&lt;/a&gt;Executor vs ExecutorService vs Executors&lt;/h2&gt;&lt;p&gt;æ­£å¦‚ä¸Šé¢æ‰€è¯´ï¼Œè¿™ä¸‰è€…å‡æ˜¯ Executor æ¡†æ¶ä¸­çš„ä¸€éƒ¨åˆ†ã€‚Java å¼€å‘è€…å¾ˆæœ‰å¿…è¦å­¦ä¹ å’Œç†è§£ä»–ä»¬ï¼Œä»¥ä¾¿æ›´é«˜æ•ˆçš„ä½¿ç”¨ Java æä¾›çš„ä¸åŒç±»å‹çš„çº¿ç¨‹æ± ã€‚æ€»ç»“ä¸€ä¸‹è¿™ä¸‰è€…é—´çš„åŒºåˆ«ï¼Œä»¥ä¾¿å¤§å®¶æ›´å¥½çš„ç†è§£ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Executor å’Œ ExecutorService è¿™ä¸¤ä¸ªæ¥å£ä¸»è¦çš„åŒºåˆ«æ˜¯ï¼šExecutorService æ¥å£ç»§æ‰¿äº† Executor æ¥å£ï¼Œæ˜¯ Executor çš„å­æ¥å£&lt;/li&gt;
&lt;li&gt;Executor å’Œ ExecutorService ç¬¬äºŒä¸ªåŒºåˆ«æ˜¯ï¼šExecutor æ¥å£å®šä¹‰äº† &lt;code&gt;execute()&lt;/code&gt;æ–¹æ³•ç”¨æ¥æ¥æ”¶ä¸€ä¸ª&lt;code&gt;Runnable&lt;/code&gt;æ¥å£çš„å¯¹è±¡ï¼Œè€Œ ExecutorService æ¥å£ä¸­çš„ &lt;code&gt;submit()&lt;/code&gt;æ–¹æ³•å¯ä»¥æ¥å—&lt;code&gt;Runnable&lt;/code&gt;å’Œ&lt;code&gt;Callable&lt;/code&gt;æ¥å£çš„å¯¹è±¡ã€‚&lt;/li&gt;
&lt;li&gt;Executor å’Œ ExecutorService æ¥å£ç¬¬ä¸‰ä¸ªåŒºåˆ«æ˜¯ Executor ä¸­çš„ &lt;code&gt;execute()&lt;/code&gt; æ–¹æ³•ä¸è¿”å›ä»»ä½•ç»“æœï¼Œè€Œ ExecutorService ä¸­çš„ &lt;code&gt;submit()&lt;/code&gt;æ–¹æ³•å¯ä»¥é€šè¿‡ä¸€ä¸ª Future å¯¹è±¡è¿”å›è¿ç®—ç»“æœã€‚&lt;/li&gt;
&lt;li&gt;Executor å’Œ ExecutorService æ¥å£ç¬¬å››ä¸ªåŒºåˆ«æ˜¯é™¤äº†å…è®¸å®¢æˆ·ç«¯æäº¤ä¸€ä¸ªä»»åŠ¡ï¼ŒExecutorService è¿˜æä¾›ç”¨æ¥æ§åˆ¶çº¿ç¨‹æ± çš„æ–¹æ³•ã€‚æ¯”å¦‚ï¼šè°ƒç”¨ &lt;code&gt;shutDown()&lt;/code&gt; æ–¹æ³•ç»ˆæ­¢çº¿ç¨‹æ± ã€‚å¯ä»¥é€šè¿‡ &lt;a href=&quot;http://www.amazon.com/dp/0321349601/?tag=javamysqlanta-20&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;ã€ŠJava Concurrency in Practiceã€‹&lt;/a&gt; ä¸€ä¹¦äº†è§£æ›´å¤šå…³äºå…³é—­çº¿ç¨‹æ± å’Œå¦‚ä½•å¤„ç† pending çš„ä»»åŠ¡çš„çŸ¥è¯†ã€‚&lt;/li&gt;
&lt;li&gt;Executors ç±»æä¾›å·¥å‚æ–¹æ³•ç”¨æ¥åˆ›å»ºä¸åŒç±»å‹çš„çº¿ç¨‹æ± ã€‚æ¯”å¦‚: &lt;code&gt;newSingleThreadExecutor()&lt;/code&gt; åˆ›å»ºä¸€ä¸ªåªæœ‰ä¸€ä¸ªçº¿ç¨‹çš„çº¿ç¨‹æ± ï¼Œ&lt;code&gt;newFixedThreadPool(int numOfThreads)&lt;/code&gt;æ¥åˆ›å»ºå›ºå®šçº¿ç¨‹æ•°çš„çº¿ç¨‹æ± ï¼Œ&lt;code&gt;newCachedThreadPool()&lt;/code&gt;å¯ä»¥æ ¹æ®éœ€è¦åˆ›å»ºæ–°çš„çº¿ç¨‹ï¼Œä½†å¦‚æœå·²æœ‰çº¿ç¨‹æ˜¯ç©ºé—²çš„ä¼šé‡ç”¨å·²æœ‰çº¿ç¨‹ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;æ€»ç»“&quot;&gt;&lt;a href=&quot;#æ€»ç»“&quot; class=&quot;headerlink&quot; title=&quot;æ€»ç»“&quot;&gt;&lt;/a&gt;æ€»ç»“&lt;/h2&gt;&lt;p&gt;ä¸‹è¡¨åˆ—å‡ºäº† Executor å’Œ ExecutorService çš„åŒºåˆ«ï¼š&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Executor&lt;/th&gt;
&lt;th&gt;ExecutorService&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Executor æ˜¯ Java çº¿ç¨‹æ± çš„æ ¸å¿ƒæ¥å£ï¼Œç”¨æ¥å¹¶å‘æ‰§è¡Œæäº¤çš„ä»»åŠ¡&lt;/td&gt;
&lt;td&gt;ExecutorService æ˜¯ Executor æ¥å£çš„æ‰©å±•ï¼Œæä¾›äº†å¼‚æ­¥æ‰§è¡Œå’Œå…³é—­çº¿ç¨‹æ± çš„æ–¹æ³•&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æä¾›execute()æ–¹æ³•ç”¨æ¥æäº¤ä»»åŠ¡&lt;/td&gt;
&lt;td&gt;æä¾›submit()æ–¹æ³•ç”¨æ¥æäº¤ä»»åŠ¡&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;execute()æ–¹æ³•æ— è¿”å›å€¼&lt;/td&gt;
&lt;td&gt;submit()æ–¹æ³•è¿”å›Futureå¯¹è±¡ï¼Œå¯ç”¨æ¥è·å–ä»»åŠ¡æ‰§è¡Œç»“æœ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ä¸èƒ½å–æ¶ˆä»»åŠ¡&lt;/td&gt;
&lt;td&gt;å¯ä»¥é€šè¿‡Future.cancel()å–æ¶ˆpendingä¸­çš„ä»»åŠ¡&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æ²¡æœ‰æä¾›å’Œå…³é—­çº¿ç¨‹æ± æœ‰å…³çš„æ–¹æ³•&lt;/td&gt;
&lt;td&gt;æä¾›äº†å…³é—­çº¿ç¨‹æ± çš„æ–¹æ³•&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&quot;è¯‘è€…æ³¨&quot;&gt;&lt;a href=&quot;#è¯‘è€…æ³¨&quot; class=&quot;headerlink&quot; title=&quot;è¯‘è€…æ³¨&quot;&gt;&lt;/a&gt;è¯‘è€…æ³¨&lt;/h2&gt;&lt;p&gt;ä¸ªäººè§‰å¾—ï¼Œåˆ©ç”¨ Executors ç±»æä¾›çš„å·¥å‚æ–¹æ³•æ¥åˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ± æ˜¯å¾ˆæ–¹ä¾¿ï¼Œä½†å¯¹äºéœ€è¦æ ¹æ®å®é™…æƒ…å†µè‡ªå®šä¹‰çº¿ç¨‹æ± æŸäº›å‚æ•°çš„åœºæ™¯ï¼Œå°±ä¸å¤ªé€‚ç”¨äº†ã€‚&lt;/p&gt;
&lt;p&gt;ä¸¾ä¸ªä¾‹å­ï¼š&lt;br&gt;å½“çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹å‡å¤„äºå·¥ä½œçŠ¶æ€ï¼Œå¹¶ä¸”çº¿ç¨‹æ•°å·²è¾¾çº¿ç¨‹æ± å…è®¸çš„æœ€å¤§çº¿ç¨‹æ•°æ—¶ï¼Œå°±ä¼šé‡‡å–æŒ‡å®šçš„é¥±å’Œç­–ç•¥æ¥å¤„ç†æ–°æäº¤çš„ä»»åŠ¡ã€‚æ€»å…±æœ‰å››ç§ç­–ç•¥ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;AbortPolicy: ç›´æ¥æŠ›å¼‚å¸¸&lt;/li&gt;
&lt;li&gt;CallerRunsPolicy: ç”¨è°ƒç”¨è€…çš„çº¿ç¨‹æ¥è¿è¡Œä»»åŠ¡&lt;/li&gt;
&lt;li&gt;DiscardOldestPolicy: ä¸¢å¼ƒçº¿ç¨‹é˜Ÿåˆ—é‡Œæœ€è¿‘çš„ä¸€ä¸ªä»»åŠ¡ï¼Œæ‰§è¡Œæ–°æäº¤çš„ä»»åŠ¡&lt;/li&gt;
&lt;li&gt;DiscardPolicy ç›´æ¥å°†æ–°ä»»åŠ¡ä¸¢å¼ƒ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¦‚æœä½¿ç”¨ Executors çš„å·¥å‚æ–¹æ³•åˆ›å»ºçš„çº¿ç¨‹æ± ï¼Œé‚£ä¹ˆé¥±å’Œç­–ç•¥éƒ½æ˜¯é‡‡ç”¨é»˜è®¤çš„ AbortPolicyï¼Œæ‰€ä»¥å¦‚æœæˆ‘ä»¬æƒ³å½“çº¿ç¨‹æ± å·²æ»¡çš„æƒ…å†µï¼Œä½¿ç”¨è°ƒç”¨è€…çš„çº¿ç¨‹æ¥è¿è¡Œä»»åŠ¡ï¼Œå°±è¦è‡ªå·±åˆ›å»ºçº¿ç¨‹æ± ï¼ŒæŒ‡å®šæƒ³è¦çš„é¥±å’Œç­–ç•¥ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ Executors äº†ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥æˆ‘ä»¬å¯ä»¥æ ¹æ®éœ€è¦åˆ›å»º ThreadPoolExecutor(ExecutorServiceæ¥å£çš„å®ç°ç±») å¯¹è±¡ï¼Œè‡ªå®šä¹‰ä¸€äº›å‚æ•°ï¼Œè€Œä¸æ˜¯è°ƒç”¨ Executors çš„å·¥å‚æ–¹æ³•åˆ›å»ºã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œåœ¨ä½¿ç”¨ Spring æ¡†æ¶çš„é¡¹ç›®ä¸­ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ Spring æä¾›çš„ ThreadPoolTaskExecutor ç±»æ¥åˆ›å»ºçº¿ç¨‹æ± ã€‚ThreadPoolTaskExecutor ä¸ ThreadPoolExecutor ç±»ä¼¼ï¼Œä¹Ÿæä¾›äº†è®¸å¤šå‚æ•°ç”¨æ¥è‡ªå®šä¹‰çº¿ç¨‹æ± ï¼Œæ¯”å¦‚ï¼šæ ¸å¿ƒçº¿ç¨‹æ± å¤§å°ï¼Œçº¿ç¨‹æ± æœ€å¤§æ•°é‡ï¼Œé¥±å’Œç­–ç•¥ï¼Œçº¿ç¨‹æ´»åŠ¨ä¿æŒæ—¶é—´ç­‰ç­‰ã€‚&lt;/p&gt;
&lt;h2 id=&quot;ç›¸å…³æ–‡æ¡£&quot;&gt;&lt;a href=&quot;#ç›¸å…³æ–‡æ¡£&quot; class=&quot;headerlink&quot; title=&quot;ç›¸å…³æ–‡æ¡£&quot;&gt;&lt;/a&gt;ç›¸å…³æ–‡æ¡£&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Executors java api doc&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;æäº†å¥½ä¹…æ²¡æ›´åšå®¢ï¼Œå†ä¸å†™è¦è¢«æŸäºº BS äº†ï¼Œå’¦ã€‚ã€‚ã€‚ã€‚ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a href=&quot;http://javarevisited.blogspot.jp/2017/02/difference-between-executor-executorservice-and-executors-in-java.html&quot;&gt;åŸæ–‡é“¾æ¥&lt;/a&gt;  &lt;/p&gt;
    
    </summary>
    
      <category term="java" scheme="http://yemengying.com/categories/java/"/>
    
    
      <category term="java" scheme="http://yemengying.com/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>è°ˆè°ˆ NoSuchBeanDefinitionException</title>
    <link href="http://yemengying.com/2017/02/18/something-about-noSuchBeanDefinitionException/"/>
    <id>http://yemengying.com/2017/02/18/something-about-noSuchBeanDefinitionException/</id>
    <published>2017-02-18T07:55:50.000Z</published>
    <updated>2018-12-13T04:05:10.000Z</updated>
    
    <content type="html">&lt;blockquote&gt;
&lt;p&gt;è¿™ç¯‡åšå®¢æ˜¯æ¥è‡ªå¯¹ä¸¤ç¯‡æ–‡ç« çš„ç¿»è¯‘ï¼ŒåŸæ–‡é“¾æ¥å¦‚ä¸‹ã€‚è¿™ä¸¤ç¯‡æ–‡ç« éƒ½æ€»ç»“äº†åœ¨ä½¿ç”¨ Spring æ¡†æ¶æ—¶å¯èƒ½é€ æˆ &lt;code&gt;NoSuchBeanDefinitionException&lt;/code&gt; çš„æƒ…å†µï¼Œä»¥åŠåº”è¯¥å¦‚ä½•è§£å†³ã€‚ &lt;/p&gt;
&lt;/blockquote&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;  
&lt;h2 id=&quot;åŸæ–‡é“¾æ¥&quot;&gt;&lt;a href=&quot;#åŸæ–‡é“¾æ¥&quot; class=&quot;headerlink&quot; title=&quot;åŸæ–‡é“¾æ¥&quot;&gt;&lt;/a&gt;åŸæ–‡é“¾æ¥&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;http://stackoverflow.com/questions/39173982/what-is-a-nosuchbeandefinitionexception-and-how-do-i-fix-it&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;java - What is a NoSuchBeanDefinitionException and how do I fix it? - Stack Overflow&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://www.baeldung.com/spring-nosuchbeandefinitionexception&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Spring NoSuchBeanDefinitionException | Baeldung&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;æ¦‚è¿°&quot;&gt;&lt;a href=&quot;#æ¦‚è¿°&quot; class=&quot;headerlink&quot; title=&quot;æ¦‚è¿°&quot;&gt;&lt;/a&gt;æ¦‚è¿°&lt;/h2&gt;&lt;p&gt;&lt;code&gt;org.springframework.beans.factory.NoSuchBeanDefinitionException&lt;/code&gt; æ˜¯å¾ˆå¸¸è§çš„å¼‚å¸¸ï¼Œå¯ä»¥è¯´ç»å¤§å¤šæ•°ä½¿ç”¨è¿‡ Spring çš„äººéƒ½æ›¾é‡åˆ°è¿‡å®ƒã€‚æœ¬æ–‡æ—¨åœ¨æ€»ç»“ä¸‹NoSuchBeanDefinitionExceptionï¼ˆä»¥ä¸‹ç®€ç§° NSBDEï¼‰çš„å«ä¹‰ï¼Œå“ªäº›æƒ…å†µä¸‹å¯èƒ½æŠ›å‡º NSBDEï¼Œå’Œå¦‚ä½•è§£å†³ï¼ˆæ–‡ä¸­é…ç½®å‡ç”¨ JavaConfigï¼‰ã€‚&lt;/p&gt;
&lt;h2 id=&quot;ä»€ä¹ˆæ˜¯-NoSuchBeanDefinitionException&quot;&gt;&lt;a href=&quot;#ä»€ä¹ˆæ˜¯-NoSuchBeanDefinitionException&quot; class=&quot;headerlink&quot; title=&quot;ä»€ä¹ˆæ˜¯ NoSuchBeanDefinitionException&quot;&gt;&lt;/a&gt;ä»€ä¹ˆæ˜¯ NoSuchBeanDefinitionException&lt;/h2&gt;&lt;p&gt;ä»å­—é¢å…¶å®å°±å¾ˆå¥½ç†è§£ï¼ŒNoSuchBeanDefinitionException å°±æ˜¯æ²¡æœ‰æ‰¾åˆ°æŒ‡å®š Bean çš„ Definitionã€‚NoSuchBeanDefinitionException çš„ JavaDocæ˜¯è¿™æ ·å®šä¹‰çš„ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Exception thrown when a BeanFactory is asked for a bean instance for which it cannot find a definition. This may point to a non-existing bean, a non-unique bean, or a manually registered singleton instance without an associated bean definition.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä¸‹é¢çœ‹çœ‹å¯èƒ½æŠ›å‡º NSBDE çš„ä¸€äº›æƒ…å†µã€‚&lt;/p&gt;
&lt;h2 id=&quot;æƒ…å†µ1-No-qualifying-bean-of-type-â€¦-found-for-dependency&quot;&gt;&lt;a href=&quot;#æƒ…å†µ1-No-qualifying-bean-of-type-â€¦-found-for-dependency&quot; class=&quot;headerlink&quot; title=&quot;æƒ…å†µ1: No qualifying bean of type [â€¦] found for dependency&quot;&gt;&lt;/a&gt;æƒ…å†µ1: No qualifying bean of type [â€¦] found for dependency&lt;/h2&gt;&lt;p&gt;æœ€å¸¸è§çš„æŠ›å‡º NSBDE çš„æƒ…å†µå°±æ˜¯åœ¨ä¸€ä¸ª BeanA ä¸­æ³¨å…¥ BeanB æ—¶æ‰¾ä¸åˆ°  BeanB çš„å®šä¹‰ã€‚ä¾‹å­å¦‚ä¸‹ï¼š&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@Component&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;BeanA&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Autowired&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; BeanB dependency;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//...&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;å½“åœ¨ BeanA ä¸­æ³¨å…¥ BeanB æ—¶ï¼Œå¦‚æœåœ¨ Spring ä¸Šä¸‹æ–‡ä¸­æ‰¾ä¸åˆ° BeanB çš„å®šä¹‰ï¼Œå°±ä¼šæŠ›å‡º NSBDEã€‚å¼‚å¸¸ä¿¡æ¯å¦‚ä¸‹ï¼š&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;org.springframework.beans.factory.NoSuchBeanDefinitionException: &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;No qualifying bean of type [org.baeldung.packageB.BeanB]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  found for dependency: &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;expected at least 1 bean which qualifies as&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  autowire candidate for this dependency. &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Dependency annotations: &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &amp;#123;@org.springframework.beans.factory.annotation.Autowired(required=true)&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;æŠ›å¼‚å¸¸çš„åŸå› åœ¨å¼‚å¸¸ä¿¡æ¯ä¸­è¯´çš„å¾ˆæ¸…æ¥šï¼š&lt;code&gt;expected at least 1 bean which qualifies as autowire candidate for this dependency&lt;/code&gt;ã€‚æ‰€ä»¥è¦ä¹ˆæ˜¯ BeanB ä¸å­˜åœ¨åœ¨ Spring ä¸Šä¸‹æ–‡ä¸­ï¼ˆæ¯”å¦‚æ²¡æœ‰æ ‡æ³¨ @ Componentï¼Œ@Repositoryï¼Œ@Service, @Controllerç­‰æ³¨è§£ï¼‰ ï¼Œè¦ä¹ˆå°±æ˜¯ BeanB æ‰€åœ¨çš„åŒ…æ²¡æœ‰è¢« Spring æ‰«æåˆ°ã€‚&lt;/p&gt;
&lt;p&gt;è§£å†³åŠæ³•å°±æ˜¯å…ˆç¡®è®¤ BeanB æœ‰æ²¡æœ‰è¢«æŸäº›æ³¨è§£å£°æ˜ä¸º Beanï¼š&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;package&lt;/span&gt; org.baeldung.packageB;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@Component&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;BeanB&lt;/span&gt; &lt;/span&gt;&amp;#123; ...&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœ BeanB å·²ç»è¢«å£°æ˜ä¸ºä¸€ä¸ª Beanï¼Œå°±å†ç¡®è®¤ BeanB æ‰€åœ¨çš„åŒ…æœ‰æ²¡æœ‰è¢«æ‰«æã€‚&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@Configuration&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@ComponentScan&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;org.baeldung.packageB&quot;&lt;/span&gt;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;ContextWithJavaConfig&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&quot;æƒ…å†µ2-No-qualifying-bean-of-type-â€¦-is-defined&quot;&gt;&lt;a href=&quot;#æƒ…å†µ2-No-qualifying-bean-of-type-â€¦-is-defined&quot; class=&quot;headerlink&quot; title=&quot;æƒ…å†µ2: No qualifying bean of type [â€¦] is defined&quot;&gt;&lt;/a&gt;æƒ…å†µ2: No qualifying bean of type [â€¦] is defined&lt;/h2&gt;&lt;p&gt;è¿˜æœ‰ä¸€ç§å¯èƒ½æŠ›å‡º NSBDE çš„æƒ…å†µæ˜¯åœ¨ä¸Šä¸‹æ–‡ä¸­å­˜åœ¨ç€ä¸¤ä¸ª Beanï¼Œæ¯”å¦‚æœ‰ä¸€ä¸ªæ¥å£ IBeanBï¼Œå®ƒæœ‰ä¸¤ä¸ªå®ç°ç±» BeanB1 å’Œ BeanB2ã€‚&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@Component&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;BeanB1&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;IBeanB&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@Component&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;BeanB2&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;IBeanB&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;ç°åœ¨ï¼Œå¦‚æœ BeanA æŒ‰ç…§ä¸‹é¢çš„æ–¹å¼æ³¨å…¥ï¼Œé‚£ä¹ˆ Spring å°†ä¸çŸ¥é“è¦æ³¨å…¥ä¸¤ä¸ªå®ç°ä¸­çš„å“ªä¸€ä¸ªï¼Œå°±ä¼šæŠ›å‡º NSBDEã€‚&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@Component&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;BeanA&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Autowired&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; IBeanB dependency;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;å¼‚å¸¸ä¿¡æ¯å¦‚ä¸‹ï¼š&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;Caused by: org.springframework.beans.factory.NoUniqueBeanDefinitionException: &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;No qualifying bean of type&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  [org.baeldung.packageB.IBeanB] is defined: &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;expected single matching bean but found 2: beanB1,beanB2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;ä»”ç»†çœ‹å¼‚å¸¸ä¿¡æ¯ä¼šå‘ç°ï¼Œå¹¶ä¸æ˜¯ç›´æ¥æŠ›å‡º NSBDEï¼Œè€Œæ˜¯å®ƒçš„å­ç±» &lt;code&gt;NoUniqueBeanDefinitionException&lt;/code&gt;ï¼Œè¿™æ˜¯ Spring 3.2.1 ä¹‹åå¼•å…¥çš„æ–°å¼‚å¸¸ï¼Œç›®çš„å°±æ˜¯ä¸ºäº†å’Œç¬¬ä¸€ç§æ‰¾ä¸åˆ° Bean Definition çš„æƒ…å†µä½œåŒºåˆ†ã€‚&lt;/p&gt;
&lt;p&gt;è§£å†³åŠæ³•1å°±æ˜¯åˆ©ç”¨ &lt;code&gt;@Qualifier&lt;/code&gt; æ³¨è§£ï¼Œæ˜ç¡®æŒ‡å®šè¦æ³¨å…¥çš„ Bean çš„åå­—(BeanB2 é»˜è®¤çš„åå­—å°±æ˜¯ beanB2)ã€‚&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@Component&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;BeanA&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Autowired&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Qualifier&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;beanB2&quot;&lt;/span&gt;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; IBeanB dependency;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;é™¤äº†æŒ‡å®šåå­—ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å°†å…¶ä¸­ä¸€ä¸ª Bean åŠ ä¸Š &lt;code&gt;@Primary&lt;/code&gt;çš„æ³¨è§£,è¿™æ ·ä¼šé€‰æ‹©åŠ äº† Primary æ³¨è§£çš„ Bean æ¥æ³¨å…¥ï¼Œè€Œä¸ä¼šæŠ›å¼‚å¸¸ï¼š&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@Component&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@Primary&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;BeanB1&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;IBeanB&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;è¿™æ · Spring å°±èƒ½å¤ŸçŸ¥é“åˆ°åº•åº”è¯¥æ³¨å…¥å“ªä¸ª Bean äº†ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æƒ…å†µ3-No-Bean-Named-â€¦-is-defined&quot;&gt;&lt;a href=&quot;#æƒ…å†µ3-No-Bean-Named-â€¦-is-defined&quot; class=&quot;headerlink&quot; title=&quot;æƒ…å†µ3: No Bean Named [â€¦] is defined&quot;&gt;&lt;/a&gt;æƒ…å†µ3: No Bean Named [â€¦] is defined&lt;/h2&gt;&lt;p&gt;NSBDE è¿˜å¯èƒ½åœ¨ä» Spring ä¸Šä¸‹æ–‡ä¸­é€šè¿‡åå­—è·å–ä¸€ä¸ª Bean æ—¶æŠ›å‡ºã€‚&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@Component&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;BeanA&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;InitializingBean&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Autowired&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; ApplicationContext context;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;afterPropertiesSet&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        context.getBean(&lt;span class=&quot;string&quot;&gt;&quot;someBeanName&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;åœ¨è¿™ç§æƒ…å†µä¸­ï¼Œå¦‚æœæ‰¾ä¸åˆ°æŒ‡å®šåå­— Bean çš„ Definitionï¼Œå°±ä¼šæŠ›å‡ºå¦‚ä¸‹å¼‚å¸¸ï¼š&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;No bean named &amp;apos;someBeanName&amp;apos; is defined&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&quot;æƒ…å†µ4-ä»£ç†-Beans&quot;&gt;&lt;a href=&quot;#æƒ…å†µ4-ä»£ç†-Beans&quot; class=&quot;headerlink&quot; title=&quot;æƒ…å†µ4: ä»£ç† Beans&quot;&gt;&lt;/a&gt;æƒ…å†µ4: ä»£ç† Beans&lt;/h2&gt;&lt;p&gt;Spring é€šè¿‡ &lt;a href=&quot;http://docs.spring.io/spring/docs/current/spring-framework-reference/html/aop.html#aop-introduction-proxies&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;AOP ä»£ç†&lt;/a&gt; å®ç°äº†è®¸å¤šé«˜çº§åŠŸèƒ½ï¼Œæ¯”å¦‚ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é€šè¿‡ &lt;a href=&quot;http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/annotation/Transactional.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;@Transactional&lt;/a&gt;å®Œæˆ &lt;a href=&quot;http://docs.spring.io/spring/docs/current/spring-framework-reference/html/transaction.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;äº‹åŠ¡ç®¡ç†&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;é€šè¿‡ &lt;a href=&quot;http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/cache/annotation/Cacheable.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;@Cacheable&lt;/a&gt;å®ç°ç¼“å­˜&lt;/li&gt;
&lt;li&gt;é€šè¿‡ &lt;a href=&quot;http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/annotation/Async.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;@Async&lt;/a&gt;å’Œ &lt;a href=&quot;http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/annotation/Scheduled.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;@Scheduled&lt;/a&gt;å®ç°ä»»åŠ¡è°ƒåº¦å’Œå¼‚æ­¥æ‰§è¡Œ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Spring æœ‰ä¸¤ç§æ–¹å¼å®ç°ä»£ç†ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åˆ©ç”¨ &lt;a href=&quot;https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Proxy.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;JDK åŠ¨æ€ä»£ç†æœºåˆ¶&lt;/a&gt; ï¼Œåœ¨è¿è¡Œæ—¶ä¸º&lt;code&gt;å®ç°äº†æŸäº›æ¥å£&lt;/code&gt;çš„ç±»åŠ¨æ€åˆ›å»ºä¸€ä¸ªå®ç°äº†åŒæ ·æ¥å£çš„ä»£ç†å¯¹è±¡ã€‚&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ &lt;a href=&quot;https://github.com/cglib/cglib/wiki&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;CGLIB&lt;/a&gt;ï¼ŒCGLIB å¯ä»¥åœ¨è¿è¡ŒæœŸæ‰©å±•Javaç±»ä¸å®ç°Javaæ¥å£,ä¹Ÿå°±æ˜¯è¯´å½“ä¸€ä¸ªç±»æ²¡æœ‰å®ç°æ¥å£æ—¶ï¼Œå¿…é¡»ç”¨ CGLIB ç”Ÿæˆä»£ç†å¯¹è±¡ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œå½“ Spring ä¸Šä¸‹æ–‡ä¸­çš„ä¸€ä¸ªå®ç°äº†æŸä¸ªæ¥å£çš„ Bean é€šè¿‡JDK åŠ¨æ€ä»£ç†æœºåˆ¶è¢«ä»£ç†æ—¶ï¼Œä»£ç†ç±»å¹¶ä¸æ˜¯ç»§æ‰¿äº†ç›®æ ‡ç±»ï¼Œè€Œæ˜¯å®ç°åŒæ ·çš„æ¥å£ã€‚&lt;/p&gt;
&lt;p&gt;ä¹Ÿæ­£å› ä¸ºå¦‚æ­¤ï¼Œå¦‚æœä¸€ä¸ª Bean é€šè¿‡æ¥å£æ³¨å…¥æ—¶ï¼Œå¯ä»¥æˆåŠŸè¢«æ³¨å…¥ã€‚ä½†å¦‚æœæ˜¯é€šè¿‡çœŸæ­£çš„ç±»æ³¨å…¥ï¼Œé‚£ä¹ˆ Spring å°†æ— æ³•æ‰¾åˆ°åŒ¹é…è¿™ä¸ªç±»çš„ Definitionâ€”â€”å› ä¸ºä»£ç†ç±»å¹¶æ²¡æœ‰ç»§æ‰¿è¿™ä¸ªç±»ã€‚&lt;/p&gt;
&lt;p&gt;ä»¥ Spring ä¸­æ¯”è¾ƒå¸¸è§çš„äº‹åŠ¡ç®¡ç†ä¸ºä¾‹ï¼Œå‡è®¾ ServiceA ä¸­è¦æ³¨å…¥ ServiceBï¼Œä¸¤ä¸ª Service å‡æ ‡æ³¨äº† &lt;code&gt;@Transactional&lt;/code&gt;æ³¨è§£æ¥è¿›è¡Œäº‹åŠ¡ç®¡ç†ï¼Œé‚£ä¹ˆä¸‹é¢çš„æ³¨å…¥æ–¹å¼æ˜¯ä¸ä¼šæ­£å¸¸ work çš„ã€‚&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@Service&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@Transactional&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;ServiceA&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;IServiceA&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Autowired&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; ServiceB serviceB;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@Service&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@Transactional&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;ServiceB&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;IServiceB&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;è§£å†³åŠæ³•å°±æ˜¯é€šè¿‡æ¥å£æ¥è¿›è¡Œæ³¨å…¥ï¼š&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@Service&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@Transactional&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;ServiceA&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;IServiceA&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Autowired&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; IServiceB serviceB;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@Service&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@Transactional&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;ServiceB&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;IServiceB&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&quot;æ€»ç»“&quot;&gt;&lt;a href=&quot;#æ€»ç»“&quot; class=&quot;headerlink&quot; title=&quot;æ€»ç»“&quot;&gt;&lt;/a&gt;æ€»ç»“&lt;/h2&gt;&lt;p&gt;ä»Šå¤©å¤©æ°”å¥½å¥½å•Š~&lt;br&gt;&lt;img src=&quot;https://pic.yupoo.com/jiananshi/8d2d2aba/0fdb443c.jpg&quot; alt=&quot;å°è„‘è…&quot;&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;è¿™ç¯‡åšå®¢æ˜¯æ¥è‡ªå¯¹ä¸¤ç¯‡æ–‡ç« çš„ç¿»è¯‘ï¼ŒåŸæ–‡é“¾æ¥å¦‚ä¸‹ã€‚è¿™ä¸¤ç¯‡æ–‡ç« éƒ½æ€»ç»“äº†åœ¨ä½¿ç”¨ Spring æ¡†æ¶æ—¶å¯èƒ½é€ æˆ &lt;code&gt;NoSuchBeanDefinitionException&lt;/code&gt; çš„æƒ…å†µï¼Œä»¥åŠåº”è¯¥å¦‚ä½•è§£å†³ã€‚ &lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="spring" scheme="http://yemengying.com/categories/spring/"/>
    
    
      <category term="spring" scheme="http://yemengying.com/tags/spring/"/>
    
  </entry>
  
  <entry>
    <title>RabbitMq å¦‚ä½•å¤„ç†å¼‚å¸¸</title>
    <link href="http://yemengying.com/2017/01/30/how-does-rabbitmq-handle-exception/"/>
    <id>http://yemengying.com/2017/01/30/how-does-rabbitmq-handle-exception/</id>
    <published>2017-01-30T11:37:21.000Z</published>
    <updated>2018-12-13T04:10:36.000Z</updated>
    
    <content type="html">&lt;blockquote&gt;
&lt;p&gt;è¿™åº”è¯¥æ˜¯è¿‡å¹´å‡æœŸçš„æœ€åä¸€ç¯‡ï¼Œå¦‚æœä¸æ˜¯ï¼Œé‚£ä½ ä¸€å®šçœ‹åˆ°äº†å‡åšå®¢ã€‚(à¹‘â€¢Ì€ã…‚â€¢Ì)Ùˆâœ§  &lt;/p&gt;
&lt;/blockquote&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;åœ¨æ¶ˆè´¹ RabbitMq ä¸­çš„ Message æ—¶ï¼Œå¸¸å¸¸ä¼šå‡ºç°å¼‚å¸¸ï¼Œå¯èƒ½æ˜¯ Message æœ¬èº«æ ¼å¼ä¸å¯¹ï¼Œæˆ–è€…ç”±äºæŸäº›åŸå› æ— æ³•è¢«å¤„ç†ã€‚æˆ‘ä¸€èˆ¬éƒ½æ˜¯ catch å¼‚å¸¸ç„¶åæŠ›ä¸ª &lt;code&gt;AmqpRejectAndDontRequeueException&lt;/code&gt;  (ä»¥ä¸‹ç®€ç§° ARADRE )ï¼Œä¹Ÿå‡ºå•¥é—®é¢˜ï¼Œä¸è¿‡è¿˜æ˜¯ä»”ç»†çœ‹ä¸‹ï¼Œrabbitmq æ˜¯å¦‚ä½•å¯¹å¾…æ¶ˆè´¹æ¶ˆæ¯æ—¶å‡ºç°çš„å¼‚å¸¸ï¼Œæ˜¯ä¼šå°†æ¶ˆæ¯ç›´æ¥ä¸¢å¼ƒè¿˜æ˜¯æœ‰å…¶ä»–æ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;å…¶å® Spring-amqp &lt;a href=&quot;http://docs.spring.io/spring-amqp/reference/html/_reference.html#exception-handling&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;å®˜æ–¹æ–‡æ¡£&lt;/a&gt;ä¸Šå¯¹äº RabbitMq æ˜¯å¦‚ä½•å¤„ç†å¼‚å¸¸çš„è¯´çš„å·²ç»å¾ˆæ˜ç™½äº†ï¼Œä¸è¿‡éƒ½æ˜¯å¤§æ®µçš„æ–‡å­—å¯èƒ½ä¸å¤ªå¥½ç†è§£ï¼Œè¿˜æ˜¯é…ç€ä»£ç çœ‹ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;ä»£ç ç‰ˆæœ¬ï¼š 1.6.3.RELEASE&lt;/p&gt;
&lt;p&gt;æ ¹æ®å®˜æ–¹æ–‡æ¡£ï¼Œå½“ listener åœ¨æ¶ˆè´¹æ¶ˆæ¯æ—¶æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸çš„æ—¶å€™ï¼Œè¯¥å¼‚å¸¸ä¼šè¢«åŒ…è£…åœ¨ &lt;code&gt;ListenerExecutionFailedException&lt;/code&gt; ä¸­æŠ›å‡ºï¼Œå¹¶æ ¹æ® &lt;code&gt;listenerContainer&lt;/code&gt; ä¸­ &lt;code&gt;defaultRequeueRejected&lt;/code&gt; è®¾å®šçš„å€¼æ¥å†³å®šæ˜¯å¦å°†è¯¥æ¶ˆæ¯é‡æ–°åŠ å…¥é˜Ÿåˆ—ï¼Œé»˜è®¤æ˜¯ä¼šé‡æ–°åŠ å…¥é˜Ÿåˆ—ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://pic.yupoo.com/jiananshi/1ef2b0c3/ae31063d.jpg&quot; alt=&quot;ListenerExecutionFailedExceptionç»“æ„&quot;&gt;&lt;/p&gt;
&lt;p&gt;éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœæŠ›å‡ºçš„å¼‚å¸¸æ˜¯ ARADRE æˆ–å…¶ä»–è¢« RabbitMq è®¤ä¸ºæ˜¯è‡´å‘½é”™è¯¯çš„å¼‚å¸¸ï¼Œå³ä¾¿ defaultRequeueRejected çš„å€¼ä¸º true ï¼Œ è¯¥æ¶ˆæ¯ä¹Ÿä¸ä¼šé‡æ–°åŠ å…¥é˜Ÿåˆ—ï¼Œè€Œæ˜¯ä¼šè¢«ç›´æ¥ä¸¢å¼ƒæˆ–åŠ å…¥ dead-letter-exchange ä¸­(å¦‚æœæœ‰é…ç½® dead-letter-exchange)ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://pic.yupoo.com/jiananshi/1a0a19a6/1c5104d9.jpeg&quot; alt=&quot;æ¥æºhttps://derickbailey.com/2016/03/28/dealing-with-dead-letters-and-poison-messages-in-rabbitmq/&quot;&gt;&lt;/p&gt;
&lt;p&gt;åœ¨ 1.6.3. RELEASE ä¸­è¢« RabbitMq è®¤ä¸ºæ˜¯è‡´å‘½é”™è¯¯çš„å¼‚å¸¸æœ‰ä»¥ä¸‹ 6 ç§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;o.s.amqpâ€¦MessageConversionException&lt;/li&gt;
&lt;li&gt;o.s.messagingâ€¦MessageConversionException&lt;/li&gt;
&lt;li&gt;o.s.messagingâ€¦MethodArgumentNotValidException&lt;/li&gt;
&lt;li&gt;o.s.messagingâ€¦MethodArgumentTypeMismatchException&lt;/li&gt;
&lt;li&gt;java.lang.NoSuchMethodException&lt;/li&gt;
&lt;li&gt;java.lang.ClassCastException&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“æŠ›å‡ºä»¥ä¸Šå¼‚å¸¸åŠ ARADRE æ—¶ï¼Œè¯¥æ¶ˆæ¯ä¸€å®šä¸ä¼šé‡æ–°å…¥é˜Ÿï¼Œå³ä¾¿ defaultRequeueRejected çš„å€¼ä¸º trueã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢çœ‹çœ‹ Spring-RabbitMq æ˜¯å¦‚ä½•å®ç°çš„ï¼š&lt;/p&gt;
&lt;p&gt;åœ¨æºç ä¸­ï¼Œå¼‚å¸¸åœ¨ &lt;code&gt;AbstractMessageListenerContainer&lt;/code&gt; ä¸­è¢«åŒ…è£…åœ¨ ListenerExecutionFailedException ä¸­ä¹‹åè¿˜ä¼šç»ç”± &lt;code&gt;ErrorHandler&lt;/code&gt; çš„ &lt;code&gt;handleError&lt;/code&gt; æ–¹æ³•å¤„ç†ï¼Œ é»˜è®¤çš„ ErrorHandler æ˜¯ &lt;code&gt;ConditionalRejectingErrorHandler&lt;/code&gt; ã€‚ &lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬ä¹Ÿå¯ä»¥å®ç°è‡ªå·±çš„ ErrorHandler æ¥æ§åˆ¶éœ€è¦ä¸¢å¼ƒæ¶ˆæ¯çš„å¼‚å¸¸ï¼Œåªè¦å®ç°  &lt;code&gt;org.springframework.util.ErrorHandler&lt;/code&gt; æ¥å£ï¼Œç„¶åå°†&lt;code&gt;listenerContainer&lt;/code&gt; ä¸­çš„ &lt;code&gt;errorHandler&lt;/code&gt; å‚æ•°æŒ‡å®šæˆ‘ä»¬è‡ªå®šä¹‰çš„ handler å³å¯ã€‚ &lt;/p&gt;
&lt;p&gt;ConditionalRejectingErrorHandler ä¸­é…ç½®æœ‰ &lt;code&gt;FatalExceptionStrategy&lt;/code&gt;ï¼Œä¼šè°ƒç”¨ FatalExceptionStrategy ä¸­çš„ isFatal æ–¹æ³•æ¥åˆ¤æ–­å¼‚å¸¸æ˜¯ä¸æ˜¯å±äºè‡´å‘½å¼‚å¸¸ã€‚&lt;/p&gt;
&lt;p&gt;ConditionalRejectingErrorHandler çš„å…·ä½“å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;41&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;42&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;43&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;44&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;45&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;46&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;47&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;48&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;49&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;50&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;51&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;52&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;53&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;54&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;55&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;56&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;57&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;58&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;59&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;60&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;61&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;62&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;63&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;64&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;65&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;66&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;67&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;68&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;69&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;70&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;71&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;72&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;73&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;74&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;ConditionalRejectingErrorHandler&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;ErrorHandler&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; FatalExceptionStrategy exceptionStrategy;	&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;handleError&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Throwable t)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.logger.isWarnEnabled()) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.logger.warn(&lt;span class=&quot;string&quot;&gt;&quot;Execution of Rabbit message listener failed.&quot;&lt;/span&gt;, t);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;// å¦‚æœæ˜¯è‡´å‘½å¼‚å¸¸ï¼Œåˆ™è½¬ä¸º AmqpRejectAndDontRequeueException æŠ›å‡º&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (!&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.causeChainContainsARADRE(t) &amp;amp;&amp;amp; &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.exceptionStrategy.isFatal(t)) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; AmqpRejectAndDontRequeueException(&lt;span class=&quot;string&quot;&gt;&quot;Error Handler converted exception to fatal&quot;&lt;/span&gt;, t);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * &lt;span class=&quot;doctag&quot;&gt;@return&lt;/span&gt; true if the cause chain already contains an&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * &amp;#123;&lt;span class=&quot;doctag&quot;&gt;@link&lt;/span&gt; AmqpRejectAndDontRequeueException&amp;#125;.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;causeChainContainsARADRE&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Throwable t)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	Throwable cause = t.getCause();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;while&lt;/span&gt; (cause != &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (cause &lt;span class=&quot;keyword&quot;&gt;instanceof&lt;/span&gt; AmqpRejectAndDontRequeueException) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		cause = cause.getCause();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;false&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * Default implementation of &amp;#123;&lt;span class=&quot;doctag&quot;&gt;@link&lt;/span&gt; FatalExceptionStrategy&amp;#125;.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * &lt;span class=&quot;doctag&quot;&gt;@since&lt;/span&gt; 1.6.3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;DefaultExceptionStrategy&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;FatalExceptionStrategy&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;// åˆ¤æ–­ä¼ å…¥å‚æ•° æ˜¯ä¸æ˜¯ è‡´å‘½å¼‚å¸¸&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;isFatal&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Throwable t)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (t &lt;span class=&quot;keyword&quot;&gt;instanceof&lt;/span&gt; ListenerExecutionFailedException&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				&amp;amp;&amp;amp; isCauseFatal(t.getCause())) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (ConditionalRejectingErrorHandler.&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.logger.isWarnEnabled()) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				ConditionalRejectingErrorHandler.&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.logger.warn(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;							&lt;span class=&quot;string&quot;&gt;&quot;Fatal message conversion error; message rejected; &quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;							+ &lt;span class=&quot;string&quot;&gt;&quot;it will be dropped or routed to a dead letter exchange, if so configured: &quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;							+ ((ListenerExecutionFailedException) t).getFailedMessage());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;false&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;isCauseFatal&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Throwable cause)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; cause &lt;span class=&quot;keyword&quot;&gt;instanceof&lt;/span&gt; MessageConversionException&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				|| cause &lt;span class=&quot;keyword&quot;&gt;instanceof&lt;/span&gt; org.springframework.messaging.converter.MessageConversionException&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				|| cause &lt;span class=&quot;keyword&quot;&gt;instanceof&lt;/span&gt; MethodArgumentNotValidException&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				|| cause &lt;span class=&quot;keyword&quot;&gt;instanceof&lt;/span&gt; MethodArgumentTypeMismatchException&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				|| cause &lt;span class=&quot;keyword&quot;&gt;instanceof&lt;/span&gt; NoSuchMethodException&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				|| cause &lt;span class=&quot;keyword&quot;&gt;instanceof&lt;/span&gt; ClassCastException&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				|| isUserCauseFatal(cause);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	 * é€šè¿‡é‡å†™è¯¥æ–¹æ³•æ¥æ·»åŠ è‡ªå®šä¹‰çš„å¼‚å¸¸&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	 * Subclasses can override this to add custom exceptions.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	 * &lt;span class=&quot;doctag&quot;&gt;@param&lt;/span&gt; cause the cause&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	 * &lt;span class=&quot;doctag&quot;&gt;@return&lt;/span&gt; true if the cause is fatal.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	 */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;isUserCauseFatal&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Throwable cause)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;false&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ä»£ç æ¯”è¾ƒé•¿ï¼Œç®€å•æ¥è¯´ï¼Œå°±æ˜¯ ConditionalRejectingErrorHandler çš„ handleError ä¼šå…ˆåˆ¤æ–­æ¥åˆ°çš„å¼‚å¸¸ä¸­çš„ cause æ˜¯ä¸æ˜¯ ARADREï¼Œå¦‚æœä¸æ˜¯å†è°ƒç”¨ FatalExceptionStrategy çš„ isFatal æ–¹æ³•ï¼Œåˆ¤æ–­æ˜¯ä¸æ˜¯è‡´å‘½å¼‚å¸¸ä¸­çš„ä¸€ç§ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™å°†å¼‚å¸¸è½¬ä¸º ARADRE æŠ›å‡ºï¼Œè¯¥æ¶ˆæ¯ä¹Ÿå°±ä¸ä¼šé‡æ–°å…¥é˜Ÿã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæƒ³è¦æŠŠè‡ªå®šä¹‰çš„å¼‚å¸¸åŠ å…¥åˆ° fatalExceptionï¼Œ ä¸€ä¸ªç®€å•çš„åŠæ³•å°±æ˜¯æä¾›æ–°çš„ FatalExceptionStrategy ï¼Œåªè¦ç»§æ‰¿ ConditionalRejectingErrorHandler.DefaultExceptionStrategy å¹¶é‡å†™ isUserCauseFatal(Throwable cause) æ–¹æ³•ï¼Œåœ¨æ–¹æ³•é‡Œå¯¹äºéœ€è¦ä¸¢å¼ƒæ¶ˆæ¯çš„å¼‚å¸¸è¿”å› trueå³å¯ã€‚&lt;/p&gt;
&lt;p&gt;å†ç®€å•çœ‹ä¸‹ï¼ŒRabbitMq åˆ¤æ–­æ˜¯å¦éœ€è¦å°†æ¶ˆæ¯é‡å…¥é˜Ÿåˆ—çš„éƒ¨åˆ†é€»è¾‘ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// We should always requeue if the container was stopping&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;boolean&lt;/span&gt; shouldRequeue = &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.defaultRequeuRejected || ex &lt;span class=&quot;keyword&quot;&gt;instanceof&lt;/span&gt; MessageRejectedWhileStoppingException;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Throwable t = ex;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;while&lt;/span&gt; (shouldRequeue &amp;amp;&amp;amp; t != &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (t &lt;span class=&quot;keyword&quot;&gt;instanceof&lt;/span&gt; AmqpRejectAndDontRequeueException) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			shouldRequeue = &lt;span class=&quot;keyword&quot;&gt;false&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	t = t.getCause();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æ ¹æ®ä¸Šé¢çš„ä»£ç ï¼Œå¦‚æœå¤„ç†æ¶ˆæ¯æ—¶å‡ºç°å¼‚å¸¸ï¼Œåœ¨åˆ¤æ–­æ˜¯å¦éœ€è¦å…¥é˜Ÿæ—¶ï¼Œä¼šå°† shouldRequeue å˜é‡ç­‰äº this.defaultRequeuRejected ||ex instanceof MessageRejectedWhileStoppingException çš„å€¼ï¼Œç„¶åå¦‚æœå¼‚å¸¸æ˜¯ ARADREï¼Œ ä¸ç®¡ä¹‹å‰ shouldRequeue çš„å€¼æ˜¯ä»€ä¹ˆï¼Œéƒ½ä¼šè¢«ç½®ä¸º falseã€‚æœ€åæ ¹æ® shouldRequeue çš„å€¼æ¥å†³å®šæ˜¯å¦éœ€è¦é‡æ–°å…¥é˜Ÿã€‚ &lt;/p&gt;
&lt;p&gt;å¯ä»¥ç”¨ä¸‹å›¾æ€»ç»“ä¸€ä¸‹ï¼š&lt;br&gt;&lt;img src=&quot;//yemengying.com/qiniu/image/2017-02-05-j%20-1-.png?imageMogr2/thumbnail/667x618!&quot; alt=&quot;æ€»ç»“&quot;&gt;&lt;/p&gt;
&lt;p&gt;æœ€åã€‚ã€‚Cookie å®å®ç¥å¤§å®¶æ–°æ˜¥å¿«ä¹~~&lt;br&gt;&lt;img src=&quot;https://pic.yupoo.com/jiananshi/6bcb0d8b/1461eb70.jpg&quot; alt=&quot;cookie å®å®&quot;&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;è¿™åº”è¯¥æ˜¯è¿‡å¹´å‡æœŸçš„æœ€åä¸€ç¯‡ï¼Œå¦‚æœä¸æ˜¯ï¼Œé‚£ä½ ä¸€å®šçœ‹åˆ°äº†å‡åšå®¢ã€‚(à¹‘â€¢Ì€ã…‚â€¢Ì)Ùˆâœ§  &lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="rabbitmq" scheme="http://yemengying.com/categories/rabbitmq/"/>
    
    
      <category term="rabbitmq" scheme="http://yemengying.com/tags/rabbitmq/"/>
    
      <category term="spring" scheme="http://yemengying.com/tags/spring/"/>
    
  </entry>
  
  <entry>
    <title>ä¸ºRabbitmqä¸­çš„Jackson2JsonMessageConverterè‡ªå®šä¹‰ClassMapper</title>
    <link href="http://yemengying.com/2017/01/03/rabbitmq-classMapper/"/>
    <id>http://yemengying.com/2017/01/03/rabbitmq-classMapper/</id>
    <published>2017-01-03T14:40:30.000Z</published>
    <updated>2018-12-13T04:11:34.000Z</updated>
    
    <content type="html">&lt;blockquote&gt;
&lt;p&gt;æ–°å¹´ç¬¬ä¸€ç¯‡~~ ğŸ£ğŸ¥ğŸ¤ğŸ”&lt;/p&gt;
&lt;/blockquote&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;æ¶ˆæ¯é˜Ÿåˆ—ç®—æ˜¯å„ä¸ªç³»ç»Ÿé—´é€šä¿¡æ¯”è¾ƒå¸¸è§çš„æ–¹å¼äº†ã€‚æˆ‘ä»¬å…¬å¸ç”¨çš„æ˜¯æ˜¯åŸºäº AMQP åè®®çš„ &lt;a href=&quot;http://www.rabbitmq.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;RabbitMq&lt;/a&gt;ã€‚åœ¨ Spring-AMQP ä¸­æ¯”è¾ƒé‡è¦çš„ç±»å°±æ˜¯ &lt;code&gt;Message&lt;/code&gt;ï¼Œå› ä¸ºè¦å‘é€çš„æ¶ˆæ¯å¿…é¡»è¦æ„é€ æˆä¸€ä¸ª Message å¯¹è±¡æ¥è¿›è¡Œä¼ è¾“ã€‚Message å¯¹è±¡åŒ…æ‹¬ä¸¤éƒ¨åˆ† Body å’Œ Propertiesï¼ŒBody å°±æ˜¯çœŸæ­£è¦å‘é€çš„æ¶ˆæ¯å†…å®¹ï¼ŒProperties å°±æ˜¯å’Œæ¶ˆæ¯ç›¸å…³çš„ä¸€äº›å±æ€§(æ¶ˆæ¯å¤´ï¼Œè¦å‘é€çš„äº¤æ¢æœºï¼ŒroutingKeyç­‰ç­‰)ï¼Œä¸»è¦ç»“æ„å¦‚ä¸‹ï¼š&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Message&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; MessageProperties messageProperties;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;byte&lt;/span&gt;[] body;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;æ¶ˆæ¯ç”Ÿäº§è€…æ„é€ å¥½ Message ä¹‹åï¼Œå°±ä¼šå°† Message å‘é€åˆ°æŒ‡å®šçš„ Exchange (äº¤æ¢æœº)ï¼Œå†æ ¹æ® Exchange çš„ç±»å‹åŠ routing-key å°†æ¶ˆæ¯è·¯ç”±åˆ°ç›¸åº”çš„ queue ä¸­ï¼Œæœ€åè¢«ç›‘å¬è¯¥ queue çš„æ¶ˆè´¹è€…æ¶ˆè´¹ï¼Œå¤§è‡´å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://pic.yupoo.com/jiananshi/d22db668/11c183f2.jpg&quot; alt=&quot;æµç¨‹1&quot;&gt;&lt;/p&gt;
&lt;p&gt;ä¸è¿‡æ¯æ¬¡å‘æ¶ˆæ¯éƒ½è¦è‡ªå·±æ„é€  Message å¯¹è±¡æ¯”è¾ƒéº»çƒ¦ã€‚Spring-AMQP å…è®¸æˆ‘ä»¬ç›´æ¥ä½¿ç”¨è‡ªå®šä¹‰çš„ç±»ï¼Œç„¶åä¼šåˆ©ç”¨æŒ‡å®šå¥½çš„ &lt;code&gt;MessageConverter&lt;/code&gt; å°†è‡ªå®šä¹‰çš„ç±»è½¬æ¢ä¸º Message è¿›è¡Œå‘é€ï¼Œåœ¨æ¥æ”¶æ—¶ä¹Ÿä¼šåˆ©ç”¨ MessageConverter å°†æ¥æ”¶åˆ°çš„ Message å¯¹è±¡è½¬æˆéœ€è¦çš„å¯¹è±¡ã€‚Spring-AMQP æä¾›äº†å¤šç§ MessageConverterï¼Œæ¯”å¦‚ SimpleMessageConverterï¼ŒSerializerMessageConverterï¼ŒJackson2JsonMessageConverterï¼ŒMarshallingMessageConverterç­‰ç­‰ï¼Œå¦‚æœå‘é€çš„æ¶ˆæ¯å¯¹è±¡ä¸æ˜¯ Message å®ä¾‹ï¼Œå¹¶ä¸”æ²¡æœ‰æŒ‡å®š MessageConverter çš„è¯ï¼Œé»˜è®¤ç”¨ SimpleMessageConverterã€‚ä»¥ä¸Šå„ç§ MessageConverter å½’æ ¹ç»“åº•éƒ½æ˜¯å®ç°äº† MessageConverter æ¥å£ï¼Œè¯¥æ¥å£åªæœ‰ä¸¤ä¸ªæ–¹æ³•ï¼š&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;MessageConverter&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;function&quot;&gt;Message &lt;span class=&quot;title&quot;&gt;toMessage&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Object object, MessageProperties messageProperties)&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;throws&lt;/span&gt; MessageConversionException&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;function&quot;&gt;Object &lt;span class=&quot;title&quot;&gt;fromMessage&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Message message)&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;throws&lt;/span&gt; MessageConversionException&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸¤ä¸ªæ–¹æ³•ä¸€ä¸ªæ˜¯åœ¨å‘é€æ¶ˆæ¯æ—¶å°†æˆ‘ä»¬çš„æ¶ˆæ¯å¯¹è±¡è½¬æ¢æˆæ ‡å‡†çš„ Message å¯¹è±¡ï¼Œå¦ä¸€ä¸ªæ˜¯åœ¨æ¥å—æ¶ˆæ¯æ—¶å°† Message å¯¹è±¡è½¬æ¢ä¸ºç›¸åº”çš„å¯¹è±¡ã€‚&lt;br&gt;æ¯”è¾ƒå¸¸ç”¨çš„ Converter å°±æ˜¯ Jackson2JsonMessageConverter(ä»¥ä¸‹ç®€ç§° JsonMessageConverter)ï¼Œåœ¨å‘é€æ¶ˆæ¯æ—¶ï¼Œå®ƒä¼šå…ˆå°†è‡ªå®šä¹‰çš„æ¶ˆæ¯ç±»åºåˆ—åŒ–æˆjsonæ ¼å¼ï¼Œå†è½¬æˆbyteæ„é€  Messageï¼Œåœ¨æ¥æ”¶æ¶ˆæ¯æ—¶ï¼Œä¼šå°†æ¥æ”¶åˆ°çš„ Message å†ååºåˆ—åŒ–æˆè‡ªå®šä¹‰çš„ç±»ã€‚å¤§è‡´æµç¨‹å¦‚ä¸‹å›¾ï¼š&lt;br&gt;&lt;img src=&quot;https://pic.yupoo.com/jiananshi/9900549c/d73e4d16.jpg&quot; alt=&quot;æµç¨‹2&quot;&gt;&lt;/p&gt;
&lt;p&gt;ä¸è¿‡ä½¿ç”¨ JsonMessageConverter æ—¶æœ‰ä¸€ä¸ªå°é—®é¢˜ï¼Œåœ¨&lt;code&gt;ä¸å¯¹å®ƒè¿›è¡Œä»»ä½•æ”¹é€ çš„å‰æä¸‹&lt;/code&gt;ï¼Œå‘é€æ¶ˆæ¯çš„ç±»å’Œæ¥å—æ¶ˆæ¯çš„ç±»å¿…é¡»æ˜¯ä¸€æ ·çš„ï¼Œä¸ä»…æ˜¯è¦é‡Œé¢çš„å­—æ®µä¸€æ ·ï¼Œç±»åä¸€æ ·ï¼Œè¿ç±»çš„åŒ…è·¯å¾„éƒ½è¦ä¸€æ ·ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥å½“ç³»ç»Ÿ1ä½¿ç”¨ JsonMessageConverter å‘é€æ¶ˆæ¯ç±»Aç»™ç³»ç»Ÿ2æ—¶ï¼Œç³»ç»Ÿ2å¯ä»¥æœ‰å¦‚ä¸‹å‡ ç§æ–¹å¼æ¥æ¥æ”¶ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;1.ä¾èµ–ç³»ç»Ÿ1çš„jaråŒ…,ç›´æ¥ä½¿ç”¨ç±»Aæ¥æ¥æ”¶ &lt;/li&gt;
&lt;li&gt;2.ä¸ä¾èµ–ç³»ç»Ÿ1çš„jaråŒ…ï¼Œè‡ªå·±å»ºä¸€ä¸ªå’ŒAä¸€æ¨¡ä¸€æ ·çš„ç±»ï¼Œè¿åç§°ï¼ŒåŒ…è·¯å¾„éƒ½ä¸€æ ·&lt;/li&gt;
&lt;li&gt;3.è´Ÿè´£ç›‘å¬ queue çš„ç±»å®ç° MessageListener æ¥å£ï¼Œç›´æ¥æ¥æ”¶ Message ç±»ï¼Œå†è‡ªå·±è½¬æ¢ &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸Šé¢ä¸‰ä¸ªæ–¹æ³•éƒ½ä¸æ˜¯å¾ˆå¥½ï¼ŒæŒ‰ç…§æ­£å¸¸çš„æƒ³æ³•ï¼Œæˆ‘ä»¬è‚¯å®šæ˜¯æœŸæœ›ç³»ç»Ÿ2ç›´æ¥ä½¿ç”¨è‡ªå·±çš„ç±»æ¥æ¥æ”¶å°±å¯ä»¥äº†ï¼Œåªè¦ä¸Aç±»çš„å­—æ®µåä¸€æ ·å³å¯ã€‚é‚£æœ‰æ²¡æœ‰æ–¹æ³•å¯ä»¥è®©ç³»ç»Ÿ2æ—¢ä¸ä¾èµ–æ— ç”¨çš„jaråŒ…ï¼Œä¹Ÿä¸ç”¨å»ºç«‹ä¸ªä¸è‡ªå·±å‘½åè§„èŒƒä¸ç›¸ç¬¦çš„ç±»ï¼Œ ä¹Ÿæ— éœ€è‡ªå·±è½¬æ¢å‘¢?&lt;/p&gt;
&lt;p&gt;è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå°±è¦å…ˆçœ‹çœ‹ JsonMessageConverter æ˜¯å¦‚ä½•å°† Message è¿›è¡Œååºåˆ—åŒ–çš„ã€‚&lt;br&gt;åœ¨ JsonMessageConverter çš„ fromMessage æ–¹æ³•ä¸­æœ‰è¿™ä¹ˆä¸€æ®µ:&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (getClassMapper() == &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	JavaType targetJavaType = getJavaTypeMapper()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		.toJavaType(message.getMessageProperties());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	content = convertBytesToObject(message.getBody(), encoding, targetJavaType);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	Class&amp;lt;?&amp;gt; targetClass = getClassMapper().toClass(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		message.getMessageProperties());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	content = convertBytesToObject(message.getBody(), encoding, targetClass);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;å°±æ˜¯è¯´é»˜è®¤æƒ…å†µä¸‹ï¼ŒJsonMessageConverter ä½¿ç”¨çš„ ClassMapper æ˜¯ &lt;code&gt;DefaultJackson2JavaTypeMapper&lt;/code&gt;ï¼Œåœ¨è½¬æ¢æ—¶é€šè¿‡ Message çš„ Properties æ¥è·å–è¦è½¬æ¢çš„ç›®æ ‡ç±»çš„ç±»å‹ã€‚é€šè¿‡ Debug å¯ä»¥å‘ç°ï¼Œç›®æ ‡ç±»çš„ç±»å‹æ˜¯å­˜å‚¨åœ¨ Message çš„ Proterties çš„ ä¸€ä¸ª headers çš„ Map ä¸­ï¼ŒKey å«â€œ__TypeId__â€ã€‚æ‰€ä»¥åªè¦æƒ³åŠæ³•åœ¨ä¼ è¾“æ¶ˆæ¯æ—¶æ›´æ”¹__TypeId__çš„å€¼å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æ˜¯è§£å†³åŠæ³•ï¼Œåœ¨æ¶ˆæ¯çš„ç”Ÿäº§è€…ç«¯ä¸º JsonMessageConverterï¼Œ è®¾ç½®ä¸€ä¸ªè‡ªå®šä¹‰çš„ ClassMapperï¼Œé‡å†™ fromClass æ–¹æ³•ï¼Œå°† __TypeId__ çš„å€¼è®¾ä¸ºæ¶ˆè´¹ç«¯ç”¨æ¥æ¥æ”¶çš„ç±»çš„è·¯å¾„+åç§°ã€‚å½“ç„¶äº†ï¼Œä¹Ÿå¯ä»¥åœ¨æ¶ˆè´¹è€…ç«¯é‡å†™toClassæ–¹æ³•ï¼Œç›´æ¥è¿”å›æƒ³è¦è½¬æ¢çš„ç›®æ ‡ç±»çš„ç±»ç±»å‹ã€‚ä¸¤ç§é€‰ä¸€ç§å°±å¯ä»¥ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@Bean&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; Jackson2JsonMessageConverter &lt;span class=&quot;title&quot;&gt;customConverter&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  Jackson2JsonMessageConverter converter = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Jackson2JsonMessageConverter();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  converter.setClassMapper(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ClassMapper() &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; Class&amp;lt;?&amp;gt; toClass(MessageProperties properties) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      &lt;span class=&quot;keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; UnsupportedOperationException(&lt;span class=&quot;string&quot;&gt;&quot;this mapper is only for outbound, do not use for receive message&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;fromClass&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Class&amp;lt;?&amp;gt; clazz, MessageProperties properties)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      properties.setHeader(&lt;span class=&quot;string&quot;&gt;&quot;__TypeId__&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;com.xxx.B&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; converter;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;æ„Ÿè§‰è‡ªå·±è¯­è¨€ç»„ç»‡èƒ½åŠ›é€€åŒ–äº†ã€‚ã€‚ã€‚ã€‚ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
</content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;æ–°å¹´ç¬¬ä¸€ç¯‡~~ ğŸ£ğŸ¥ğŸ¤ğŸ”&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="rabbitmq" scheme="http://yemengying.com/categories/rabbitmq/"/>
    
    
      <category term="rabbitmq" scheme="http://yemengying.com/tags/rabbitmq/"/>
    
      <category term="spring" scheme="http://yemengying.com/tags/spring/"/>
    
  </entry>
  
  <entry>
    <title>log ä¸æ‰“å°å¼‚å¸¸å †æ ˆ</title>
    <link href="http://yemengying.com/2016/12/18/log4j-not-printing-stacktrace-for-eception/"/>
    <id>http://yemengying.com/2016/12/18/log4j-not-printing-stacktrace-for-eception/</id>
    <published>2016-12-18T06:17:33.000Z</published>
    <updated>2018-12-13T04:14:48.000Z</updated>
    
    <content type="html">&lt;blockquote&gt;
&lt;p&gt;å’Œä¸Šç¯‡å†…å®¹å¹¶ä¸é‡å¤ ğŸ™ƒ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;æœ€è¿‘ç”±äºè§„åˆ™å¼•æ“æœ‰é—®é¢˜ï¼Œå¯¼è‡´äº§çº¿ä¸Šçš„ä¸€ä¸ª job ä¼šæŠ› NullPointerExceptionã€‚æœ¬æ¥è¿™æ˜¯ä¸ªå·²çŸ¥çš„é—®é¢˜ï¼Œä¹Ÿæ²¡ä»€ä¹ˆï¼Œå·²ç»è”ç³»å¯¹åº”çš„äººå»ä¿®å¤äº†ã€‚å¯ç”±æ­¤å‘ç°äº†å¦å¤–ä¸€ä¸ªé—®é¢˜ï¼Œ fireman çš„å‘Šè­¦é‚®ä»¶åªæœ‰å¼‚å¸¸çš„åç§°ï¼Œè€Œæ²¡æœ‰å¼‚å¸¸å †æ ˆã€‚&lt;br&gt;&lt;img src=&quot;//yemengying.com/qiniu/image/2016-12-18-Screen%20Shot%202016-12-18%20at%204.22.52%20PM.png&quot; alt=&quot;fireman&quot;&gt;&lt;/p&gt;
&lt;p&gt;è¿™å°±å¾ˆä»¤äººæ‡µåœˆäº†ï¼Œå› ä¸ºä¸çŸ¥é“æ˜¯å·²çŸ¥çš„è§„åˆ™å¼•æ“çš„é—®é¢˜è¿˜æ˜¯å…¶ä»–é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://pic.yupoo.com/jiananshi/e0ffe3d5/b2e1a958.jpeg&quot; alt=&quot;ï¼Ÿï¼Ÿ&quot;&gt;&lt;/p&gt;
&lt;p&gt;å…ˆçœ‹äº†ä¸‹å¯¹åº” job çš„ä»£ç ï¼Œç¡®è®¤æ‰“å°å¼‚å¸¸çš„å§¿åŠ¿æ˜¯æ­£ç¡®çš„, æœ¬åœ°ä¹Ÿå¯ä»¥æ­£å¸¸æ‰“å°ã€‚ç„¶åå»æœäº†ä¸‹å¯¹åº”æ—¥æœŸçš„ log æ–‡ä»¶ï¼Œç¡®å®æœ‰ä¸€å † NPE çš„æŠ¥é”™ï¼Œä¸è¿‡æƒŠå–œçš„å‘ç°åœ¨ä¸€å¼€å§‹çš„æ—¶å€™å…¶å®æ˜¯æœ‰æ‰“å‡ºå †æ ˆçš„ï¼Œåªæ˜¯åˆ°åé¢å°±æ²¡æœ‰äº†ã€‚&lt;/p&gt;
&lt;p&gt;æœ€åç»ˆäºåœ¨ &lt;a href=&quot;http://stackoverflow.com/questions/2295015/log4j-not-printing-the-stacktrace-for-exceptions&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;stackoverflow&lt;/a&gt; ä¸Šæ‰¾åˆ°äº†ç­”æ¡ˆã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The compiler in the server VM now provides correct stack backtraces for all â€œcoldâ€ built-in exceptions. For performance purposes, when such an exception is thrown a few times, the method may be recompiled. After recompilation, the compiler may choose a faster tactic using preallocated exceptions that do not provide a stack trace. To disable completely the use of preallocated exceptions, use this new flag: -XX:-OmitStackTraceInFastThrow.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä¸ªäººç†è§£å°±æ˜¯ï¼ŒJVM ä¸ºäº†æ€§èƒ½ä¼šåšä¼˜åŒ–ï¼Œå¦‚æœé¢‘ç¹çš„æŠ›å‡ºæŸä¸ªå¼‚å¸¸ï¼Œä¼šé‡æ–°ç¼–è¯‘ï¼Œä¸å†æ‰“å°å¼‚å¸¸å †æ ˆã€‚&lt;br&gt;è§£å†³è¿™ä¸ªé—®é¢˜ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œå¦‚æœä¸æƒ³æ¯æ¬¡éƒ½å»æŸ¥å‰é¢çš„ log å»çœ‹å †æ ˆï¼Œåªè¦åœ¨å¯åŠ¨å‚æ•°åŠ ä¸Š &lt;code&gt;-XX:-OmitStackTraceInFastThrow&lt;/code&gt;ï¼Œå°±å¯ä»¥ç¦ç”¨è¯¥ä¼˜åŒ–ï¼Œå¼ºåˆ¶æ‰“å°å¼‚å¸¸å †æ ˆã€‚è¿™æ ·å¯èƒ½ä¼šå¯¼è‡´ï¼Œlog æ–‡ä»¶è¿‡å¤§ï¼Œä¸è¿‡äº§çº¿ä¸Šä»Šå¤©ä¹‹å‰çš„ log æ–‡ä»¶éƒ½ä¼šè¢«å‹ç¼©ï¼Œæ‰€ä»¥æ„Ÿè§‰é—®é¢˜ä¹Ÿä¸å¤§ã€‚&lt;/p&gt;
&lt;p&gt;Ps:ç”¨ iPic ä¸Šä¼ å›¾ç‰‡çœŸæ˜¯å¥½ç”¨åˆ°é£èµ·ï¼Œéå¸¸é€‚åˆæˆ‘è¿™ç§å–œæ¬¢æ’å›¾æ˜Ÿäººï¼Œå¤šè°¢æ´ªèŠçš„è‰¯å¿ƒæ¨èã€‚&lt;br&gt;&lt;img src=&quot;https://pic.yupoo.com/jiananshi/f74936ec/a339d728.png&quot; alt=&quot;æ•²å¥½ç”¨&quot;&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;å’Œä¸Šç¯‡å†…å®¹å¹¶ä¸é‡å¤ ğŸ™ƒ&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="java" scheme="http://yemengying.com/categories/java/"/>
    
    
      <category term="java" scheme="http://yemengying.com/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>Clean Code, Clean Log</title>
    <link href="http://yemengying.com/2016/11/18/clean-code-clean-log/"/>
    <id>http://yemengying.com/2016/11/18/clean-code-clean-log/</id>
    <published>2016-11-18T03:14:13.000Z</published>
    <updated>2018-12-13T04:20:09.000Z</updated>
    
    <content type="html">&lt;blockquote&gt;
&lt;p&gt;æœ€è¿‘æçš„ PR éƒ½æœ‰å…³äº Log çš„ commentï¼Œä¸èƒ½å¿ï¼Œä»¥ä¸‹å†…å®¹æ€»ç»“æ•´ç†è‡ªæ˜ä½³çš„ Comment å’Œç½‘ç»œèµ„æ–™ï¼Œåªæ˜¯ä¸ºäº†ä»¥åæ PR ä¹‹å‰è¿‡æ¥æ‰«ä¸€çœ¼ï¼Œå°½é‡é¿å… Log ä¸Šçš„ç–å¿½ï¼Œä¸ä¸€å®šé€‚ç”¨äºæ‰€æœ‰äººã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;åœ¨ç¨‹åºä¸­çš„é€‚å½“ä½ç½®æ‰“ Log çš„é‡è¦æ€§å°±ä¸ç”¨å¤šè¯´äº†ï¼Œå¾ˆå¤šäººåº”è¯¥éƒ½ä½“ä¼šè¿‡çº¿ä¸Šæœ‰ Bug å´ç”±äºæ²¡æœ‰æ‰“ log è€Œä¸å¥½ troubleshooting çš„ç»å†ã€‚&lt;br&gt;&lt;img src=&quot;https://pic.yupoo.com/jiananshi/52d605e4/06ead603.gif&quot; alt=&quot;T^T&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;ç›¸å…³æ–‡æ¡£ï¼ˆåº·æ¡‘å“ˆå¯†è¾¾ï¼‰&quot;&gt;&lt;a href=&quot;#ç›¸å…³æ–‡æ¡£ï¼ˆåº·æ¡‘å“ˆå¯†è¾¾ï¼‰&quot; class=&quot;headerlink&quot; title=&quot;ç›¸å…³æ–‡æ¡£ï¼ˆåº·æ¡‘å“ˆå¯†è¾¾ï¼‰&quot;&gt;&lt;/a&gt;ç›¸å…³æ–‡æ¡£ï¼ˆåº·æ¡‘å“ˆå¯†è¾¾ï¼‰&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.nurkiewicz.com/2010/05/clean-code-clean-logs-use-appropriate.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Clean code, clean logs&lt;/a&gt;(ğŸ‘å¾ˆèµ)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;SLF4J-VS-Log4J&quot;&gt;&lt;a href=&quot;#SLF4J-VS-Log4J&quot; class=&quot;headerlink&quot; title=&quot;SLF4J VS Log4J&quot;&gt;&lt;/a&gt;SLF4J VS Log4J&lt;/h3&gt;&lt;p&gt;æœ‰å¾ˆå¤šå…³äºæ‰“ Log çš„ç¬¬ä¸‰æ–¹åº“ï¼Œä¹Ÿæ²¡æœ‰å¤šç ”ç©¶è¿‡ï¼Œæ¥è§¦è¿‡çš„å°±æ˜¯ &lt;code&gt;SLF4J&lt;/code&gt; å’Œ &lt;code&gt;Log4J&lt;/code&gt; äº†ï¼Œä¸è¿‡å¢™è£‚å»ºè®®ç”¨ &lt;a href=&quot;http://www.slf4j.org/manual.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;SLF4J&lt;/a&gt;ï¼Œä½¿ç”¨å ä½ç¬¦ {} çœŸçš„æ¯”åŠ å·æ‹¼æ¥å­—ç¬¦ä¸²å¯è¯»æ€§æé«˜Nå€å•Šï¼ï¼ï¼&lt;/p&gt;
&lt;p&gt;æ„Ÿå—ä¸€ä¸‹&amp;lt;(ï¿£ï¸¶ï¿£)&amp;gt;&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// SLF4J, good&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;log.error(&lt;span class=&quot;string&quot;&gt;&quot;Invest loan failed, loan Id: &amp;#123;&amp;#125;, error: &amp;#123;&amp;#125;&quot;&lt;/span&gt;, loanId, errorMsg);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// Log4J, bad&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;log.error(&lt;span class=&quot;string&quot;&gt;&quot;Invest loan failed, loan Id:&quot;&lt;/span&gt; + loanId + &lt;span class=&quot;string&quot;&gt;&quot; error: &quot;&lt;/span&gt; + errorMsg);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼ŒSLF4J è¿˜æœ‰å…¶ä»–çš„ä¼˜ç‚¹ï¼Œæ¯”å¦‚ä¸ç”¨å­—ç¬¦ä¸²æ‹¼æ¥ï¼ŒèŠ‚çœäº†åˆ›å»º String å¯¹è±¡æ‰€è€—è´¹çš„èµ„æºä¹‹ç±»çš„ã€‚ä¸è¿‡æˆ‘æœ€çœ‹é‡çš„å°±æ˜¯å¯è¯»æ€§é«˜äº†ã€‚&lt;br&gt;&lt;img src=&quot;https://pic.yupoo.com/jiananshi/ab4a80e5/6c60836c.gif&quot; alt=&quot;å–µå–µå‘œ&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;Logging-Level&quot;&gt;&lt;a href=&quot;#Logging-Level&quot; class=&quot;headerlink&quot; title=&quot;Logging Level&quot;&gt;&lt;/a&gt;Logging Level&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;ERROR - è®°å½•ä¸€äº›æ¯”è¾ƒä¸¥é‡çš„é”™è¯¯ï¼Œæ¯”å¦‚ä¸€äº›ä¸¥é‡å¼‚å¸¸ï¼Œæ•°æ®åº“é“¾æ¥ä¸å¯ç”¨ç­‰ç­‰&lt;/li&gt;
&lt;li&gt;WARN - è®°å½•ä¸€äº›ç³»ç»Ÿå¯ä»¥å®¹å¿çš„å¼‚å¸¸ï¼Œæˆ–è€…æ˜¯ä¸€äº›è­¦ç¤ºä¿¡æ¯ã€‚æ¯”å¦‚:â€Current data unavailable, using cached valuesâ€ã€‚&lt;/li&gt;
&lt;li&gt;INFO - è®°å½•ä¸€äº›æ¯”è¾ƒé‡è¦çš„æ“ä½œï¼Œèƒ½åæ˜ ç¨‹åºè¿è¡ŒçŠ¶æ€çš„ã€‚æ¯”å¦‚:â€[Who] booked ticket from [Where] to [Where]â€&lt;/li&gt;
&lt;li&gt;DEBUG - ä¸€äº›å¸®åŠ©è°ƒè¯•çš„ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;TRACE - å—¯ï¼Œè¿™ä¸ªçº§åˆ«ä¿ºä¹Ÿæ²¡ç”¨è¿‡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;Pay-attention&quot;&gt;&lt;a href=&quot;#Pay-attention&quot; class=&quot;headerlink&quot; title=&quot;Pay attention&quot;&gt;&lt;/a&gt;Pay attention&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Log ä¿¡æ¯é¦–å­—æ¯å¤§å†™&lt;br&gt;è¿™ç‚¹å®Œå…¨æ˜¯ä¸ºäº†çœ‹ä¸Šå»èˆ’æœï¼Œè‡³äºåˆ°åº•éœ€ä¸éœ€è¦å¤§å†™ï¼Œè§ä»è§æ™ºå§~ï¼Œä¸è¿‡æˆ‘è¿˜æ˜¯è¦æ³¨æ„ä¸€ä¸‹ï¼Œè¦å¤§å†™ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// good&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;log.error(&lt;span class=&quot;string&quot;&gt;&quot;Invest loan failed, loan Id: &amp;#123;&amp;#125;, error: &amp;#123;&amp;#125;&quot;&lt;/span&gt;, loanId, errorMsg);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// bad&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;log.error(&lt;span class=&quot;string&quot;&gt;&quot;invest loan failed, loan Id: &amp;#123;&amp;#125;, error: &amp;#123;&amp;#125;&quot;&lt;/span&gt;, loanId, errorMsg);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;é¿å… Log ä¸­çš„ NullPointerException&lt;br&gt;å¦‚æœåƒä¸‹é¢è¿™æ ·è®° Logï¼Œè¦æ³¨æ„ç¡®ä¿ loan ä¸ä¼šä¸ºnull, ä¸ç„¶æ‰“ Log æ—¶æŠ›ä¸ª NPEï¼Œæƒ³æƒ³å°±è›‹ç–¼ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;log.info(&lt;span class=&quot;string&quot;&gt;&quot;Invest loan : &amp;#123;&amp;#125;&quot;&lt;/span&gt;, loan.getId());&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Log çš„ä¿¡æ¯ç®€æ´æœ‰ç”¨&lt;br&gt;Log çš„å†…å®¹ä¸€å®šè¦æ˜¯æœ‰ç”¨çš„ï¼Œèƒ½åæ˜ å‡ºç¨‹åºçš„è¿è¡ŒçŠ¶æ€ï¼Œèƒ½å¸®åŠ©å®šä½é”™è¯¯ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// good&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;log.info(&lt;span class=&quot;string&quot;&gt;&quot;Invest loan with id:&amp;#123;&amp;#125;&quot;&lt;/span&gt;, loanId);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// bad&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;log.info(&lt;span class=&quot;string&quot;&gt;&quot;Invest loan&quot;&lt;/span&gt;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;è®°å½•æŸäº›æ–¹æ³•çš„å…¥å‚å’Œå‡ºå‚&lt;br&gt;è®°å½•æ–¹æ³•çš„å…¥å‚å’Œå‡ºå‚ï¼Œä¹Ÿå¯ä»¥å¸®åŠ©æˆ‘ä»¬å®šä½é—®é¢˜ã€‚ç‰¹åˆ«æ˜¯è°ƒç”¨æä¾›æ¥å£ç»™å…¶ä»–ç³»ç»Ÿè°ƒç”¨çš„æ—¶å€™ï¼Œè®°å½•å…¥å‚å¯ä»¥å¸®åŠ©åˆ†è¾¨åˆ°åº•æ˜¯è°çš„é”…ğŸŒšã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; String &lt;span class=&quot;title&quot;&gt;printDocument&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Document doc, Mode mode)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  log.debug(&lt;span class=&quot;string&quot;&gt;&quot;Entering printDocument(doc=&amp;#123;&amp;#125;, mode=&amp;#123;&amp;#125;)&quot;&lt;/span&gt;, doc, mode);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  String id = &lt;span class=&quot;comment&quot;&gt;//Lengthy printing operation&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  log.debug(&lt;span class=&quot;string&quot;&gt;&quot;Leaving printDocument(): &amp;#123;&amp;#125;&quot;&lt;/span&gt;, id);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; id;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;åˆé€‚çš„è®°å½•å¼‚å¸¸&lt;br&gt;å¤§å®¶éƒ½çŸ¥é“è¦åœ¨è®°å½•ç¨‹åºè¿è¡Œä¸­æŠ›å‡ºçš„å¼‚å¸¸ï¼Œä½†æœ‰çš„æ—¶å€™æ–¹å¼å¯èƒ½æ˜¯ä¸å¯¹çš„ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;try&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   &lt;span class=&quot;keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; NullPointerException(&lt;span class=&quot;string&quot;&gt;&quot;Just for test&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &amp;#125; &lt;span class=&quot;keyword&quot;&gt;catch&lt;/span&gt; (Exception e)&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   log.error(e);        &lt;span class=&quot;comment&quot;&gt;//A &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   log.error(e, e);        &lt;span class=&quot;comment&quot;&gt;//B &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   log.error(&lt;span class=&quot;string&quot;&gt;&quot;&quot;&lt;/span&gt; + e);        &lt;span class=&quot;comment&quot;&gt;//C &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   log.error(e.toString());        &lt;span class=&quot;comment&quot;&gt;//D &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   log.error(e.getMessage());        &lt;span class=&quot;comment&quot;&gt;//E &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   log.error(&lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;, e);        &lt;span class=&quot;comment&quot;&gt;//F &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   log.error(&lt;span class=&quot;string&quot;&gt;&quot;&quot;&lt;/span&gt;, e);        &lt;span class=&quot;comment&quot;&gt;//G&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   log.error(&lt;span class=&quot;string&quot;&gt;&quot;&amp;#123;&amp;#125;&quot;&lt;/span&gt;, e);        &lt;span class=&quot;comment&quot;&gt;//H &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   log.error(&lt;span class=&quot;string&quot;&gt;&quot;&amp;#123;&amp;#125;&quot;&lt;/span&gt;, e.getMessage());        &lt;span class=&quot;comment&quot;&gt;//I &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   log.error(&lt;span class=&quot;string&quot;&gt;&quot;Error reading configuration file: &quot;&lt;/span&gt; + e);        &lt;span class=&quot;comment&quot;&gt;//J &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   log.error(&lt;span class=&quot;string&quot;&gt;&quot;Error reading configuration file: &quot;&lt;/span&gt; + e.getMessage());        &lt;span class=&quot;comment&quot;&gt;//K &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   log.error(&lt;span class=&quot;string&quot;&gt;&quot;Error reading configuration file&quot;&lt;/span&gt;, e);        &lt;span class=&quot;comment&quot;&gt;//L&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;åœ¨ä¸Šé¢ 12 ç§æ‰“å°å¼‚å¸¸çš„æ–¹å¼ä¸­ï¼Œåªæœ‰ G å’Œ Læ˜¯æ­£ç¡®çš„ã€‚A å’Œ B åœ¨ä½¿ç”¨ SLF4J æ—¶ä¼šç¼–è¯‘ä¸é€šè¿‡ï¼Œ å…¶ä»–çš„å‡ ç§è¦ä¹ˆä¸ä¼šæ‰“å°å¼‚å¸¸å †æ ˆï¼Œè¦ä¹ˆä¼šæ‰“å°å‡ºä¸æ­£ç¡®çš„ä¿¡æ¯ã€‚æ¯”å¦‚ï¼ŒE çš„æ–¹å¼åªä¼šæ‰“å°â€Just for testâ€çš„ä¿¡æ¯ï¼Œè€Œä¸ä¼šæ‰“å°å¼‚å¸¸ç±»å‹å’Œå¼‚å¸¸å †æ ˆã€‚åœ¨ SLF4J ä¸­ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ–‡æœ¬ä¿¡æ¯ï¼Œç®€å•æè¿°ä¸€ä¸‹å¼‚å¸¸ï¼›ç¬¬äºŒä¸ªå‚æ•°è¦ä¼ å¼‚å¸¸æœ¬èº«ï¼Œè€Œä¸æ˜¯&lt;code&gt;e.getMessage()&lt;/code&gt;æˆ–&lt;code&gt;e.toString()&lt;/code&gt;,è¿™æ ·æ‰èƒ½æ‰“å°å‡ºå¼‚å¸¸å †æ ˆï¼Œæ–¹ä¾¿å®šä½é—®é¢˜ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¸Œæœ›å¯ä»¥æ¶ˆç­å’Œ Log æœ‰å…³çš„ Commentã€‚&lt;br&gt;&lt;img src=&quot;https://pic.yupoo.com/jiananshi/872e177c/aa1c06dc.jpeg&quot; alt=&quot;biu biu biu~&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ¬¢è¿æŒ‡æ­£é”™è¯¯ï¼Œæ¬¢è¿ä¸€èµ·è®¨è®º~(â‰§â–½â‰¦)/~ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
</content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;æœ€è¿‘æçš„ PR éƒ½æœ‰å…³äº Log çš„ commentï¼Œä¸èƒ½å¿ï¼Œä»¥ä¸‹å†…å®¹æ€»ç»“æ•´ç†è‡ªæ˜ä½³çš„ Comment å’Œç½‘ç»œèµ„æ–™ï¼Œåªæ˜¯ä¸ºäº†ä»¥åæ PR ä¹‹å‰è¿‡æ¥æ‰«ä¸€çœ¼ï¼Œå°½é‡é¿å… Log ä¸Šçš„ç–å¿½ï¼Œä¸ä¸€å®šé€‚ç”¨äºæ‰€æœ‰äººã€‚&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="éšç¬”" scheme="http://yemengying.com/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
      <category term="éšç¬”" scheme="http://yemengying.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>ã€è½¬ã€‘EVE æ—©æœŸæˆå‘˜é¢åŸº</title>
    <link href="http://yemengying.com/2016/11/15/i-love-eve/"/>
    <id>http://yemengying.com/2016/11/15/i-love-eve/</id>
    <published>2016-11-15T05:12:46.000Z</published>
    <updated>2017-06-10T07:56:03.000Z</updated>
    
    <content type="html">&lt;blockquote&gt;
&lt;p&gt;ç¬¬ä¸€æ¬¡è½¬åˆ«äººçš„åšå®¢ï¼Œæƒ³çœ‹åŸæ–‡çš„è¯·ç§»æ­¥&lt;a href=&quot;http://kevin.doyeden.com/2016/11/13/with-sunshine-after-one-year/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;ä¸‰â€œè§‚â€èŒ…åº&lt;/a&gt;ï¼Œæˆ‘æ‰ä¸ä¼šå‘Šè¯‰ä½ ä»¬åŸæ–‡æœ‰å¤§ç¥é«˜æ¸…æ— ç ç…§çš„ï¼ï¼ï¼&lt;/p&gt;
&lt;/blockquote&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;å…ˆè¯´ç‚¹è‡ªå·±æƒ³è¯´çš„ï¼Œ EVE æ˜¯æ¯•ä¸šåç¬¬ä¸€ä»½å·¥ä½œåšçš„ç¬¬ä¸€ä¸ªäº§å“(ä¹Ÿå¯ä»¥è¯´ç¬¬ä¸€ä»½å·¥ä½œåšå¾—å”¯ä¸€çš„äº§å“ï¼Œåé¢çš„é‚£ä¸ªæˆ‘å®åœ¨ä¸æƒ³æ‰¿è®¤æ˜¯æˆ‘å†™çš„ğŸ™„)ï¼Œåš EVE çš„é‚£æ®µæ—¥å­æ˜¯åˆ°ç›®å‰ä¸ºæ­¢æ¯•ä¸šåæœ€å¼€å¿ƒçš„æ—¶å…‰ï¼Œå­¦ä¹ åˆ°äº†å¾ˆå¤šä¸œè¥¿ä¹Ÿè®¤è¯†äº†å¾ˆå¤šå¾ˆæ£’çš„å°ä¼™ä¼´ï¼Œä¸è¿‡ä¹Ÿå°±æ˜¯å› ä¸ºé‚£æ®µæ—¶å…‰å¤ªè¿‡ç¾å¥½ï¼Œæ‰å¯¼è‡´åœ¨éƒ¨é—¨æ‹†åˆ†ï¼ŒEVE å›¢é˜Ÿå¤§æ¢è¡€ä¹‹åèŒç”Ÿäº†ç¦»èŒçš„å¿µå¤´ã€‚å”‰ï¼Œæ²¡æœ‰å¯¹æ¯”å°±æ²¡æœ‰ä¼¤å®³å•Šã€‚ä¸è¿‡è¿˜æ˜¯å¾ˆæ„Ÿè°¢å‰å‰å¸ï¼Œè€å¤§è¿˜æœ‰ç£Šå“¥æ”¶ç•™æŠ€è‰ºä¸ç²¾çš„æˆ‘ã€‚&lt;/p&gt;
&lt;p&gt;ä¸Šå‘¨å’Œä¹‹å‰çš„ EVE å°ä¼™ä¼´æäº†æ¬¡èšé¤ï¼Œè§åˆ°äº†ä¸€å¹´å¤šæ²¡è§çš„ sunshine å¤§ç¥ï¼Œä¹‹å‰åš EVE æ—¶ï¼Œå‰æœŸä¸€ç›´å’Œå¤§ç¥è”è°ƒï¼Œè™½æœªçœ‹è¿‡å¤§ç¥çš„ä»£ç ï¼Œä½†ä¹Ÿåœ¨ API æ–‡æ¡£è¯„å®¡æ—¶æ·±åˆ»æ„Ÿå—åˆ°äº†å¤§ç¥çš„ä»£ç æ´ç™–ã€‚å—¯ï¼Œæœ‰ä»£ç æ´ç™–çš„äººä»£ç ä¸€å®šå†™çš„å¥½ã€‚&lt;/p&gt;
&lt;p&gt;æœ€åï¼Œå¸Œæœ›ä¸‹æ¬¡èšé¤å¯ä»¥å¬åˆ°å¤§ç¥è®²æ®µå­ğŸ˜ã€‚&lt;/p&gt;
&lt;p&gt;â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”åˆ†å‰²çº¿ï¼Œä»¥ä¸‹å†…å®¹æ¥è‡ªhongjuâ€™s blogâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”&lt;/p&gt;
&lt;p&gt;è¿™æ¬¡é¢åŸºçš„æˆå› ä¸»è¦è¿˜æ˜¯å› ä¸ºå‰ä¸¤å¤©çœ‹å¾®ä¿¡é€šè®¯å½•ï¼Œsunshine å¤§ç¥çš„å¤´åƒæ¢æˆäº†ä¸€åªç‹—ã€‚äºæ˜¯å°±èŠäº†èµ·æ¥ï¼Œç„¶åå°±æœ‰äº†ä»Šæ™šçš„è¿™æ¬¡èšé¤~ sunshine å¤§ç¥å»å¹´ç¦»èŒåï¼Œå¤§çº¦åœ¨åæœˆä¸€ä¹‹å‰èšè¿‡ä¸€æ¬¡é¤ï¼Œå½“æ—¶ä½çš„ä¹Ÿæ¯”è¾ƒè¿‘ï¼Œåæ¥å¤§ç¥æ¬åˆ°æµ¦ä¸œï¼Œäºæ˜¯ä¸€å¹´æœªè§ã€‚äºæ˜¯åˆçº¦åˆ°é˜¿å§¨ï¼Œå¢ç¥ï¼Œå‡‘äº†ä¸€æ¬¡çƒ¤è‚‰ã€‚&lt;/p&gt;
&lt;p&gt;æœªç»å¤§ç¥åŒæ„ï¼Œå…ˆå·å·çš„æ”¾ä¸€å¼  sunshine çš„ç…§ç‰‡å§~&lt;/p&gt;
&lt;p&gt;&amp;lt;æ­¤å¤„åº”è¯¥æœ‰ç…§ç‰‡&amp;gt;&lt;/p&gt;
&lt;p&gt;å¤§ç¥ï¼Œé˜¿å§¨ï¼Œå¢ç¥å’Œæˆ‘ä»¬å½“æ—¶ä¸€èµ·åšåœ¨ * å…¬å¸åš EVE è¿™æ¬¾äº§å“ï¼Œé˜¿å§¨å’Œå¢ç¥æ˜¯EVEçš„åç«¯ä¸»åŠ›ï¼Œsunshine ç®—æ˜¯æˆ‘çš„ mentorï¼Œå¸¦ç€æˆ‘ç”¨ cordova åšå®¢æˆ·ç«¯ï¼Œè¯´ç™½äº†å°±æ˜¯ç”¨ H5 æŠ€æœ¯æ¥åšå®¢æˆ·ç«¯ã€‚é‚£æ®µæ—¥å­å­¦åˆ°äº†å¾ˆå¤šä¸œè¥¿ï¼Œsunshine å¤§ç¥çš„ä»£ç ä¸€ç›´å¾ˆ cleanï¼Œç»™æˆ‘åšäº†éå¸¸å¥½çš„æ¦œæ ·ã€‚ä»¥è‡³äºè¿™ä¸€å¹´å¤šæ¥ï¼Œæ²¡è§è¿‡æ¯”å¤§ç¥æ›´åŠ å¹²å‡€çš„ä»£ç ã€‚ä¹Ÿå°±è¯´ï¼Œå½“æˆ‘çœ‹é‚£äº›äººä»£ç çš„æ—¶å€™ï¼ŒæŠ‘åˆ¶ä¸ä½åæ§½çš„æƒ…ç»ªã€‚åœ¨ sunshine çš„è‰¯å¥½å½±å“ä¸‹ï¼Œæˆ‘è‡ªå·±ä¹Ÿå°½é‡å†™æœ€å¹²å‡€çš„ä»£ç ã€‚&lt;/p&gt;
&lt;p&gt;é™¤äº†ä»£ç ä¹‹å¤–ï¼Œsunshine å¯¹æŠ€æœ¯çš„è¿½æ±‚ä¹Ÿç»™æˆ‘æ ‘ç«‹äº†å¾ˆå¥½çš„æ¦œæ ·ã€‚å…¶å®ï¼Œåœ¨å…¬å¸å°±ä¼šæ„Ÿè§‰åˆ°å¾ˆå¤šäººå¯¹æŠ€æœ¯ä»…é™äºè¡¨é¢ï¼Œæˆ–è€…èƒ½ç”¨å°±è¡Œã€‚ä¸€ç‚¹ç‚¹è¿½æ±‚éƒ½æ²¡æœ‰ï¼Œè¿™ç‚¹ï¼Œå¾ˆè‡´å‘½ã€‚&lt;/p&gt;
&lt;p&gt;è¯´å®ŒæŠ€æœ¯ï¼Œå†è¯´è¯´ sunshine å¤§ç¥çš„ RPï¼Œå¤§ç¥ä¸ä»…æŠ€æœ¯ä¹Ÿå¥½ï¼Œåšæœ‹å‹ä¹Ÿå¾ˆå¥½ã€‚éå¸¸è¸å®ï¼Œæœ‰è¿½æ±‚ï¼Œå› æ­¤æˆ‘è§‰å¾—è‡ªå·±éå¸¸å¹¸è¿ï¼Œèƒ½åœ¨è‡ªå·±æ¯•ä¸šæ­£å¼ç­¾çº¦çš„ç¬¬ä¸€å®¶å…¬å¸å°±èƒ½é‡åˆ°è¿™ä¹ˆå¥½çš„ mentorã€‚å¯æƒœçš„æ˜¯ï¼Œsunshine ç¦»èŒï¼Œä¸¢ä¸‹çš„ EVE è¿™æ¬¾ç¾ä¸½çš„äº§å“äºä¸é è°±çš„ sjn ä¹‹æ‰‹ã€‚è¿™é‡Œä¸å†åæ§½äº†ã€‚æœ€è¿‘å¾—çŸ¥ï¼ŒEVE è¿™æ¬¾äº§å“æ›´å **ã€‚é ï¼&lt;/p&gt;
&lt;p&gt;è¯´å®Œï¼Œsunshine ï¼Œ è¿™ç¯‡æ–‡ç« åŸºæœ¬å°±ç®—å®Œäº‹äº†ã€‚&lt;/p&gt;
&lt;p&gt;EVE çš„æ—©æœŸæˆå‘˜éƒ½æ˜¯éå¸¸é è°±ï¼Œå°å›¢é˜Ÿï¼Œåˆèƒ½æˆäº‹ï¼Œç°åœ¨å¾ˆå¤šäººç¦»å¼€äº†å…¬å¸ï¼Œä¸€éƒ¨åˆ†äººä¹Ÿåˆ†å¸ƒåœ¨ä¸åŒçš„ä¸šåŠ¡çº¿ä¸Šï¼Œå¹¶ä¸”éƒ½æ··å¾—å¾ˆä¸é”™ã€‚æœŸå¾…ç€ï¼Œå“ªä¸€å¤©èƒ½å†æ¬¡èšåœ¨ä¸€èµ·~ä¹Ÿä¸æ‰ä¸€èµ·ä¸ºäº† EVE ç†¬äº†è®¸å¤šå¤œã€‚&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;ç¬¬ä¸€æ¬¡è½¬åˆ«äººçš„åšå®¢ï¼Œæƒ³çœ‹åŸæ–‡çš„è¯·ç§»æ­¥&lt;a href=&quot;http://kevin.doyeden.com/2016/11/13/with-sunshine-after-one-year/&quot;&gt;ä¸‰â€œè§‚â€èŒ…åº&lt;/a&gt;ï¼Œæˆ‘æ‰ä¸ä¼šå‘Šè¯‰ä½ ä»¬åŸæ–‡æœ‰å¤§ç¥é«˜æ¸…æ— ç ç…§çš„ï¼ï¼ï¼&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="éšç¬”" scheme="http://yemengying.com/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
      <category term="éšç¬”" scheme="http://yemengying.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="è½¬è½½" scheme="http://yemengying.com/tags/%E8%BD%AC%E8%BD%BD/"/>
    
  </entry>
  
  <entry>
    <title>Something about Spring Transaction</title>
    <link href="http://yemengying.com/2016/11/14/something-about-spring-transaction/"/>
    <id>http://yemengying.com/2016/11/14/something-about-spring-transaction/</id>
    <published>2016-11-14T13:30:34.000Z</published>
    <updated>2018-12-13T04:23:34.000Z</updated>
    
    <content type="html">&lt;blockquote&gt;
&lt;p&gt;è®°å½•ä¸€ä¸ªä¸Šå‘¨é‡åˆ°çš„å°é—®é¢˜ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;åç«¯å¼€å‘å…ä¸äº†è¦å’Œäº‹åŠ¡æ‰“äº¤é“ï¼Œæ¯”è¾ƒå¸¸ç”¨çš„å°±æ˜¯åˆ©ç”¨ Spring æ¡†æ¶çš„å£°æ˜å¼äº‹åŠ¡ç®¡ç†ï¼Œç®€å•çš„è¯´å°±æ˜¯åœ¨éœ€è¦äº‹åŠ¡ç®¡ç†çš„ç±»æˆ–æ–¹æ³•ä¸Šæ·»åŠ  &lt;code&gt;@Transactional&lt;/code&gt; æ³¨è§£ï¼Œç„¶ååœ¨é…ç½®ç±»ä¸Šæ·»åŠ  &lt;code&gt;@EnableTransactionManagement&lt;/code&gt;æ³¨è§£(è¿™é‡Œé…ç½®é‡‡ç”¨ JavaConfig çš„æ–¹å¼ï¼Œå¦‚æœæ˜¯ XMLï¼Œ æ˜¯è¦åœ¨ XML æ–‡ä»¶ä¸­æ·»åŠ &lt;code&gt;&amp;lt;tx:annotation-driven/&amp;gt;&lt;/code&gt;)ã€‚ç„¶å Spring æ¡†æ¶ä¼šåˆ©ç”¨ AOP åœ¨ç›¸å…³æ–¹æ³•è°ƒç”¨çš„å‰åè¿›è¡Œäº‹åŠ¡ç®¡ç†ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€ç›´ä»¥æ¥ä¹Ÿæ²¡å‡ºä»€ä¹ˆå²”å­ï¼Œç›´åˆ°ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚&lt;/p&gt;
&lt;p&gt;ä¸Šå‘¨å†™äº†æ®µå¤§æ¦‚é•¿ä¸‹é¢æ ·çº¸çš„ä»£ç ã€‚&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;GiraffeServiceImpl&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;GiraffeService&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(List&amp;lt;Giraffe&amp;gt; giraffes)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (Giraffe giraffe : giraffes) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      B(giraffe);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;meta&quot;&gt;@Transactional&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;transactionManager&quot;&lt;/span&gt;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Giraffe giraffe)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  	&lt;span class=&quot;comment&quot;&gt;// Step 1: update something&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  	&lt;span class=&quot;comment&quot;&gt;// Step 2: insert something&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  	&lt;span class=&quot;comment&quot;&gt;// Step 3: update something&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;å¤§æ¦‚å°±æ˜¯ Service ä¸­æœ‰ä¸€ä¸ªæ–¹æ³• Aï¼Œä¼šå†…éƒ¨è°ƒç”¨æ–¹æ³• Bï¼Œ æ–¹æ³• A æ²¡æœ‰äº‹åŠ¡ç®¡ç†ï¼Œæ–¹æ³• B é‡‡ç”¨äº†å£°æ˜å¼äº‹åŠ¡ï¼Œé€šè¿‡åœ¨æ–¹æ³•ä¸Šå£°æ˜ Transactional çš„æ³¨è§£æ¥åšäº‹åŠ¡ç®¡ç†ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶é¹…ï¼Œé€šè¿‡ä¸‹é¢çš„ Junit æµ‹è¯•æ–¹æ³• A çš„æ—¶å€™å‘ç°æ–¹æ³• B çš„äº‹åŠ¡å¹¶æ²¡æœ‰å¼€å¯ï¼Œ è€Œç›´æ¥è°ƒç”¨æ–¹æ³• B äº‹åŠ¡æ˜¯æ­£å¸¸å¼€å¯çš„ã€‚ &lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;GiraffeServiceTest&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;meta&quot;&gt;@Autowired&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; GiraffeService giraffeService;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;// æ²¡æœ‰å¼€å¯äº‹åŠ¡&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;meta&quot;&gt;@Test&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;testA&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	giraffeService.A();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;// æ­£å¸¸å¼€å¯äº‹åŠ¡&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;meta&quot;&gt;@Test&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;testB&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	giraffeService.B();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&quot;https://pic.yupoo.com/jiananshi/42081bb5/9b2b2888.jpg&quot; alt=&quot;T^T&quot;&gt;&lt;/p&gt;
&lt;p&gt;é—®äº†ä¸‹æ˜ä½³å’Œè¶…å“¥ä¹‹åï¼Œç»ˆäºæœ‰ç‚¹æ˜ç™½äº†ğŸ¤”&lt;/p&gt;
&lt;p&gt;Spring åœ¨åŠ è½½ç›®æ ‡ Bean çš„æ—¶å€™ï¼Œä¼šä¸ºå£°æ˜äº† @Transactional çš„ ç›®æ ‡ Bean åˆ›é€ ä¸€ä¸ªä»£ç†ç±»ï¼Œè€Œ&lt;code&gt;ç›®æ ‡ç±»æœ¬èº«å¹¶ä¸èƒ½æ„ŸçŸ¥åˆ°ä»£ç†ç±»çš„å­˜åœ¨&lt;/code&gt;ã€‚è°ƒç”¨é€šè¿‡ Spring ä¸Šä¸‹æ–‡æ³¨å…¥çš„ Bean çš„æ–¹æ³•ï¼Œ å¹¶ä¸æ˜¯ç›´æ¥è°ƒç”¨ç›®æ ‡ç±»çš„æ–¹æ³•ã€‚&lt;br&gt;&lt;img src=&quot;https://pic.yupoo.com/jiananshi/72b75974/a642fa86.png&quot; alt=&quot;ä¸æ˜¯&quot;&gt;&lt;br&gt;è€Œæ˜¯å…ˆè°ƒç”¨ä»£ç†ç±»çš„æ–¹æ³•ï¼Œå†è°ƒç”¨ç›®æ ‡ç±»çš„ã€‚&lt;br&gt;&lt;img src=&quot;https://pic.yupoo.com/jiananshi/a08dbbac/a91d9ecf.png&quot; alt=&quot;æ˜¯&quot;&gt;&lt;/p&gt;
&lt;p&gt;å¯¹äºåŠ äº†@Transactionalæ³¨è§£çš„æ–¹æ³•æ¥è¯´ï¼Œåœ¨è°ƒç”¨ä»£ç†ç±»çš„æ–¹æ³•æ—¶ï¼Œä¼šå…ˆé€šè¿‡æ‹¦æˆªå™¨&lt;code&gt;TransactionInterceptor&lt;/code&gt;å¼€å¯äº‹åŠ¡ï¼Œç„¶ååœ¨è°ƒç”¨ç›®æ ‡ç±»çš„æ–¹æ³•ï¼Œæœ€ååœ¨è°ƒç”¨ç»“æŸåï¼ŒTransactionInterceptor ä¼šæäº¤æˆ–å›æ»šäº‹åŠ¡ï¼Œå¤§è‡´æµç¨‹å¦‚ä¸‹å›¾ã€‚&lt;br&gt;&lt;img src=&quot;https://pic.yupoo.com/jiananshi/f445d468/d8b89267.png&quot; alt=&quot;transaction manager&quot;&gt;&lt;/p&gt;
&lt;p&gt;è€Œå¯¹äºç¬¬ä¸€æ®µçš„ä»£ç ï¼Œæˆ‘åœ¨æ–¹æ³• A ä¸­è°ƒç”¨æ–¹æ³• Bï¼Œå®é™…ä¸Šæ˜¯é€šè¿‡â€œthisâ€çš„å¼•ç”¨ï¼Œä¹Ÿå°±æ˜¯ç›´æ¥è°ƒç”¨äº†ç›®æ ‡ç±»çš„æ–¹æ³•ï¼Œè€Œéé€šè¿‡ Spring ä¸Šä¸‹æ–‡è·å¾—çš„ä»£ç†ç±»ï¼Œæ‰€ä»¥ã€‚ã€‚ã€‚äº‹åŠ¡æ˜¯ä¸ä¼šå¼€å¯æ»´ã€‚&lt;/p&gt;
&lt;p&gt;è§£å†³åŠæ³•ä¹Ÿè›®ç®€å•ï¼Œé€šè¿‡å®ç°ApplicationContextAwareæ¥å£è·å¾— Spring çš„ä¸Šä¸‹æ–‡ï¼Œç„¶åè·å¾—ç›®æ ‡ç±»çš„ä»£ç†ç±»ï¼Œé€šè¿‡ä»£ç†ç±»çš„å¯¹è±¡ï¼Œè°ƒç”¨æ–¹æ³• Bï¼Œå³å¯ã€‚&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;GiraffeServiceImpl&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;GiraffeService&lt;/span&gt;,&lt;span class=&quot;title&quot;&gt;ApplicationContextAware&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;span class=&quot;meta&quot;&gt;@Setter&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; ApplicationContext applicationContext;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(List&amp;lt;Giraffe&amp;gt; giraffes)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    GiraffeService service = applicationContext.getBean(GiraffeService.class);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (Giraffe giraffe : giraffes) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      service.B(giraffe);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;meta&quot;&gt;@Transactional&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;transactionManager&quot;&lt;/span&gt;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Giraffe giraffe)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  	&lt;span class=&quot;comment&quot;&gt;// Step 1: update something&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  	&lt;span class=&quot;comment&quot;&gt;// Step 2: insert something&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  	&lt;span class=&quot;comment&quot;&gt;// Step 3: update something&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;stackoverflow ä¸Šä¹Ÿæœ‰ç›¸å…³çš„é—®é¢˜:&lt;br&gt;&lt;a href=&quot;http://stackoverflow.com/questions/1099025/spring-transactional-what-happens-in-background&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;@Transactional - What happens in background?&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://stackoverflow.com/questions/23931698/spring-transactional-annotation-self-invocation&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;@Transactional Annotation : Self Invocation&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å”‰ï¼Œéƒ½å¿«å†™å®Œäº†ï¼Œè¿˜æ²¡ç­‰æ¥ wuli æ‚¦å„¿&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://pic.yupoo.com/jiananshi/95e282f8/8e7068a2.png&quot; alt=&quot;wuli æ‚¦å„¿&quot;&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;è®°å½•ä¸€ä¸ªä¸Šå‘¨é‡åˆ°çš„å°é—®é¢˜ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="éšç¬”" scheme="http://yemengying.com/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
      <category term="éšç¬”" scheme="http://yemengying.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="spring" scheme="http://yemengying.com/tags/spring/"/>
    
  </entry>
  
  <entry>
    <title>Running Man 7012</title>
    <link href="http://yemengying.com/2016/10/27/runningman-7012/"/>
    <id>http://yemengying.com/2016/10/27/runningman-7012/</id>
    <published>2016-10-27T13:47:17.000Z</published>
    <updated>2018-12-13T04:34:05.000Z</updated>
    
    <content type="html">&lt;blockquote&gt;
&lt;p&gt;å‰ä¸¤å¤©åˆ·å¾®åšæ—¶çªç„¶çœ‹åˆ° Gary å³å°†ä» ã€ŠRunning Manã€‹(ä»¥ä¸‹ç®€ç§° RM) ä¸‹è½¦çš„æ¶ˆæ¯ï¼Œæœ‰ç‚¹ä¼¤æ„Ÿï¼Œå´å¹¶ä¸æƒŠè®¶ã€‚å¯èƒ½ä»2016å¹´å¼€å§‹ï¼Œå°±éšçº¦æ„Ÿåˆ°èŠ‚ç›®åˆ°äº†ç“¶é¢ˆï¼Œæ”¶è§†ç‡ä¹Ÿä¸€ç›´ä¸Šä¸æ¥ï¼Œä½œä¸ºä¸€ä¸ªé“æ†ç²‰ä¸ä¹Ÿä¸å¾—ä¸æ‰¿è®¤ RM æ²¡æœ‰ä»¥å‰å¥½çœ‹äº†ï¼Œå¾ˆé•¿æ—¶é—´æ²¡æœ‰ä¸€æœŸçœ‹å¥½å‡ éçš„æƒ…å†µäº†ã€‚ä¸è¿‡è¿½äº† RM å››å¹´ï¼Œçœ‹ RM æ—©å·²ä¸æ˜¯ä¸ºäº†å¨±ä¹æç¬‘ï¼Œè€Œå˜æˆäº†è‡ªå·±ç”Ÿæ´»çš„ä¸€éƒ¨åˆ†ï¼Œåªè¦çœ‹åˆ°ä»–ä»¬ä¸ƒä¸ªå°±å¼€å¿ƒã€‚ä¹Ÿè®¸åœ¨ä¸ä¹…çš„å°†æ¥è¿ RM éƒ½ä¼šåœæ’­äº†ï¼Œä½†ç°åœ¨åªè¦ RM æ›´æ–°ä¸€æœŸï¼Œå°±ä¼šçœ‹ä¸€æœŸï¼Œå“ªæ€•å°±æ˜¯ä»–ä»¬å‡ ä¸ªå—‘ç“œå­é—²èŠå¤©ã€‚å³ä¾¿æœ‰å†ç«å†å¥½çœ‹çš„èŠ‚ç›®ï¼Œè‡ªå·±ä¹Ÿæ—©æ²¡äº†å½“åˆçš„å¿ƒå¢ƒå»è¿½äº†ã€‚æ”¹ç¼–æˆ‘å‰å¥³ç¥çš„ä¸€å¥æ­Œè¯å°±æ˜¯â€œæœ‰çš„ç»¼è‰ºè¯´ä¸æ¸…å“ªé‡Œå¥½ï¼Œä½†å°±æ˜¯è°éƒ½æ›¿ä»£ä¸äº†â€ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;å¥½äº†ï¼Œç»“æŸä¼¤æ„Ÿçš„è¯é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬æ¥æƒ³å†™ç¯‡ RM ç§‘æ™®æ–‡ï¼Œä½†å¯¹ RM ä¸æ„Ÿå†’ä¼°è®¡æ€ä¹ˆè¯´ä¹Ÿä¸ä¼šæ„Ÿå…´è¶£å§ã€‚æ‰€ä»¥å°±ç®€å•å†™ç‚¹ï¼Œçºªå¿µä¸‹æˆ‘çˆ±çš„ä¸ƒåªå’Œç¬¬ä¸€æ¬¡ä¹Ÿæ˜¯æœ€åä¸€æ¬¡è¿½äº†å››å¹´çœ‹è¿‡æ¯ä¸€æœŸçš„ RMã€‚éƒ¨åˆ†èµ„æ–™å’Œå›¾ç‰‡æ¥æºäºç½‘ç»œï¼Œæƒä¾µåˆ ã€‚&lt;/p&gt;
&lt;h3 id=&quot;ä¸ƒåª&quot;&gt;&lt;a href=&quot;#ä¸ƒåª&quot; class=&quot;headerlink&quot; title=&quot;ä¸ƒåª&quot;&gt;&lt;/a&gt;ä¸ƒåª&lt;/h3&gt;&lt;p&gt;RM èƒ½æ”¶è·é‚£ä¹ˆçš„å–œçˆ±å’Œå…³æ³¨ï¼Œè™½ç„¶ç¦»ä¸å¼€åˆ¶ä½œç»„çš„ç²¾å¿ƒåˆ¶ä½œå’Œåˆ›æ„ï¼Œä½†æ›´é‡è¦çš„æ˜¯ä¸ƒä¸ª MC çš„äººæ ¼é­…åŠ›ã€‚Soâ€¦..å°±ä»ä»‹ç»ä¸ƒåªå¼€å§‹ï¼ŒèŠèŠ RM å§ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;åˆ˜åœ¨çŸ³&lt;/strong&gt;:&lt;br&gt;  &lt;img src=&quot;https://pic.yupoo.com/jiananshi/80534c41/b8231039.jpeg&quot; alt=&quot;åˆ˜å¤§ç¥&quot;&gt;&lt;br&gt;  å¤–å·ï¼šåˆ˜å¤§ç¥ã€åˆ˜é²æ–¯Â·å¨åˆ©æ–¯ã€åˆ˜å§†æ–¯Â·é‚¦å¾·ã€èš‚èš±/èš±èœ¢ã€åˆ˜èµ«&lt;/p&gt;
&lt;p&gt;  å›½æ°‘ MCï¼Œä¹Ÿåº”è¯¥æ˜¯ç›®å‰éŸ©å›½åœ°ä½æœ€é«˜çš„ MC äº†ã€‚RM çš„çµé­‚äººç‰©ï¼Œç¾å¥½çš„ä¸€å¡Œç³Šæ¶‚(æˆ‘æ˜¯ä¸æ˜¯å’Œé©´å¾—æ°´é‡Œé¢çš„æ•™è‚²éƒ¨é•¿ä¸€æ ·ä¸ä¼šç”¨è¯ğŸ¤“)ã€‚ä¼šè®°ä½å·¥ä½œäººå‘˜çš„åå­—ï¼Œä¼šåœ¨å½•åˆ¶ä¸­å»å¸®åŠ©è·¯è¾¹çš„å¸‚æ°‘ï¼Œä¼šéšè—è‡ªå·±åŠªåŠ›çªå‡ºå…¶ä»–äººï¼Œäº²æ°‘ï¼Œè°¦é€Šï¼Œå¹½é»˜ï¼Œæ¸©æš–(æ­¤å¤„çœç•¥10ä¸‡å­—)ã€‚è·‘æ­¥å¾ˆå¿«ï¼Œæ‰€ä»¥æœ‰ä¸ªå¤–å·å«åˆ˜é²æ–¯Â·å¨åˆ©æ–¯ã€‚å¦‚æœç¡¬è¦è¯´ä¸€ä¸ªç¼ºç‚¹çš„è¯ï¼Œé‚£å°±æ˜¯ã€‚ã€‚ã€‚ã€‚ã€‚æ©ï¼Œæ‘˜äº†çœ¼ç›é¢œå€¼éª¤é™ã€‚&lt;br&gt;  &lt;img src=&quot;https://pic.yupoo.com/jiananshi/7957bb61/8f1eef04.png&quot; alt=&quot;èŒèŒå“’&quot;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;æ± çŸ³é•‡&lt;/strong&gt;ï¼š&lt;br&gt;  &lt;img src=&quot;https://pic.yupoo.com/jiananshi/b2ded4aa/94416e26.jpg&quot; alt=&quot;æ± çŸ³é•‡&quot;&gt;&lt;br&gt;  å¤–å·ï¼šç‹é¼»å­ã€é»‘æ–‘ç¾šã€Race Starter&lt;/p&gt;
&lt;p&gt;  ç‹ğŸ‘ƒå¤§å”ï¼ŒRM ä¸­å¹´é¾„æœ€å¤§çš„ï¼Œæ“…é•¿èº«ä½“æç¬‘ã€‚æ˜¯ RM ä¸­çš„æœ€å¼±ä½“, ç›‘ç‹±ä¸‰äººç»„ä¹‹ä¸€ã€‚å‡ ä¹æ¯æ¬¡æ’•åç‰Œéƒ½æ˜¯æœ€å…ˆå»ç›‘ç‹±çš„ï¼Œæ‰€ä»¥ä¹Ÿè¢«ç§°ä¸ºâ€œRace Starterâ€(æ¯”èµ›å¼€å§‹)ã€‚å…¶å®é¼»å­å¤§å”å¯¹ RM çš„è´¡çŒ®æ˜¯å¾ˆå¤§çš„ï¼Œåœ¨å‰æœŸæ‰€æœ‰äººçš„å®šä½è¿˜ä¸æ˜ç¡®çš„æ—¶å€™ï¼ŒRM çš„ç¬‘ç‚¹éƒ½æ˜¯é å¤§ç¥å’Œé¼»å­å¤§å”æ‰›èµ·æ¥çš„ï¼Œé¼»å­å”æ˜¯é‚£ç§èº«ä½“ç´ è´¨ä¸€èˆ¬ï¼Œä½†å£æ‰è¶…æ£’çš„äººï¼Œå¾ˆä¼šåˆ¶é€ ç¬‘æ–™ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;å®‹æ™ºå­&lt;/strong&gt;ï¼š&lt;br&gt;  &lt;img src=&quot;https://pic.yupoo.com/jiananshi/54e46ffb/63699140.jpg&quot; alt=&quot;å®‹æ™ºå­&quot;&gt;&lt;br&gt;  å¤–å·ï¼šæ‡µæ™ºã€ä¸è‰¯æ™ºå­ã€Aceã€é‡‘æ™ºå­ã€å‘¨ä¸€æƒ…ä¾£&lt;/p&gt;
&lt;p&gt;  RM ä¸­å”¯ä¸€çš„å¥³ MCã€‚ç¬¬ä¸€çœ¼æ„Ÿè§‰å°±æ˜¯æ¼‚äº®ï¼Œå¾ˆè€çœ‹ã€‚ä½†æ·±å…¥äº†è§£ä¸‹å»ï¼Œæ‰å‘ç°æ¼‚äº®åœ¨æ™ºå­èº«ä¸Šå·²ç»ç®—ä¸ä¸Šä»€ä¹ˆé—ªå…‰ç‚¹äº†ã€‚ç¬¬ä¸€æ¬¡è§åˆ°åˆšç¡é†’é¡¶ç€ä¸€å¤´ä¹±ä¹±çš„å¤´å‘å°±å»å½•å½±çš„å¥³æ¼”å‘˜ï¼›ç¬¬ä¸€æ¬¡è§åˆ°åœ¨è½¦ä¸Šå¼ ç€å˜´ç¡çš„å¥³æ¼”å‘˜ï¼›èƒ½æ‘”è·¤ï¼Œèƒ½åŠˆç –ï¼Œèƒ½ä¸‹æ³¥æ½­ï¼Œèƒ½è¹¦æï¼Œå®Œå…¨ä¸è¾“ç»™ç”·ç”Ÿï¼›æ°”æ€¥äº†è¿˜ä¼šçˆ†ä¸¤å¥ç²—å£ï¼Œç¬é—´å˜èº«ä¸è‰¯æ™ºå­;å¾ˆèªæ˜ï¼Œæ˜¯ RM ä¸­å•ç‹¬è·èƒœæ¬¡æ•°æœ€å¤šçš„ï¼›è¿™æ ·çš„æ‡µæ™ºæ€ä¹ˆå¯èƒ½ä¸å–œæ¬¢ğŸ˜&lt;br&gt;  &lt;img src=&quot;https://pic.yupoo.com/jiananshi/ca73daa1/f28b5c45.png&quot; alt=&quot;å®‹æ™ºå­&quot;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;é‡‘é’Ÿå›½&lt;/strong&gt;ï¼š&lt;br&gt; &lt;img src=&quot;https://pic.yupoo.com/jiananshi/1edb8f53/9596e577.jpeg&quot; alt=&quot;é‡‘é’Ÿå›½&quot;&gt;&lt;br&gt;  å¤–å·ï¼šèƒ½åŠ›è€…ã€è€è™ã€é’Ÿæ·‘ã€æ–¯å·´è¾¾å›½&lt;/p&gt;
&lt;p&gt;  å¾ˆå…·æœ‰åè½¬é­…åŠ›çš„ä¸€ä¸ªäººã€‚å”±æ­Œæ—¶å—“éŸ³å¾ˆç»†è…»æ¸©æŸ”ï¼Œæ’•åç‰Œæ—¶å´ä»¥ä¸€æŠµåï¼›çœ‹èº«æå¾ˆå‰½æ‚ï¼Œå®é™…å´å¾ˆçˆ±å–èŒã€‚æ˜¯ RM ä¸­çš„èƒ½åŠ›è€…ï¼Œæ’•éå¤©ä¸‹æ— æ•Œæ‰‹ï¼Œä¸è¿‡ä¹Ÿå› ä¸ºå¤ªå¼ºï¼Œç»å¸¸åœ¨æ’•åç‰Œæ—¶è¢«å›´å‰¿ğŸ˜­ã€‚è¦è¯´èƒ½åŠ›è€…æœ‰ä»€ä¹ˆæ€•çš„ï¼Œåº”è¯¥å°±æ˜¯â€œèƒŒå›é•¿é¢ˆé¹¿â€ï¼ˆæå…‰æ´™ï¼‰äº†ï¼Œå°±æ˜¯æœ¬èƒ½å‘å®³è€è™ã€‚&lt;br&gt;  &lt;img src=&quot;//yemengying.com/qiniu/image/tumblr_mitpqwkvFE1qgnyjgo6_r1_250.gif&quot; alt=&quot;ï¸¿(ï¿£ï¸¶ï¿£)ï¸¿&quot;&gt;&lt;br&gt;  å’³å’³ï¼Œåªæ˜¯ä¸ºäº†èŠ‚ç›®æ•ˆæœï¼Œå›½å„¿å’Œå…‰æ´™è¿˜æ˜¯å¾ˆæœ‰çˆ±çš„ğŸ™ƒã€‚&lt;br&gt;  &lt;img src=&quot;//yemengying.com/qiniu/image/tumblr_mitpqwkvFE1qgnyjgo2_r2_250.gif&quot; alt=&quot;ç›¸äº²ç›¸çˆ±&quot;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;å§œgary&lt;/strong&gt;:&lt;br&gt; &lt;img src=&quot;https://pic.yupoo.com/jiananshi/aee80059/8d6c7f46.jpg&quot; alt=&quot;å§œgary&quot;&gt;&lt;br&gt;  å¤–å·ï¼šç‹—å“¥ã€å¹³å’ŒGaryã€å¶å°”èƒ½åŠ›è€…ã€é±¿é±¼ã€å‘¨ä¸€æƒ…ä¾£&lt;/p&gt;
&lt;p&gt;  æœ¬èŒå·¥ä½œæ˜¯éŸ³ä¹äººï¼Œä½†å´å› ä¸ºç»¼è‰ºç«äº†èµ·æ¥ã€‚åœ¨èŠ‚ç›®ä¸­ï¼Œæ€»æ˜¯ä¸ç»æ„çš„çˆ†å‘ä¸€ä¸‹ï¼Œæ‰€ä»¥è¢«ç§°ä¸ºå¶å°”èƒ½åŠ›è€…ï¼Œå‰ä¸¤æœŸçš„æœ€å¼ºè€…ç‰¹è¾‘ï¼Œ gary éƒ½æ˜¯æœ€åçš„è·èƒœè€…ã€‚gary çš„è¯¸å¤šå®šä½ä¸­ï¼Œæœ€ç«çš„åº”è¯¥å°±æ˜¯å’Œæ™ºå­çš„å‘¨ä¸€æƒ…ä¾£äº†ã€‚è™½ç„¶åœ¨2016å¹´çš„èŠ‚ç›®ä¸­ï¼Œåˆ¶ä½œç»„ç‰¹æ„æ·¡åŒ–äº†å‘¨ä¸€cpé—´çš„äº’åŠ¨ï¼Œä½†æˆ‘ä¸€ç›´è§‰å¾— gary å°±æ˜¯æ™ºå­çš„â€œå§œç›–é‡Œâ€ï¼Œä¼šå·å·æ”¾èµ°å¥¹çš„â€œå§œç›–é‡Œâ€ã€‚å¤šäºäº†å‘¨ä¸€æƒ…ä¾£ï¼Œè®©æˆ‘åœ¨çœ‹ç»¼è‰ºçš„åŒæ—¶ï¼Œä¹Ÿçœ‹äº†éƒ¨å¶åƒå‰§ğŸŒš&lt;br&gt; &lt;img src=&quot;https://pic.yupoo.com/jiananshi/a335d17a/c569430f.jpg&quot; alt=&quot;å‘¨ä¸€æƒ…ä¾£&quot;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;å“ˆå“ˆ&lt;/strong&gt;ï¼š&lt;br&gt;  &lt;img src=&quot;https://pic.yupoo.com/jiananshi/595589e2/3852699b.jpg&quot; alt=&quot;å“ˆå“ˆ&quot;&gt;&lt;br&gt;  å¤–å·ï¼šHaroroã€ä¼é¹…ã€èŠ±å¿ƒå“ˆå“ˆ&lt;/p&gt;
&lt;p&gt;  å“ˆå“ˆï¼Œæœ¬åæ²³ä¸œå‹‹ï¼Œä¸è¿‡è¿˜æ˜¯æ›´ä¹ æƒ¯å“ˆå“ˆè¿™ä¸ªåå­—ã€‚æ—©æœŸåœ¨ RM çš„å®šä½æ˜¯â€œèŠ±å¿ƒå“ˆå“ˆâ€ï¼Œæ¯æ¬¡ä¸€æ¥å¥³å˜‰å®¾ï¼Œå°±ä¼šè¯´â€œæˆä¸ºæˆ‘æœ€åçš„çˆ±å§ (ï½¡â™¥â€¿â™¥ï½¡)â€ã€‚ä¸è¿‡è¿™äº›åªæ˜¯ä¸ºäº†æ´»è·ƒæ°”æ°›ï¼Œç»“å©šä¹‹åâ€œèŠ±å¿ƒå“ˆå“ˆâ€çš„å®šä½å°±æ²¡æœ‰ï¼Œå˜æˆäº†â€œé¡¾å®¶å¥½ç”·äººâ€ï¼Œæœ€è¿‘å¬è¯´å“ˆå“ˆé©¬ä¸Šè¦æœ‰ç¬¬äºŒä¸ªå­©å­äº†ï¼Œåœ¨æ¸¡æ±‰æ±Ÿé‚£æœŸè¯´çš„æ„¿æœ›ä¹Ÿè¦å®ç°äº†ã€‚&lt;br&gt;  &lt;img src=&quot;https://pic.yupoo.com/jiananshi/fbecf329/cb2884c4.gif&quot; alt=&quot;â˜†Â´âˆ€ï½€â˜†&quot;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;æå…‰æ´™&lt;/strong&gt;:&lt;br&gt;  &lt;img src=&quot;https://pic.yupoo.com/jiananshi/8f831e6e/5343a05d.jpg&quot; alt=&quot;æå…‰æ´™&quot;&gt;&lt;br&gt;  å¤–å·ï¼šé•¿é¢ˆé¹¿ã€äºšæ´²ç‹å­ã€æå…‰å­ã€å…‰å‡¡è¾¾ã€å…‰èŸ¾èœã€æƒ…æ™¯å‰§å‘çƒ§å‹&lt;/p&gt;
&lt;p&gt;  ç»å¯¹çš„ç”·ç¥ï¼Œæˆ‘åšå®¢çš„æ ‡å‡†ç»“å°¾ã€‚å…¶å®åœ¨ä¸€å¼€å§‹ï¼Œå…‰æ´™å¯ä»¥è¯´æ˜¯æœ€ä¸èµ·çœ¼çš„ï¼Œä½œä¸ºä¸€ä¸ªç»¼è‰ºæ–°æ‰‹ï¼Œæ²¡æœ‰å¤§ç¥ï¼Œå›½å„¿ï¼Œhahaä»ä»¥å‰èŠ‚ç›®ç§¯ç´¯ä¸‹çš„è§‚ä¼—ç¼˜ï¼Œæ²¡æœ‰ç‹é¼»å­è€ç»ƒï¼Œæ²¡æœ‰ gary æœ‰é‚£ä¹ˆå¤šçš„æ­Œè¿·ï¼Œä¹Ÿæ²¡æœ‰å®‹ä»²åŸºé‚£ä¹ˆæ˜æ˜¾çš„é¢œå€¼ä¼˜åŠ¿ã€‚ä½†åœ¨è‡ªå·±çš„åŠªåŠ›å’Œå…¶ä»–äººçš„å¸®åŠ©ä¸‹ï¼Œä¸€ç‚¹ç‚¹æ‰¾åˆ°äº†è‡ªå·±çš„å®šä½ï¼ˆé™·å®³å…‰æ´™ï¼Œeasy å…„å¼Ÿï¼Œé•¿é¢ˆé¹¿)ã€‚åœ¨èŠ‚ç›®ä¸­ï¼Œå…‰æ´™æœ€æ˜æ˜¾çš„ç‰¹è´¨åº”è¯¥å°±æ˜¯â€œèƒŒå›â€äº†ï¼Œæ¯æ¬¡éƒ½è®©äººè§‰å¾—å¥½æ°”å•Šï¼Œç„¶åå°±åˆç¬‘çš„è‚šå­ç–¼ã€‚ã€‚ã€‚ã€‚ä¸çŸ¥é“ä¸ºä»€ä¹ˆä¸ƒä¸ª MC ä¸­ï¼Œæœ€æœ€å–œæ¬¢å…‰æ´™ï¼Œè¿å¸¦ç€æŠŠå¾ˆå¤šç½‘ç«™çš„ç”¨æˆ·åéƒ½æ¢æˆäº† giraffeï¼Œå¯èƒ½å¤©ç”Ÿå°±å¯¹è¿™ç§åˆåŠªåŠ›åˆé€—æ¯”çš„äººæ²¡æœ‰æŠµæŠ—åŠ›å§ã€‚&lt;br&gt;  æ”¾ä¸€ä¸‹å¥³è£…é€ å‹&lt;br&gt;  &lt;img src=&quot;https://pic.yupoo.com/jiananshi/ea305e38/3e5739f2.jpeg&quot; alt=&quot;æå…‰å­&quot;&gt;&lt;br&gt;  ä¸è¿‡ä¸€å¼€å§‹çš„èƒ¡å­é€ å‹çœŸæ˜¯äº®çäº†æˆ‘çš„å¡å§¿å…°å¤§çœ¼ç›ã€‚&lt;br&gt;  &lt;img src=&quot;https://pic.yupoo.com/jiananshi/18ff87f0/ad47d124.jpg&quot; alt=&quot;ğŸ˜±&quot;&gt;&lt;br&gt;  å“ˆå“ˆå“ˆå“ˆï¼ŒåŸè°…æˆ‘ï¼Œçˆ±åˆ°æ·±å¤„è‡ªç„¶é»‘å•Šã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;å¢™è£‚æ¨è&quot;&gt;&lt;a href=&quot;#å¢™è£‚æ¨è&quot; class=&quot;headerlink&quot; title=&quot;å¢™è£‚æ¨è&quot;&gt;&lt;/a&gt;å¢™è£‚æ¨è&lt;/h3&gt;&lt;p&gt;æœ¬æ¥æƒ³æŒ‰ç…§å¥½çœ‹ç¨‹åº¦æ’ä¸ªæœ€å¥½çœ‹çš„åæœŸï¼Œæœ€åå‘ç°å®åœ¨é€‰ä¸å‡ºæ¥ã€‚æ¯ä¸€æœŸéƒ½æ•²å¥½çœ‹ï¼Œéƒ½å€¼å¾—çœ‹ã€‚å°±éšä¾¿æ¨å‡ æœŸå§ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.tudou.com/albumplay/KwvzbxLDWls/C7eeyc6dRVI.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;20130825 &lt;/a&gt;&lt;br&gt; æŒ‰ç…§ç”µå½±é›ªå›½åˆ—è½¦ä¸ºä¸»é¢˜æ‹æ‘„çš„ä¸€æœŸï¼Œç©æ¸¸æˆæ•´ç†æ’åï¼Œå›½å„¿å’Œå¤§ç¥äº’æ‰“æ‰‹æŒé‚£æ®µç®€ç›´ç¬‘å±æˆ‘äº†ã€‚&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.tudou.com/albumplay/KwvzbxLDWls/_kGbJeh5ayM.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;20130526&lt;/a&gt;&lt;br&gt; å˜‰å®¾æ˜¯é‡‘ç§€è´¤å’Œæç¹é›¨ï¼Œå…¨é›†é«˜èƒ½ï¼Œæˆ‘å¤§ç¥å¼ç€æ¥åŠ›æ£’åƒæ´‹è‘±åœˆç®€ç›´èŒç¿»æˆ‘ã€‚&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.tudou.com/albumplay/v9hwf_w5zyk/kDnxaOAcKsY.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;20141123&lt;/a&gt;&lt;br&gt; è¿™é›†é€ å‹æå…¶å“‡æ’’ï¼Œæ”¾å¼ å›¾ï¼Œå¤§å®¶æ†‹è¯´è¯ï¼Œç”¨å¿ƒæ„Ÿå—&lt;br&gt; &lt;img src=&quot;https://pic.yupoo.com/jiananshi/ad30cb4d/55d3dc2c.png&quot; alt=&quot;(ï¿£â–½ï¿£)~*&quot;&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.tudou.com/albumplay/v9hwf_w5zyk/RzktO2d9L1o.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;20141012&lt;/a&gt;&lt;br&gt; ä¸ƒä¸ªæˆå‘˜éƒ½å˜æˆäº†è¶…çº§è‹±é›„ï¼Œé«˜ç©ºæµ‹è¯•èƒ†é‡é‚£æ®µç¬‘çš„æˆ‘è‚šå­ç–¼ã€‚&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.tudou.com/albumplay/v9hwf_w5zyk/AKR3BwkXzV8.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;20141109&lt;/a&gt;&lt;br&gt; å¥³è£…ç‰¹è¾‘ï¼Œæœ€çˆ±wuliå…‰å­å’Œé’Ÿæ·‘äº†ã€‚&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.tudou.com/albumplay/KwvzbxLDWls/JTRj3UG6Nsg.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;20130915&lt;/a&gt;&lt;br&gt; å¾ˆå¤šäººåº”è¯¥å†²ç€å˜‰å®¾æ˜¯Bigbangçœ‹è¿‡è¿™æœŸäº†ï¼Œä½†æˆ‘æ¨èè¿™æœŸæ˜¯å› ä¸ºè¿™æœŸæœ‰æˆ‘å‘¨ä¸€æƒ…ä¾£çš„è§å±åˆå»ï¼Œæˆ‘çš„å°‘å¥³å¿ƒå•ŠğŸ˜&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.iqiyi.com/v_19rrn6uwpg.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;20141214&lt;/a&gt;&lt;br&gt; é€šè¿‡ä¸€å¼ å›¾å°±èƒ½çŸ¥é“å¤§ç¥ä¸ºäº†èµ¢æœ‰å¤šæ‹¼ã€‚&lt;br&gt; &lt;img src=&quot;//yemengying.com/qiniu/image/u=288559190,3305279898&amp;amp;fm=21&amp;amp;gp=0.jpg?imageMogr2/thumbnail/300x200!&quot; alt=&quot;&amp;lt;(ï¿£ï¸¶ï¿£)&amp;gt;&quot;&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://v.youku.com/v_show/id_XMTUyMjI3MTEwNA==.html?from=y1.6-85.3.1.7712090c9d5a11e5a080&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;20160403&lt;/a&gt;&lt;br&gt; 2016å¹´é‡Œçš„è§‰å¾—æœ€å¥½çœ‹çš„ä¸€æœŸã€‚ç‰¹åˆ«æ˜¯wuliå…‰æ´™è¢«hahaæ„šå¼„çš„é‚£æ®µã€‚&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.iqiyi.com/w_19rr63053t.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;20111225&lt;/a&gt;&lt;br&gt; ç¬¬ä¸€æœŸæœ€å¼ºè€…ç‰¹è¾‘ã€‚RM æ¯å¹´éƒ½ä¼šæœ‰ä¸€æœŸæ˜¯æœ€å¼ºè€…ç‰¹è¾‘ï¼Œé—æ†¾çš„æ˜¯å›½å„¿è¿˜ä»æ¥æ²¡æœ‰èµ¢è¿‡ï¼Œå¸Œæœ›ä¸‹ä¸€æœŸæœ€å¼ºè€…æˆ˜å¯ä»¥æ˜¯å›½å„¿èµ¢ã€‚&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.iqiyi.com/zongyi/20130130/379d4aa0b603dec5.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;20120624&lt;/a&gt;&lt;br&gt; RM ç¬¬ä¸€ç™¾æœŸç‰¹è¾‘ï¼Œè¯¸ç¥ä¹‹æˆ˜ï¼Œ å˜‰å®¾æ˜¯é‡‘å–œå–„ï¼Œ ç»“å±€è›®ä¸é”™çš„&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.tudou.com/albumplay/O8GDpd7v8RA/v3YuwBHAY4M.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;20150125&lt;/a&gt;&lt;br&gt; åˆ˜å§†æ–¯é‚¦å¾· vs å…‰ä½›å²©ï¼Œç»“å°¾ç‹—å“¥çœŸæ˜¯è ¢èŒçš„è®©äººå¿ƒç–¼&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.iqiyi.com/w_19rt38lku1.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;20110911&lt;/a&gt;&lt;br&gt; ç‹—å“¥åšé—´è°ğŸ•µçš„ä¸€æœŸï¼Œä¸åº”è¯¥è¯´æ˜¯ç‹—å“¥ä»¥ä¸ºä»–åšé—´è°ï¼Œä½†æ˜¯å…¶ä»–æˆå‘˜å…¶å®éƒ½çŸ¥é“ä»–æ˜¯é—´è°ï¼Œä»–å¹¶ä¸çŸ¥é“å…¶ä»–æˆå‘˜çŸ¥é“ä»–æ˜¯é—´è°çš„ä¸€æœŸã€‚ã€‚ã€‚è‰¾ç›å•Šï¼Œè¯´çš„å¥½ç»•ğŸ™ƒ&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;åˆåˆ°ç¡è§‰è§‰çš„æ—¶å€™äº†&quot;&gt;&lt;a href=&quot;#åˆåˆ°ç¡è§‰è§‰çš„æ—¶å€™äº†&quot; class=&quot;headerlink&quot; title=&quot;åˆåˆ°ç¡è§‰è§‰çš„æ—¶å€™äº†&quot;&gt;&lt;/a&gt;åˆåˆ°ç¡è§‰è§‰çš„æ—¶å€™äº†&lt;/h3&gt;&lt;p&gt;å†™çš„å·®ä¸å¤šäº†ï¼Œè¿™ä¹ˆç‚¹å†…å®¹æ ¹æœ¬è¡¨è¾¾ä¸å‡º RM å¸¦ç»™æˆ‘çš„å¿«ä¹ã€‚ç”Ÿæ´»å¤§çˆ†ç‚¸ä¹Ÿå¼€å§‹æ›´æ–°ç¬¬åå­£äº†ï¼Œå¾ˆæœ‰å¯èƒ½æ˜¯æœ€åä¸€å­£ï¼Œè¯´ä¸å®šè¿‡ä¸¤å¤©åˆè¦å†™ç¯‡æ–‡ç« çºªå¿µä¸‹è´±èŒè´±èŒçš„ Sheldon, æ€»è¢«å‹è¿«çš„ Leonard å’Œå¥³æ±‰çº¸ Penny äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://pic.yupoo.com/jiananshi/69d7fb06/f3dc92a7.jpg&quot; alt=&quot;7012&quot;&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;å‰ä¸¤å¤©åˆ·å¾®åšæ—¶çªç„¶çœ‹åˆ° Gary å³å°†ä» ã€ŠRunning Manã€‹(ä»¥ä¸‹ç®€ç§° RM) ä¸‹è½¦çš„æ¶ˆæ¯ï¼Œæœ‰ç‚¹ä¼¤æ„Ÿï¼Œå´å¹¶ä¸æƒŠè®¶ã€‚å¯èƒ½ä»2016å¹´å¼€å§‹ï¼Œå°±éšçº¦æ„Ÿåˆ°èŠ‚ç›®åˆ°äº†ç“¶é¢ˆï¼Œæ”¶è§†ç‡ä¹Ÿä¸€ç›´ä¸Šä¸æ¥ï¼Œä½œä¸ºä¸€ä¸ªé“æ†ç²‰ä¸ä¹Ÿä¸å¾—ä¸æ‰¿è®¤ RM æ²¡æœ‰ä»¥å‰å¥½çœ‹äº†ï¼Œå¾ˆé•¿æ—¶é—´æ²¡æœ‰ä¸€æœŸçœ‹å¥½å‡ éçš„æƒ…å†µäº†ã€‚ä¸è¿‡è¿½äº† RM å››å¹´ï¼Œçœ‹ RM æ—©å·²ä¸æ˜¯ä¸ºäº†å¨±ä¹æç¬‘ï¼Œè€Œå˜æˆäº†è‡ªå·±ç”Ÿæ´»çš„ä¸€éƒ¨åˆ†ï¼Œåªè¦çœ‹åˆ°ä»–ä»¬ä¸ƒä¸ªå°±å¼€å¿ƒã€‚ä¹Ÿè®¸åœ¨ä¸ä¹…çš„å°†æ¥è¿ RM éƒ½ä¼šåœæ’­äº†ï¼Œä½†ç°åœ¨åªè¦ RM æ›´æ–°ä¸€æœŸï¼Œå°±ä¼šçœ‹ä¸€æœŸï¼Œå“ªæ€•å°±æ˜¯ä»–ä»¬å‡ ä¸ªå—‘ç“œå­é—²èŠå¤©ã€‚å³ä¾¿æœ‰å†ç«å†å¥½çœ‹çš„èŠ‚ç›®ï¼Œè‡ªå·±ä¹Ÿæ—©æ²¡äº†å½“åˆçš„å¿ƒå¢ƒå»è¿½äº†ã€‚æ”¹ç¼–æˆ‘å‰å¥³ç¥çš„ä¸€å¥æ­Œè¯å°±æ˜¯â€œæœ‰çš„ç»¼è‰ºè¯´ä¸æ¸…å“ªé‡Œå¥½ï¼Œä½†å°±æ˜¯è°éƒ½æ›¿ä»£ä¸äº†â€ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="éšç¬”" scheme="http://yemengying.com/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
      <category term="éšç¬”" scheme="http://yemengying.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>æ»šè›‹å§~ XML å›</title>
    <link href="http://yemengying.com/2016/10/15/javaConfig-vs-XML/"/>
    <id>http://yemengying.com/2016/10/15/javaConfig-vs-XML/</id>
    <published>2016-10-15T07:20:20.000Z</published>
    <updated>2018-12-13T07:33:20.000Z</updated>
    
    <content type="html">&lt;blockquote&gt;
&lt;p&gt;Long long time ago, åœ¨ã€ŠSpring In Actionã€‹ä¸€ä¹¦ä¸­çœ‹åˆ°è¿™ä¹ˆä¸€å¥è¯&lt;strong&gt; JavaConfig is the preferred option for explicit configuration because itâ€™s more powerful, type-safe, and refactor-friendly &lt;/strong&gt;ã€‚ä¸è¿‡å½“æ—¶å¹¶ä¸çŸ¥é“ &lt;code&gt;JavaConfig&lt;/code&gt; æ˜¯ç¥é©¬ä¸œä¸œå°±é€‰æ‹©æ€§å¿½ç•¥äº†ã€‚æœ€è¿‘æ–°çš„é¡¹ç›®é‡‡ç”¨äº† Spring Boot + JavaConfig ,æ¥è§¦äº†ä¸€ä¸ªæ˜ŸæœŸçš„ JavaConfigï¼Œæ„Ÿè§‰è¿˜ä¸é”™ï¼Œç®€å•æ¯”è¾ƒä¸‹å®ƒå’Œ XMLã€‚ç”±äºæ¥è¿çœ‹äº† 4 éƒ¨éŸ©å›½ç¾éš¾ç‰‡å¿ƒæƒ…æ¯”è¾ƒè“ç˜¦ï¼Œå°±æš‚æ—¶ä¸è¦æŒ‡æ­£é”™è¯¯äº†ï¼Œé”™å°±é”™å§(ã¥ï½¡â—•â€¿â€¿â—•ï½¡)ã¥&lt;/p&gt;
&lt;/blockquote&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;&lt;img src=&quot;https://pic.yupoo.com/jiananshi/38ad3eff/2a9a8d29.jpg&quot; alt=&quot;lalala&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;XML&quot;&gt;&lt;a href=&quot;#XML&quot; class=&quot;headerlink&quot; title=&quot;XML&quot;&gt;&lt;/a&gt;XML&lt;/h3&gt;&lt;p&gt;è™½ç„¶æ—©åœ¨ Spring 3 ä¸­å°±å¼€å§‹æ”¯æŒä»¥ &lt;code&gt;JavaConfig&lt;/code&gt; çš„æ–¹å¼é…ç½®é¡¹ç›®ï¼Œä½†æ„Ÿè§‰ç›®å‰ä¸»æµçš„è¿˜æ˜¯ä»¥ &lt;code&gt;XML + Annotation&lt;/code&gt; çš„æ–¹å¼ï¼Œå¾ˆå°‘è§åˆ°ä½¿ç”¨ JavaConfig çš„ã€‚å¯èƒ½æœ‰ç‚¹ä»¥åæ¦‚å…¨äº†ï¼Œä½†åœ¨å‰å¸å’Œå‰å‰å¸æ¥è§¦åˆ°çš„é¡¹ç›®éƒ½æ˜¯ä»¥ XML + Annotation æ··åˆçš„æ–¹å¼é…ç½®çš„ï¼Œå³åœ¨ XML é…ç½®æ–‡ä»¶ä¸­å¼€å¯æ³¨è§£æ‰«æ, ä¸šåŠ¡ bean çš„é…ç½®æ³¨å…¥é‡‡ç”¨æ³¨è§£( @Serivce, @Autowire ç­‰ç­‰)ï¼Œå…¨å±€çš„ä¸€äº›é…ç½®(å¦‚ MyBatis çš„ DataSource,SqlSessionFactory ï¼Œweb.xml ç­‰ç­‰)ä½¿ç”¨ XMLã€‚&lt;/p&gt;
&lt;p&gt;è™½ç„¶ XML + Annotation çš„æ–¹å¼æ¯”çº¯ç”¨ XML é…ç½®çš„æ–¹å¼å°‘å†™äº†å¾ˆå¤š XMLï¼Œä½†æœ¬è´¨ä¸Šè¿˜æ˜¯åŸºäº XML çš„ã€‚&lt;/p&gt;
&lt;p&gt;XML çš„é…ç½®æ–‡ä»¶æ¯”è¾ƒå†—é•¿ï¼Œä¸æ˜“ä¹¦å†™ï¼Œè€Œä¸”å¯è¯»æ€§ä¹Ÿä¸é«˜ã€‚ä¸çŸ¥é“å¤§å®¶æ„Ÿè§‰æ€ä¹ˆæ ·ï¼Œåæ­£æˆ‘çœ‹ç€æ˜¯æŒºå¤´ç–¼çš„â•¥ï¹â•¥â€¦&lt;/p&gt;
&lt;h3 id=&quot;JavaConfig&quot;&gt;&lt;a href=&quot;#JavaConfig&quot; class=&quot;headerlink&quot; title=&quot;JavaConfig&quot;&gt;&lt;/a&gt;JavaConfig&lt;/h3&gt;&lt;p&gt;å…ˆç®€å•ä»‹ç»ä¸€ä¸‹ JavaConfigï¼ŒJavaConfigå³Java Configuration, å³ç”¨çº¯ Java çš„æ–¹å¼æ¥é…ç½® Spring&lt;br&gt; IoC å®¹å™¨,å…è®¸å¼€å‘è€…ç”¨ä»£ç æ¥è¡¨ç¤ºé…ç½®é€»è¾‘ï¼Œä¸å†éœ€è¦ XMLã€‚ç²—ç•¥ç¿»äº†ä¸¤æœ¬å…³äº Spring Bootçš„ä¹¦ï¼Œ JavaConfig éƒ½æ˜¯æœ€æ¨èçš„é…ç½®æ–¹å¼ã€‚&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨ JavaConfig çš„å¥½å¤„ï¼ŒSpring å®˜æ–¹æ–‡æ¡£ä¸­è¯´çš„å¾ˆæ¸…æ¥šï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;JavaConfig ä¸ºä¾èµ–æ³¨å…¥æä¾›äº†ä¸€ä¸ªçœŸæ­£é¢å‘å¯¹è±¡çš„æœºåˆ¶ï¼Œè¿™æ„å‘³ç€å¼€å‘è€…å¯ä»¥åœ¨é…ç½®ä»£ç ä¸­å……åˆ†åˆ©ç”¨ Java é‡ç”¨ã€ç»§æ‰¿å’Œå¤šæ€æ€§ç­‰ç‰¹æ€§ã€‚&lt;/li&gt;
&lt;li&gt;å¼€å‘è€…å¯ä»¥å®Œå…¨æ§åˆ¶å®ä¾‹åŒ–å’Œä¾èµ–æ³¨å…¥ï¼Œå³ä½¿æ˜¯æœ€å¤æ‚çš„å¯¹è±¡ä¹Ÿå¯ä»¥å¾ˆä¼˜é›…åœ°å¤„ç†ã€‚&lt;/li&gt;
&lt;li&gt;å› ä¸ºä½¿ç”¨ JavaConfig åªéœ€è¦ Javaï¼Œå¯ä»¥å¾ˆå®¹æ˜“çš„ refactor ä»£ç ï¼Œè€Œæ— éœ€å† IDE ä¹‹å¤–ä½¿ç”¨ç‰¹æ®Šçš„å·¥å…·æˆ–æ’ä»¶ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;JavaConfig å…¶å®å¾ˆç®€å•ï¼Œä¸»è¦æ˜¯é€šè¿‡ @Configuration å’Œ @Bean æ¥è¿›è¡Œé…ç½®ã€‚@Configuration æ³¨è§£çš„ä½œç”¨æ˜¯å£°æ˜å½“å‰ç±»æ˜¯ä¸€ä¸ªé…ç½®ç±»ï¼Œ å°±ç›¸å½“äºä¸€ä¸ª XML æ–‡ä»¶ã€‚ @Bean æ³¨è§£å£°æ˜å½“å‰æ–¹æ³•è¿”å›çš„æ˜¯ä¸€ä¸ª beanã€‚&lt;/p&gt;
&lt;p&gt;å¯èƒ½è¿™æ ·è¯´å¯¹äºç”¨æƒ¯äº† XML çš„äººè¿˜æ˜¯æ¯”è¾ƒæŠ½è±¡çš„ï¼Œä¸‹é¢çœ‹çœ‹è¿™äº›æ³¨è§£ä¸ XML é…ç½®çš„å¯¹åº”å…³ç³»ã€‚&lt;/p&gt;
&lt;h3 id=&quot;JavaConfig-ä¸-XML&quot;&gt;&lt;a href=&quot;#JavaConfig-ä¸-XML&quot; class=&quot;headerlink&quot; title=&quot;JavaConfig ä¸ XML&quot;&gt;&lt;/a&gt;JavaConfig ä¸ XML&lt;/h3&gt;&lt;p&gt;1.&lt;br&gt;&lt;strong&gt;JavaConfig&lt;/strong&gt;: @Configuration&lt;br&gt;&lt;strong&gt;XML&lt;/strong&gt;:&lt;/p&gt;
  &lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;beans&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;xmlns&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;http://www.springframework.org/schema/beans&quot;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      &lt;span class=&quot;attr&quot;&gt;xmlns:xsi&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      &lt;span class=&quot;attr&quot;&gt;xmlns:tx&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;http://www.springframework.org/schema/tx&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      &lt;span class=&quot;attr&quot;&gt;xmlns:util&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;http://www.springframework.org/schema/util&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      &lt;span class=&quot;attr&quot;&gt;xmlns:p&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;http://www.springframework.org/schema/p&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      &lt;span class=&quot;attr&quot;&gt;xsi:schemaLocation&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;http://www.springframework.org/schema/beans&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  	   http://www.springframework.org/schema/beans/spring-beans.xsd&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      http://www.springframework.org/schema/tx&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  	   http://www.springframework.org/schema/tx/spring-tx.xsd&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      http://www.springframework.org/schema/util&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      http://www.springframework.org/schema/util/spring-util.xsd&quot;&amp;gt;	&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;beans&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;2.&lt;br&gt;&lt;strong&gt;JavaConfig&lt;/strong&gt;: @Bean&lt;br&gt;&lt;strong&gt;XML&lt;/strong&gt;:&lt;/p&gt;
  &lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;bean&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;dataSource&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;com.alibaba.druid.pool.DruidDataSource&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;property&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;url&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;value&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;jdbc:mysql://127.0.0.1:3307/giraffe&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;property&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;username&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;value&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;ymy&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;property&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;password&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;value&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;666666&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;bean&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;3.&lt;br&gt;&lt;strong&gt;JavaConfig&lt;/strong&gt;ï¼š@ComponentScan&lt;br&gt;&lt;strong&gt;XML&lt;/strong&gt;ï¼š&lt;br&gt;  &lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;context:component-scan&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;4.&lt;br&gt;&lt;strong&gt;JavaConfig&lt;/strong&gt;ï¼š@Import&lt;br&gt;&lt;strong&gt;XML&lt;/strong&gt;ï¼š&lt;br&gt;   &lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;resource&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;XXX.xml&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚è¦é…ç½®ä¸€ä¸ª dataSourceï¼Œ åœ¨ XML ä¸­é€šå¸¸çš„åšæ³•æ˜¯è¿™æ ·çš„ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;bean&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;drMainDataSource&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;com.alibaba.druid.pool.DruidDataSource&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;property&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;url&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;value&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;$&amp;#123;mysql.datasource.url&amp;#125;&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;property&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;username&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;value&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;$&amp;#123;mysql.datasource.username&amp;#125;&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;property&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;password&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;value&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;$&amp;#123;mysql.datasource.password&amp;#125;&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;property&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;maxActive&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;value&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;&amp;#123;mysql.datasource.max-active&amp;#125;&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;bean&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å¯¹åº”çš„ JavaConfig æ˜¯é…±ç´«çš„ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@Configuration&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;DataAccessConfig&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;ConfigurationSupport&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;meta&quot;&gt;@Bean&lt;/span&gt;(name = &lt;span class=&quot;string&quot;&gt;&quot;dataSource&quot;&lt;/span&gt;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; DataSource &lt;span class=&quot;title&quot;&gt;mysqlDataSource&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(@Value(&lt;span class=&quot;string&quot;&gt;&quot;$&amp;#123;mysql.datasource.url&amp;#125;&quot;&lt;/span&gt;)&lt;/span&gt; String url,&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                                    @&lt;span class=&quot;title&quot;&gt;Value&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;string&quot;&gt;&quot;$&amp;#123;mysql.datasource.username&amp;#125;&quot;&lt;/span&gt;)&lt;/span&gt; String username,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                                    @&lt;span class=&quot;title&quot;&gt;Value&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;string&quot;&gt;&quot;$&amp;#123;mysql.datasource.password&amp;#125;&quot;&lt;/span&gt;)&lt;/span&gt; String password,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                                    @&lt;span class=&quot;title&quot;&gt;Value&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;string&quot;&gt;&quot;$&amp;#123;mysql.datasource.driverClass&amp;#125;&quot;&lt;/span&gt;)&lt;/span&gt; String driver,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                                    @&lt;span class=&quot;title&quot;&gt;Value&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;string&quot;&gt;&quot;$&amp;#123;mysql.datasource.max-active&amp;#125;&quot;&lt;/span&gt;)&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; maxActive) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    DruidAbstractDataSource dataSource = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; DruidDataSource();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    dataSource.setDriverClassName(driver);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    dataSource.setUrl(url);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    dataSource.setUsername(username);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    dataSource.setPassword(password);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    dataSource.setMaxActive(maxActive);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; dataSource;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;æ€»ç»“&quot;&gt;&lt;a href=&quot;#æ€»ç»“&quot; class=&quot;headerlink&quot; title=&quot;æ€»ç»“&quot;&gt;&lt;/a&gt;æ€»ç»“&lt;/h3&gt;&lt;p&gt;è™½ç„¶æ‰æ¥è§¦äº†ä¸€å‘¨çš„ JavaConfig, ä½†æ˜¯ç›¸è§æ¨æ™šå•Š, ä¸ªäººè¿˜æ˜¯æ›´å–œæ¬¢ JavaConfig çš„é…ç½®æ–¹å¼çš„ã€‚JavaConfig çš„é…ç½®æ–‡ä»¶å¯è¯»æ€§æ›´é«˜ä¹Ÿæ›´å®¹æ˜“å­¦ä¹ ï¼Œè®°ä½ç®€å•çš„å‡ ä¸ªæ³¨è§£å³å¯ï¼›å€ŸåŠ© IDE çš„åŠ›é‡ï¼Œæ›´ä¸å®¹æ˜“å‡ºé”™ï¼›è€Œä¸”è„‘è¢‹å†ä¹Ÿä¸ç”¨åœ¨ Java å’Œ XML é—´æ¥å›åˆ‡æ¢äº†ï¼Œåœ¨æ­é…ä¸Š Gradle ç®€ç›´ç ´è´¹ç§‘ç‰¹ï¼ï¼ï¼ï¼ï¼&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://pic.yupoo.com/jiananshi/5417f84e/5cd518b1.png&quot; alt=&quot;å¼€æ£®&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;ç›¸å…³æ–‡æ¡£&quot;&gt;&lt;a href=&quot;#ç›¸å…³æ–‡æ¡£&quot; class=&quot;headerlink&quot; title=&quot;ç›¸å…³æ–‡æ¡£&quot;&gt;&lt;/a&gt;ç›¸å…³æ–‡æ¡£&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://docs.spring.io/spring-javaconfig/docs/1.0.0.M4/reference/html/pr01.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Spring JavaConfig Document&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ã€ŠSpring Boot æ­ç§˜ã€‹&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”-ç‰‡ å°¾ å½© è›‹ ğŸ‰ğŸ‰ğŸ‰â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”&lt;br&gt;å’³å’³ï¼Œé¢„è­¦é¢„è­¦ï¼ï¼ï¼ä¸‹é¢çš„éƒ¨åˆ†ä¸æœ¬æ–‡ä¸»æ—¨æ— å…³ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆï¼Œæ¢äº†ä¸ªæ–°é”…ï¼Œå¯ä»¥é¢„çº¦ç…®ç²¥ï¼Œå†ä¹Ÿä¸ç”¨æ—©èµ·ç…®ç²¥äº†ï¼Œå¹¸ç¦æ„Ÿæå‡ 200%ã€‚&lt;br&gt;&lt;img src=&quot;https://pic.yupoo.com/jiananshi/e5c5a4fc/83a101e1.jpg&quot; alt=&quot;æˆ‘æ˜¯é”…&quot;&gt;&lt;br&gt;å…¶æ¬¡ï¼Œåœ¨åŒ¿åäººå£«çš„å¸®åŠ©ä¸‹ä¸Šçº¿äº†æ–°ç‰ˆæœªç¿»å¢™æ¨¡å¼ä¸‹çš„è¯„è®ºï¼Œä¼˜åŒ–äº†æ ·å¼ã€‚å”‰ï¼Œè¿™æ˜¯è°çš„ç”·æœ‹å‹è¿™ä¹ˆæœ‰æ‰åï¼Œå¥½ç¾¡æ…•å¥¹å“¦ï¸¿(ï¿£ï¸¶ï¿£)ï¸¿&lt;br&gt;&lt;img src=&quot;https://pic.yupoo.com/jiananshi/9eeb1071/d6b98de8.png&quot; alt=&quot;&amp;lt;(ï¿£ï¸¶ï¿£)&amp;gt;&quot;&gt;&lt;/p&gt;
&lt;p&gt;æœ€åï¼Œå˜¿å˜¿ï¼Œå…³æ³¨ä¸ªå…¬ä¼—å·å†èµ°å§(&lt;em&gt;^__^&lt;/em&gt;)&lt;br&gt;&lt;img src=&quot;https://pic.yupoo.com/jiananshi/3302bb60/7b8457af.jpg&quot; alt=&quot;Running Geek&quot;&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;Long long time ago, åœ¨ã€ŠSpring In Actionã€‹ä¸€ä¹¦ä¸­çœ‹åˆ°è¿™ä¹ˆä¸€å¥è¯&lt;strong&gt; JavaConfig is the preferred option for explicit configuration because itâ€™s more powerful, type-safe, and refactor-friendly &lt;/strong&gt;ã€‚ä¸è¿‡å½“æ—¶å¹¶ä¸çŸ¥é“ &lt;code&gt;JavaConfig&lt;/code&gt; æ˜¯ç¥é©¬ä¸œä¸œå°±é€‰æ‹©æ€§å¿½ç•¥äº†ã€‚æœ€è¿‘æ–°çš„é¡¹ç›®é‡‡ç”¨äº† Spring Boot + JavaConfig ,æ¥è§¦äº†ä¸€ä¸ªæ˜ŸæœŸçš„ JavaConfigï¼Œæ„Ÿè§‰è¿˜ä¸é”™ï¼Œç®€å•æ¯”è¾ƒä¸‹å®ƒå’Œ XMLã€‚ç”±äºæ¥è¿çœ‹äº† 4 éƒ¨éŸ©å›½ç¾éš¾ç‰‡å¿ƒæƒ…æ¯”è¾ƒè“ç˜¦ï¼Œå°±æš‚æ—¶ä¸è¦æŒ‡æ­£é”™è¯¯äº†ï¼Œé”™å°±é”™å§(ã¥ï½¡â—•â€¿â€¿â—•ï½¡)ã¥&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="java" scheme="http://yemengying.com/categories/java/"/>
    
    
      <category term="java" scheme="http://yemengying.com/tags/java/"/>
    
      <category term="spring" scheme="http://yemengying.com/tags/spring/"/>
    
  </entry>
  
  <entry>
    <title>ã€è¯‘ã€‘S.O.L.I.D åŸåˆ™åœ¨ Go ä¸­çš„åº”ç”¨ï¼ˆä¸Šï¼‰</title>
    <link href="http://yemengying.com/2016/09/11/solid-go-design-1/"/>
    <id>http://yemengying.com/2016/09/11/solid-go-design-1/</id>
    <published>2016-09-11T07:09:18.000Z</published>
    <updated>2018-12-13T07:36:24.000Z</updated>
    
    <content type="html">&lt;blockquote&gt;
&lt;p&gt;æœ€è¿‘ä¸¤ä¸ªæœˆæ²¡æœ‰å¥½å¥½çš„çœ‹ä¹¦å­¦ä¹ ï¼Œå¯¼è‡´åšå®¢ä¹Ÿæ°´äº†ä¸¤ä¸ªæœˆæ²¡å†™ä»€ä¹ˆæ­£ç»çš„ã€‚ä¸Šå‘¨æ”¶åˆ°ä»“é¼ ğŸ¹å›èŒèŒå“’çš„é‚®ä»¶ä¹‹åï¼Œåˆæ¿€èµ·äº†æˆ‘å†™åšå®¢çš„æ¬²æœ›ã€‚ç”±äºè‡ªå·±æœ€è¿‘çµæ„Ÿæ¯ç«­ï¼Œæ‰€ä»¥æˆ‘å†³å®šç¿»è¯‘ä¸€ç¯‡åˆ«äººçš„O(âˆ©_âˆ©)O~ã€‚ä½œä¸ºä¸€ä¸ªä¸€ç›´æƒ³å­¦ Goï¼Œä½†æƒ³äº†å¥½ä¹…è¿˜æ²¡å…¥é—¨çš„äººï¼Œæˆ‘æŒ‘äº†ç¯‡å†™ Go çš„ï¼Œé¡ºä¾¿å¸®è‡ªå·±ç†Ÿæ‚‰ä¸€ä¸‹ Goã€‚åŸæ–‡æ˜¯ä½œè€…æ ¹æ®è‡ªå·± GolangUK çš„&lt;a href=&quot;https://www.youtube.com/watch?v=zzAdEt3xZ1M&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;æ¼”è®²&lt;/a&gt;æ‰€æ•´ç†çš„ï¼Œå…¨æ–‡ä»¥ SOLID åŸåˆ™ä¸ºçº¿è·¯è®²è¿°äº†ä»€ä¹ˆæ ·çš„ Go ä»£ç æ‰ç®—æ˜¯å¥½ä»£ç ï¼Œå½“ç„¶ SOLID åŸåˆ™ä¹Ÿé€‚ç”¨äºå…¶ä»–è¯­è¨€ã€‚åŸæ–‡æ¯”è¾ƒé•¿ï¼Œæ‰€ä»¥å‡†å¤‡åˆ†æˆä¸Šä¸‹ä¸¤éƒ¨åˆ†ï¼Œä¹Ÿæœ‰ååˆ†éå¸¸ä»¥åŠç‰¹åˆ«å¤§çš„å¯èƒ½æ˜¯ä¸Šä¸­ä¸‹(æ‚è„¸)ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å’³å’³ï¼Œæˆ‘æœç„¶æ˜¯æ‰“è„¸ä½“è´¨ï¼Œä¸‹ç¿»è¯‘äº†ä¸€å¥å°±æ”¾å¼ƒäº†ã€‚ä¸è¿‡ï¼Œæˆ‘æŠŠå®ƒäº¤ç»™äº†è¶…é è°±çš„å°ä¼™ä¼´ã€‚æƒ³çœ‹ä¸‹çš„è¯·ç§»æ­¥&lt;a href=&quot;http://kevin.doyeden.com/2016/09/21/solid-go-design-2/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;ã€è¯‘ã€‘S.O.L.I.D åŸåˆ™åœ¨ Go ä¸­çš„åº”ç”¨ï¼ˆä¸‹ï¼‰&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æ‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚è¿˜æ˜¯ä¸æ‚äº†ï¼Œè„¸å·²ç»ä¸¢æ²¡äº†ğŸ™ˆ&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;åŸæ–‡é“¾æ¥ï¼š&lt;a href=&quot;http://dave.cheney.net/2016/08/20/solid-go-design?utm_source=wanqu.co&amp;amp;utm_campaign=Wanqu+Daily&amp;amp;utm_medium=website&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://dave.cheney.net/2016/08/20/solid-go-design?utm_source=wanqu.co&amp;amp;utm_campaign=Wanqu+Daily&amp;amp;utm_medium=website&lt;/a&gt;&lt;br&gt;åŸæ–‡ä½œè€…ï¼š&lt;a href=&quot;http://dave.cheney.net/about&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Dave Cheney&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;ä¸–ç•Œä¸Šæœ‰å¤šå°‘ä¸ª-Go-è¯­è¨€å¼€å‘è€…ï¼Ÿ&quot;&gt;&lt;a href=&quot;#ä¸–ç•Œä¸Šæœ‰å¤šå°‘ä¸ª-Go-è¯­è¨€å¼€å‘è€…ï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;ä¸–ç•Œä¸Šæœ‰å¤šå°‘ä¸ª Go è¯­è¨€å¼€å‘è€…ï¼Ÿ&quot;&gt;&lt;/a&gt;ä¸–ç•Œä¸Šæœ‰å¤šå°‘ä¸ª Go è¯­è¨€å¼€å‘è€…ï¼Ÿ&lt;/h4&gt;&lt;p&gt;ä»‹ä¸ªä¸–ç•Œä¸Šæœ‰å¤šå°‘ Go å¼€å‘è€…æï¼Ÿåœ¨è„‘æµ·ä¸­æƒ³ä¸€ä¸ªæ•°å­—ï¼Œæˆ‘ä»¬ä¼šåœ¨æœ€åå›åˆ°è¿™ä¸ªè¯é¢˜ã€‚&lt;br&gt;&lt;img src=&quot;https://pic.yupoo.com/jiananshi/f9754553/2eb96ceb.png&quot; alt=&quot;thinking&quot;&gt;&lt;/p&gt;
&lt;h4 id=&quot;Code-review&quot;&gt;&lt;a href=&quot;#Code-review&quot; class=&quot;headerlink&quot; title=&quot;Code review&quot;&gt;&lt;/a&gt;Code review&lt;/h4&gt;&lt;p&gt;æœ‰å¤šå°‘äººå°† code review å½“åšè‡ªå·±å·¥ä½œçš„ä¸€éƒ¨åˆ†?[å¬æ¼”è®²çš„äººéƒ½ä¸¾èµ·äº†æ‰‹]ã€‚ä¸ºä»€ä¹ˆè¦åš code reviewï¼Ÿ[ä¸€äº›äººå›ç­”ä¸ºäº†é˜»æ­¢ä¸å¥½çš„ä»£ç ]&lt;/p&gt;
&lt;p&gt;å¦‚æœ code review æ˜¯ä¸ºäº†æ•æ‰åˆ°ä¸å¥½çš„ä»£ç ï¼Œé‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œä½ æ€ä¹ˆåˆ¤æ–­ä½ æ­£åœ¨ review çš„ä»£ç æ˜¯å¥½è¿˜æ˜¯ä¸å¥½å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“çš„è¯´å‡ºâ€œè¿™ä»£ç å¥½è¾£çœ¼ç›â€æˆ–è€…â€œè¿™æºç å†™çš„å¤ªåŠäº†â€ï¼Œå°±åƒè¯´â€œè¿™ç”»çœŸç¾â€ï¼Œâ€œè¿™å±‹å­çœŸå¤§æ°”â€ä¸€æ ·ã€‚ä½†æ˜¯è¿™äº›éƒ½æ˜¯ä¸»è§‚çš„ï¼Œæˆ‘å¸Œæœ›æ‰¾åˆ°ä¸€äº›å®¢è§‚çš„æ–¹æ³•æ¥è¡¡é‡ä»£ç æ˜¯å¥½è¿˜æ˜¯ä¸å¥½ã€‚&lt;/p&gt;
&lt;h4 id=&quot;Bad-code&quot;&gt;&lt;a href=&quot;#Bad-code&quot; class=&quot;headerlink&quot; title=&quot;Bad code&quot;&gt;&lt;/a&gt;Bad code&lt;/h4&gt;&lt;p&gt;ä¸‹é¢çœ‹ä¸€ä¸‹åœ¨ code review ä¸­ï¼Œä¸€æ®µä»£ç æœ‰å“ªäº›ç‰¹ç‚¹ä¼šè¢«è®¤ä¸ºæ˜¯ä¸å¥½çš„ä»£ç ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Rigid ä»£ç æ˜¯ä¸æ˜¯å¾ˆåƒµç¡¬ï¼Ÿæ˜¯å¦ç”±äºä¸¥æ ¼çš„ç±»å‹å’Œå‚æ•°å¯¼è‡´ä¿®æ”¹ä»£ç çš„æˆæœ¬æé«˜&lt;/li&gt;
&lt;li&gt;Fragile ä»£ç æ˜¯ä¸æ˜¯å¾ˆè„†å¼±ï¼Ÿæ˜¯å¦ä¸€ç‚¹å°çš„æ”¹åŠ¨å°±ä¼šé€ æˆå·¨å¤§çš„ç ´åï¼Ÿ&lt;/li&gt;
&lt;li&gt;Immobile ä»£ç æ˜¯å¦éš¾ä»¥é‡æ„ï¼Ÿ&lt;/li&gt;
&lt;li&gt;Complex ä»£ç æ˜¯å¦æ˜¯è¿‡åº¦è®¾è®¡ï¼Ÿ&lt;/li&gt;
&lt;li&gt;Verbose å½“ä½ è¯»è¿™æ®µä»£ç æ—¶ï¼Œèƒ½å¦æ¸…æ¥šçš„çŸ¥é“å®ƒæ˜¯åšä»€ä¹ˆçš„ï¼Ÿ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ğŸ‘†è¿™äº›éƒ½ä¸æ˜¯ä»€ä¹ˆå¥½å¬çš„è¯ï¼Œæ²¡æœ‰äººå¸Œæœ›åœ¨åˆ«äºº review è‡ªå·±ä»£ç æ—¶å¬åˆ°è¿™äº›è¯ã€‚&lt;/p&gt;
&lt;h4 id=&quot;Good-design&quot;&gt;&lt;a href=&quot;#Good-design&quot; class=&quot;headerlink&quot; title=&quot;Good design&quot;&gt;&lt;/a&gt;Good design&lt;/h4&gt;&lt;p&gt;äº†è§£äº†ä»€ä¹ˆæ˜¯ä¸å¥½çš„ä»£ç ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥è¯´â€œæˆ‘ä¸å–œæ¬¢è¿™æ®µä»£ç å› ä¸ºå®ƒä¸æ˜“äºä¿®æ”¹â€æˆ–è€…â€œè¿™æ®µä»£ç å¹¶æ²¡æœ‰æ¸…æ™°çš„å‘Šè¯‰æˆ‘å®ƒè¦åšä»€ä¹ˆâ€ã€‚ä½†è¿™äº›å¹¶æ²¡æœ‰å¸¦æ¥ç§¯æçš„å¼•å¯¼ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæˆ‘ä»¬ä¸ä»…ä»…å¯ä»¥æè¿°ä¸å¥½çš„è®¾è®¡ï¼Œè¿˜å¯ä»¥å®¢è§‚çš„æè¿°å¥½çš„è®¾è®¡ï¼Œæ˜¯ä¸æ˜¯æ›´æœ‰åŠ©äºæé«˜å‘¢ã€‚&lt;br&gt;&lt;img src=&quot;https://pic.yupoo.com/jiananshi/58a1a82f/8c479e46.jpg&quot; alt=&quot;excited&quot;&gt;&lt;/p&gt;
&lt;h4 id=&quot;SOLID&quot;&gt;&lt;a href=&quot;#SOLID&quot; class=&quot;headerlink&quot; title=&quot;SOLID&quot;&gt;&lt;/a&gt;SOLID&lt;/h4&gt;&lt;p&gt;2002å¹´ï¼Œ&lt;code&gt;Robert Martin&lt;/code&gt; å‡ºç‰ˆäº†ã€Šæ•æ·è½¯ä»¶å¼€å‘:åŸåˆ™ã€æ¨¡å¼ä¸å®è·µã€‹ä¸€ä¹¦ï¼Œåœ¨ä¹¦ä¸­ä»–æè¿°äº†å¯é‡ç”¨è½¯ä»¶è®¾è®¡çš„äº”ä¸ªåŸåˆ™ï¼Œä»–ç§°ä¹‹ä¸º &lt;strong&gt;SOLID&lt;/strong&gt; åŸåˆ™(æ¯ä¸ªåŸåˆ™çš„é¦–å­—æ¯ç»„åˆåœ¨ä¸€èµ·)ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å•ä¸€è´£ä»»åŸåˆ™&lt;/li&gt;
&lt;li&gt;å¼€æ”¾å°é—­åŸåˆ™&lt;/li&gt;
&lt;li&gt;é‡Œæ°æ›¿æ¢åŸåˆ™&lt;/li&gt;
&lt;li&gt;æ¥å£åˆ†ç¦»åŸåˆ™&lt;/li&gt;
&lt;li&gt;ä¾èµ–å€’ç½®åŸåˆ™&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™æœ¬ä¹¦æœ‰ç‚¹è¿‡æ—¶äº†ï¼Œä¹¦ä¸­è°ˆè®ºçš„è¯­è¨€éƒ½å·²ç»è¶…è¿‡äº†åå¹´ä¹‹ä¹…ã€‚å°½ç®¡å¦‚æ­¤ï¼Œåœ¨è°ˆè®ºä»€ä¹ˆæ ·çš„ Go ä»£ç æ‰æ˜¯å¥½ä»£ç æ—¶ï¼ŒSOLID çš„åŸåˆ™ä¾ç„¶å¯ä»¥ç»™æˆ‘ä»¬ä¸€äº›å¯å‘ã€‚&lt;/p&gt;
&lt;p&gt;Soï¼Œè¿™ä¹Ÿå°±æ˜¯æˆ‘èŠ±æ—¶é—´æƒ³åœ¨æœ¬æ–‡å’Œå¤§å®¶ä¸€èµ·è®¨è®ºçš„ã€‚&lt;/p&gt;
&lt;h4 id=&quot;å•ä¸€è´£ä»»åŸåˆ™&quot;&gt;&lt;a href=&quot;#å•ä¸€è´£ä»»åŸåˆ™&quot; class=&quot;headerlink&quot; title=&quot;å•ä¸€è´£ä»»åŸåˆ™&quot;&gt;&lt;/a&gt;å•ä¸€è´£ä»»åŸåˆ™&lt;/h4&gt;&lt;p&gt;&lt;img src=&quot;https://pic.yupoo.com/jiananshi/5ac9d1f3/47278348.png&quot; alt=&quot;å¿™æˆç‹—&quot;&gt;&lt;br&gt;SOLID åŸåˆ™ä¸­çš„ç¬¬ä¸€ä¸ªåŸåˆ™å°±æ˜¯&lt;code&gt;å•ä¸€è´£ä»»åŸåˆ™&lt;/code&gt;ã€‚&lt;code&gt;Robert C Martin&lt;/code&gt; è¯´è¿‡ A class should have one, and only one, reason to change(ä¿®æ”¹æŸä¸ªç±»çš„æ—¶å€™ï¼ŒåŸå› æœ‰ä¸”åªæœ‰ä¸€ä¸ª)ï¼Œè¯´ç™½äº†å°±æ˜¯ï¼Œä¸€ä¸ªç±»åªè´Ÿè´£ä¸€é¡¹èŒè´£ã€‚&lt;/p&gt;
&lt;p&gt;è™½ç„¶ Go è¯­è¨€ä¸­å¹¶æ²¡æœ‰ç±»çš„æ¦‚å¿µâ€“ä½†æˆ‘ä»¬æœ‰æ›´é¹…å¦¹å­å˜¤çš„ &lt;code&gt;composition&lt;/code&gt; (ç»„åˆ)çš„ç‰¹æ€§ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆä¿®æ”¹ä¸€æ®µä»£ç åªè´Ÿè´£ä¸€é¡¹èŒè´£å¦‚æ­¤é‡è¦å‘¢ï¼Ÿå¦‚æœä¸€ä¸ªç±»æœ‰ä¸¤ä¸ªèŒè´£R1ï¼ŒR2ï¼Œé‚£ä¹ˆä¿®æ”¹R1æ—¶ï¼Œå¯èƒ½ä¼šå¯¼è‡´ä¹Ÿè¦ä¿®æ”¹R2ã€‚ä¿®æ”¹ä»£ç æ˜¯ç—›è‹¦çš„ï¼Œä½†æ›´ç—›è‹¦çš„æ˜¯ä¿®æ”¹ä»£ç çš„åŸå› æ˜¯ç”±äºä¿®æ”¹å…¶ä»–ä»£ç å¼•èµ·çš„ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥å½“ä¸€ä¸ªç±»åªè´Ÿè´£ä¸€ä¸ªåŠŸèƒ½é¢†åŸŸä¸­çš„ç›¸åº”èŒè´£æ—¶ï¼Œå¯ä»¥ä¿®æ”¹çš„å®ƒçš„åŸå› ä¹Ÿå°±æœ€å¤§é™åº¦çš„å˜å°‘äº†ã€‚&lt;/p&gt;
&lt;h5 id=&quot;è€¦åˆ-amp-å†…èš&quot;&gt;&lt;a href=&quot;#è€¦åˆ-amp-å†…èš&quot; class=&quot;headerlink&quot; title=&quot;è€¦åˆ &amp;amp; å†…èš&quot;&gt;&lt;/a&gt;è€¦åˆ &amp;amp; å†…èš&lt;/h5&gt;&lt;p&gt;è¿™ä¸¤ä¸ªè¯æ˜¯ç”¨æ¥å½¢å®¹ä¸€æ®µä»£ç æ˜¯å¦æ˜“äºä¿®æ”¹çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;è€¦åˆ&lt;/code&gt;æ˜¯æŒ‡ä¸¤ä¸ªä¸œè¥¿éœ€è¦ä¸€èµ·ä¿®æ”¹â€”å¯¹å…¶ä¸­ä¸€ä¸ªçš„æ”¹åŠ¨ä¼šå½±å“åˆ°å¦ä¸€ä¸ªã€‚&lt;/p&gt;
&lt;p&gt;å¦ä¸€ä¸ªç›¸å…³ä½†ç‹¬ç«‹çš„æ¦‚å¿µæ˜¯&lt;code&gt;å†…èš&lt;/code&gt;ï¼Œä¸€èˆ¬æŒ‡ç›¸äº’å¸å¼•çš„è¿·ä¹‹åŠ›é‡ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨è½¯ä»¶å¼€å‘é¢†åŸŸä¸­ï¼Œå†…èšå¸¸å¸¸ç”¨æ¥æè¿°ä¸€æ®µä»£ç å†…å„ä¸ªå…ƒç´ å½¼æ­¤ç»“åˆçš„ç´§å¯†ç¨‹åº¦ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æˆ‘å‡†å¤‡ä» Go çš„åŒ…æ¨¡å‹å¼€å§‹ï¼ŒèŠèŠ Go å¼€å‘ä¸­çš„è€¦åˆä¸å†…èšã€‚&lt;/p&gt;
&lt;h5 id=&quot;åŒ…å&quot;&gt;&lt;a href=&quot;#åŒ…å&quot; class=&quot;headerlink&quot; title=&quot;åŒ…å&quot;&gt;&lt;/a&gt;åŒ…å&lt;/h5&gt;&lt;p&gt;åœ¨Goä¸­ï¼Œæ‰€æœ‰ä»£ç éƒ½å¿…é¡»æœ‰ä¸€ä¸ªæ‰€å±çš„åŒ…ã€‚ä¸€ä¸ªåŒ…åè¦æè¿°å®ƒçš„ç”¨é€”ï¼ŒåŒæ—¶ä¹Ÿæ˜¯å‘½åç©ºé—´çš„å‰ç¼€ã€‚ä¸‹é¢æ˜¯ Go æ ‡å‡†åº“ä¸­ä¸€äº›å¥½çš„åŒ…åï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;net/httpï¼Œæä¾› http çš„å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ã€‚&lt;/li&gt;
&lt;li&gt;os/execï¼Œå¯ä»¥è¿è¡Œè¿è¡Œå¤–éƒ¨å‘½ä»¤ã€‚&lt;/li&gt;
&lt;li&gt;encoding/jsonï¼Œå®ç°äº† JSON æ–‡ä»¶çš„ç¼–ç å’Œè§£ç ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&quot;ä¸å¥½çš„åŒ…å&quot;&gt;&lt;a href=&quot;#ä¸å¥½çš„åŒ…å&quot; class=&quot;headerlink&quot; title=&quot;ä¸å¥½çš„åŒ…å&quot;&gt;&lt;/a&gt;ä¸å¥½çš„åŒ…å&lt;/h5&gt;&lt;p&gt;ç°åœ¨è®©æˆ‘ä»¬æ¥å–·ä¸€äº›ä¸å¥½çš„åŒ…åã€‚è¿™äº›åŒ…åå¹¶æ²¡æœ‰å¾ˆå¥½çš„å±•ç°å‡ºå®ƒä»¬çš„ç”¨é€”ï¼Œå½“ç„¶äº†å‰ææ˜¯å®ƒä»¬æœ‰-_-|||ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;package server æ˜¯æä¾›ä»€ä¹ˆï¼Ÿã€‚ã€‚ã€‚å¥½å§å°±å½“æ˜¯æä¾›ä¸€ä¸ªæœåŠ¡ç«¯å§ï¼Œä½†æ˜¯æ˜¯ä»€ä¹ˆåè®®å‘¢?&lt;/li&gt;
&lt;li&gt;package private æ˜¯æä¾›ä»€ä¹ˆï¼Ÿä¸€äº›æˆ‘ä¸åº”è¯¥çœ‹ğŸ‘€çš„ä¸œè¥¿ï¼Ÿ&lt;/li&gt;
&lt;li&gt;è¿˜æœ‰ package commonï¼Œ package utilsï¼ŒåŒæ ·æ— æ³•æ¸…æ¥šçš„è¡¨è¾¾å®ƒä»¬çš„ç”¨é€”ï¼Œå¼€å‘è€…ä¹Ÿä¸æ˜“ä¿æŒå®ƒä»¬åŠŸèƒ½çš„ä¸“ä¸€æ€§ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸Šé¢è¿™äº›åŒ…å¾ˆå¿«å°±ä¼šå˜æˆå †æ”¾æ‚ä¸ƒæ‚å…«ä»£ç çš„åƒåœ¾å †ï¼Œè€Œä¸”ä¼šç”±äºåŠŸèƒ½å¤ªæ‚ä¹±è€Œé¢‘ç¹ä¿®æ”¹ã€‚&lt;/p&gt;
&lt;h5 id=&quot;Go-ä¸­çš„-UNIX-å“²å­¦&quot;&gt;&lt;a href=&quot;#Go-ä¸­çš„-UNIX-å“²å­¦&quot; class=&quot;headerlink&quot; title=&quot;Go ä¸­çš„ UNIX å“²å­¦&quot;&gt;&lt;/a&gt;Go ä¸­çš„ UNIX å“²å­¦&lt;/h5&gt;&lt;p&gt;åœ¨æˆ‘çœ‹æ¥ï¼Œä»»ä½•å…³äºè§£è€¦è®¾è®¡çš„è®¨è®ºå¦‚æœæ²¡æœ‰æåˆ° &lt;code&gt;Doug McIlroy&lt;/code&gt; çš„ &lt;code&gt;UNIX å“²å­¦&lt;/code&gt;éƒ½æ˜¯ä¸å®Œæ•´çš„ã€‚UNIX å“²å­¦å°±æ˜¯ä¸»å¼ å°†è‹¥å¹²ç®€æ´ï¼Œæ¸…æ™°çš„æ¨¡å—ç»„åˆèµ·æ¥å®Œæˆå¤æ‚çš„ä»»åŠ¡ï¼Œè€Œä¸”é€šå¸¸æƒ…å†µä¸‹è¿™ä¸ªä»»åŠ¡éƒ½ä¸æ˜¯åŸä½œè€…æ‰€èƒ½é¢„æƒ³åˆ°çš„ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘æƒ³ Go ä¸­çš„åŒ…æ­£ä½“ç°äº† UNIX å“²å­¦çš„ç²¾ç¥ã€‚å› ä¸ºæ¯ä¸€ä¸ªåŒ…éƒ½æ˜¯ä¸€ä¸ªæ‹¥æœ‰å•ä¸€è´£ä»»çš„ç®€æ´çš„ Go ç¨‹åºã€‚&lt;/p&gt;
&lt;h4 id=&quot;å¼€æ”¾å°é—­åŸåˆ™&quot;&gt;&lt;a href=&quot;#å¼€æ”¾å°é—­åŸåˆ™&quot; class=&quot;headerlink&quot; title=&quot;å¼€æ”¾å°é—­åŸåˆ™&quot;&gt;&lt;/a&gt;å¼€æ”¾å°é—­åŸåˆ™&lt;/h4&gt;&lt;p&gt;&lt;img src=&quot;https://pic.yupoo.com/jiananshi/8f1c8061/5c81f38a.png&quot; alt=&quot;open or close&quot;&gt;&lt;br&gt;ç¬¬äºŒä¸ªåŸåˆ™ï¼Œä¹Ÿå°±æ˜¯ SOLID å½“ä¸­çš„ Oï¼Œæ˜¯ç”± &lt;code&gt;Bertrand Meyer&lt;/code&gt; æå‡ºçš„&lt;code&gt;å¼€æ”¾å°é—­åŸåˆ™&lt;/code&gt;ã€‚1988å¹´ï¼ŒBertrand Mey åœ¨ä»–çš„è‘—ä½œã€Šé¢å‘å¯¹è±¡è½¯ä»¶æ„é€ ã€‹ä¸€ä¹¦ä¸­å†™é“ï¼šSoftware entities should be open for extension,but closed for modificationï¼ˆè½¯ä»¶å®ä½“åº”å½“å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆè¿™ä¸ªnå¹´å‰çš„å»ºè®®åœ¨ Go è¯­è¨€ä¸­æ˜¯å¦‚ä½•åº”ç”¨çš„å‘¢ï¼Ÿ&lt;br&gt;&lt;figure class=&quot;highlight go&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;package&lt;/span&gt; main&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; (&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;string&quot;&gt;&quot;fmt&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;type&lt;/span&gt; A &lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	year &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;params&quot;&gt;(a A)&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Greet&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	fmt.Println(&lt;span class=&quot;string&quot;&gt;&quot;Hello GolangUK&quot;&lt;/span&gt;, a.year)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;type&lt;/span&gt; B &lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	A&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;params&quot;&gt;(b B)&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Greet&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	fmt.Println(&lt;span class=&quot;string&quot;&gt;&quot;Welcome to GolangUK&quot;&lt;/span&gt;, b.year)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; a A&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	a.year = &lt;span class=&quot;number&quot;&gt;2016&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; b B&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	b.year = &lt;span class=&quot;number&quot;&gt;2016&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	a.Greet()&lt;span class=&quot;comment&quot;&gt;//Hello GolangUK 2016&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	b.Greet()&lt;span class=&quot;comment&quot;&gt;//Welcome to GolangUK 2016&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬æœ‰ç±»å‹Aï¼ŒåŒ…å«å±æ€§ year å’Œä¸€ä¸ªæ–¹æ³• Greetã€‚æˆ‘ä»¬è¿˜æœ‰ç±»å‹Bï¼ŒBä¸­åµŒå…¥(embedding)äº†ç±»å‹Aï¼Œå¹¶ä¸”Bæä¾›äº†ä»–è‡ªå·±çš„ Greet æ–¹æ³•ï¼Œè¦†ç›–äº†Açš„ã€‚&lt;/p&gt;
&lt;p&gt;åµŒå…¥ä¸ä»…ä»…æ˜¯é’ˆå¯¹æ–¹æ³•ï¼Œè¿˜å¯ä»¥é€šè¿‡åµŒå…¥ä½¿ç”¨è¢«åµŒå…¥ç±»å‹çš„å±æ€§ã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œåœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå› ä¸ºAå’ŒBå®šä¹‰åœ¨åŒä¸€ä¸ªåŒ…ä¸­ï¼Œæ‰€ä»¥Bå¯ä»¥åƒä½¿ç”¨è‡ªå·±å®šä¹‰çš„å±æ€§ä¸€æ ·ä½¿ç”¨Aä¸­çš„ private çš„å±æ€§ yearã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ï¼ŒåµŒå…¥æ˜¯å®ç° Go ç±»å‹å¯¹æ‰©å±•å¼€æ”¾éå¸¸é¹…å¦¹å­å˜¤çš„æ‰‹æ®µã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight go&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;package&lt;/span&gt; main&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; (&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;string&quot;&gt;&quot;fmt&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;type&lt;/span&gt; Cat &lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	Name &lt;span class=&quot;keyword&quot;&gt;string&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;params&quot;&gt;(c Cat)&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Legs&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;int&lt;/span&gt;&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;params&quot;&gt;(c Cat)&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;PrintLegs&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	fmt.Printf(&lt;span class=&quot;string&quot;&gt;&quot;I have %d legs\n&quot;&lt;/span&gt;, c.Legs())&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;type&lt;/span&gt; OctoCat &lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	Cat&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;params&quot;&gt;(c OctoCat)&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Legs&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;int&lt;/span&gt;&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; octo OctoCat&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	fmt.Printf(&lt;span class=&quot;string&quot;&gt;&quot;I have %d legs\n&quot;&lt;/span&gt;, octo.Legs())&lt;span class=&quot;comment&quot;&gt;// I have 5 legs&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	octo.PrintLegs()&lt;span class=&quot;comment&quot;&gt;// I have 4 legs&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ª Cat ç±»å‹ï¼Œå®ƒæ‹¥æœ‰ä¸€ä¸ª Legs æ–¹æ³•å¯ä»¥è·å¾—è…¿çš„æ•°ç›®ã€‚æˆ‘ä»¬å°† Cat ç±»å‹åµŒå…¥åˆ°ä¸€ä¸ªæ–°ç±»å‹ OctoCat ä¸­ï¼Œç„¶åå£°æ˜ Octocat æœ‰5æ¡è…¿ã€‚ç„¶è€Œï¼Œå°½ç®¡ OctoCat å®šä¹‰äº†å®ƒè‡ªå·±çš„ Legs æ–¹æ³•è¿”å›5ï¼Œåœ¨è°ƒç”¨ PrintLegs æ–¹æ³•æ—¶ä¾æ—§ä¼šæ‰“å°â€œI have 4 legsâ€ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ˜¯å› ä¸º PrintLegs æ–¹æ³•æ˜¯å®šä¹‰åœ¨ Cat ç±»å‹ä¸­çš„ï¼Œå®ƒå°† Cat ä½œä¸ºæ¥æ”¶è€…ï¼Œæ‰€ä»¥ä¼šè°ƒç”¨ Cat ç±»å‹çš„ Legs æ–¹æ³•ã€‚Cat ç±»å‹å¹¶ä¸ä¼šæ„ŸçŸ¥åˆ°å®ƒè¢«åµŒå…¥åˆ°å…¶ä»–ç±»å‹ä¸­ï¼Œæ‰€ä»¥å®ƒçš„æ–¹æ³•ä¹Ÿä¸ä¼šè¢«æ›´æ”¹ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥è¯´ Go çš„ç±»å‹æ˜¯å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­çš„ã€‚&lt;/p&gt;
&lt;p&gt;å®é™…ä¸Šï¼ŒGo ç±»å‹ä¸­çš„æ–¹æ³•æ¯”æ™®é€šå‡½æ•°å¤šäº†ä¸€ç‚¹è¯­æ³•ç³–â€”-å°†æ¥æ”¶è€…ä½œä¸ºä¸€ä¸ªé¢„å…ˆå£°æ˜çš„å½¢å‚ã€‚(è¯‘è€…æ³¨ï¼šè¿™å—ç†è§£äº†å¥½ä¹…ğŸ˜–ã€‚ã€‚ã€‚ï¼Œä¸æ‡‚å¾—å¯ä»¥çœ‹è¿™ç¯‡&lt;a href=&quot;https://tiancaiamao.gitbooks.io/go-internals/content/zh/07.3.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;å‚è€ƒæ–‡æ¡£&lt;/a&gt;)&lt;br&gt;&lt;figure class=&quot;highlight go&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;params&quot;&gt;(c Cat)&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;PrintLegs&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        fmt.Printf(&lt;span class=&quot;string&quot;&gt;&quot;I have %d legs\n&quot;&lt;/span&gt;, c.Legs())&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;PrintLegs&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(c Cat)&lt;/span&gt;&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        fmt.Printf(&lt;span class=&quot;string&quot;&gt;&quot;I have %d legs\n&quot;&lt;/span&gt;, c.Legs())&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;ç”±äº Go å¹¶ä¸æ”¯æŒå‡½æ•°é‡è½½ï¼Œæ‰€ä»¥ OctoCat ç±»å‹å¹¶ä¸èƒ½æ›¿ä»£ Cat ç±»å‹ã€‚è¿™ä¹Ÿå°†å¼•å‡ºä¸‹ä¸€ä¸ªåŸåˆ™â€”é‡Œæ°æ›¿æ¢åŸåˆ™ã€‚&lt;/p&gt;
&lt;p&gt;ä¸”å¬ä¸‹å›åˆ†è§£ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚&lt;/p&gt;
&lt;p&gt;â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”åˆ«çœ‹æˆ‘ï¼Œæˆ‘åªæ˜¯ä¸ªå‚²å¨‡çš„åˆ†å‰²çº¿â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ç»ˆäºå®Œæˆäº†ä¸Šçš„éƒ¨åˆ†â†–(^Ï‰^)â†—ï¼Œå°½é‡åœ¨ä¸‹å‘¨å®Œæˆä¸‹ã€‚ç”±äºå¹¶ä¸äº†è§£ Go éš¾å…ä¼šæœ‰é”™è¯¯æˆ–ç¿»è¯‘ç”Ÿç¡¬çš„åœ°æ–¹ï¼Œæ¬¢è¿æŒ‡æ­£é”™è¯¯ï¼Œæ¬¢è¿ä¸€èµ·è®¨è®º~(â‰§â–½â‰¦)/~ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;éƒ½çœ‹åˆ°è¿™äº†ï¼Œå…³æ³¨ä¸ªå…¬ä¼—å·å†èµ°å§ğŸ™ˆ&lt;br&gt;&lt;img src=&quot;https://pic.yupoo.com/jiananshi/3302bb60/7b8457af.jpg&quot; alt=&quot;Running Geek&quot;&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;æœ€è¿‘ä¸¤ä¸ªæœˆæ²¡æœ‰å¥½å¥½çš„çœ‹ä¹¦å­¦ä¹ ï¼Œå¯¼è‡´åšå®¢ä¹Ÿæ°´äº†ä¸¤ä¸ªæœˆæ²¡å†™ä»€ä¹ˆæ­£ç»çš„ã€‚ä¸Šå‘¨æ”¶åˆ°ä»“é¼ ğŸ¹å›èŒèŒå“’çš„é‚®ä»¶ä¹‹åï¼Œåˆæ¿€èµ·äº†æˆ‘å†™åšå®¢çš„æ¬²æœ›ã€‚ç”±äºè‡ªå·±æœ€è¿‘çµæ„Ÿæ¯ç«­ï¼Œæ‰€ä»¥æˆ‘å†³å®šç¿»è¯‘ä¸€ç¯‡åˆ«äººçš„O(âˆ©_âˆ©)O~ã€‚ä½œä¸ºä¸€ä¸ªä¸€ç›´æƒ³å­¦ Goï¼Œä½†æƒ³äº†å¥½ä¹…è¿˜æ²¡å…¥é—¨çš„äººï¼Œæˆ‘æŒ‘äº†ç¯‡å†™ Go çš„ï¼Œé¡ºä¾¿å¸®è‡ªå·±ç†Ÿæ‚‰ä¸€ä¸‹ Goã€‚åŸæ–‡æ˜¯ä½œè€…æ ¹æ®è‡ªå·± GolangUK çš„&lt;a href=&quot;https://www.youtube.com/watch?v=zzAdEt3xZ1M&quot;&gt;æ¼”è®²&lt;/a&gt;æ‰€æ•´ç†çš„ï¼Œå…¨æ–‡ä»¥ SOLID åŸåˆ™ä¸ºçº¿è·¯è®²è¿°äº†ä»€ä¹ˆæ ·çš„ Go ä»£ç æ‰ç®—æ˜¯å¥½ä»£ç ï¼Œå½“ç„¶ SOLID åŸåˆ™ä¹Ÿé€‚ç”¨äºå…¶ä»–è¯­è¨€ã€‚åŸæ–‡æ¯”è¾ƒé•¿ï¼Œæ‰€ä»¥å‡†å¤‡åˆ†æˆä¸Šä¸‹ä¸¤éƒ¨åˆ†ï¼Œä¹Ÿæœ‰ååˆ†éå¸¸ä»¥åŠç‰¹åˆ«å¤§çš„å¯èƒ½æ˜¯ä¸Šä¸­ä¸‹(æ‚è„¸)ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å’³å’³ï¼Œæˆ‘æœç„¶æ˜¯æ‰“è„¸ä½“è´¨ï¼Œä¸‹ç¿»è¯‘äº†ä¸€å¥å°±æ”¾å¼ƒäº†ã€‚ä¸è¿‡ï¼Œæˆ‘æŠŠå®ƒäº¤ç»™äº†è¶…é è°±çš„å°ä¼™ä¼´ã€‚æƒ³çœ‹ä¸‹çš„è¯·ç§»æ­¥&lt;a href=&quot;http://kevin.doyeden.com/2016/09/21/solid-go-design-2/&quot;&gt;ã€è¯‘ã€‘S.O.L.I.D åŸåˆ™åœ¨ Go ä¸­çš„åº”ç”¨ï¼ˆä¸‹ï¼‰&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æ‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚è¿˜æ˜¯ä¸æ‚äº†ï¼Œè„¸å·²ç»ä¸¢æ²¡äº†ğŸ™ˆ&lt;/p&gt;
    
    </summary>
    
      <category term="go" scheme="http://yemengying.com/categories/go/"/>
    
    
      <category term="ç¿»è¯‘" scheme="http://yemengying.com/tags/%E7%BF%BB%E8%AF%91/"/>
    
      <category term="go" scheme="http://yemengying.com/tags/go/"/>
    
  </entry>
  
  <entry>
    <title>å¦‚ä½•å¿«é€Ÿæ‹¥æœ‰äº§å“çš„sense</title>
    <link href="http://yemengying.com/2016/08/23/how-to-get-pm-sense/"/>
    <id>http://yemengying.com/2016/08/23/how-to-get-pm-sense/</id>
    <published>2016-08-23T08:32:31.000Z</published>
    <updated>2018-12-13T07:50:46.000Z</updated>
    
    <content type="html">&lt;blockquote&gt;
&lt;p&gt;è¶ç€åœ¨å®¶è‘›ä¼˜èººçš„å‡ å¤©ï¼ŒåŸ¹å…»åŸ¹å…»è‡ªå·±åœ¨äº§å“æ–¹é¢çš„æŠ€èƒ½ï¼Œç»è¿‡axure,sketch,xmindçš„é‡é‡ç£¨ç‚¼ï¼Œæ€»ç»“å‡ºæ¥è¿™ç¯‡æ–‡ç« ï¼Œä»ä¸‰ä¸ªæ–¹é¢è®²è®²å¦‚ä½•æ‰èƒ½åœ¨çŸ­æ—¶é—´å†…å¿«é€Ÿæ‹¥æœ‰äº§å“çš„senseï¼Œç”»å‡ºé«˜ä¿çœŸçš„åŸå‹ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;ã€‚&lt;br&gt;ã€‚&lt;br&gt;ã€‚&lt;br&gt;ã€‚&lt;br&gt;ã€‚&lt;br&gt;ã€‚&lt;br&gt;ã€‚&lt;br&gt;ã€‚&lt;br&gt;ã€‚&lt;br&gt;ã€‚&lt;br&gt;ã€‚&lt;br&gt;ã€‚&lt;br&gt;ã€‚&lt;br&gt;ã€‚&lt;br&gt;ã€‚&lt;br&gt;ã€‚&lt;br&gt;ã€‚&lt;br&gt;ã€‚&lt;br&gt;ã€‚&lt;br&gt;ã€‚&lt;br&gt;ã€‚&lt;br&gt;ã€‚&lt;br&gt;ã€‚&lt;br&gt;ã€‚&lt;br&gt;ã€‚&lt;br&gt;ã€‚&lt;br&gt;ã€‚&lt;br&gt;ã€‚&lt;br&gt;ã€‚&lt;br&gt;ã€‚&lt;br&gt;ã€‚&lt;br&gt;ã€‚&lt;br&gt;ã€‚&lt;br&gt;ã€‚&lt;br&gt;ã€‚&lt;br&gt;ã€‚&lt;br&gt;ã€‚&lt;br&gt;ã€‚&lt;br&gt;ã€‚&lt;br&gt;ã€‚&lt;br&gt;ã€‚&lt;br&gt;ã€‚&lt;br&gt;ã€‚&lt;br&gt;ã€‚&lt;br&gt;ã€‚&lt;br&gt;ã€‚&lt;br&gt;ã€‚&lt;br&gt;ã€‚&lt;br&gt;ã€‚&lt;br&gt;ã€‚&lt;br&gt;&lt;img src=&quot;https://pic.yupoo.com/jiananshi/68123a53/3055dd84.jpg&quot; alt=&quot;lalala&quot;&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;è¶ç€åœ¨å®¶è‘›ä¼˜èººçš„å‡ å¤©ï¼ŒåŸ¹å…»åŸ¹å…»è‡ªå·±åœ¨äº§å“æ–¹é¢çš„æŠ€èƒ½ï¼Œç»è¿‡axure,sketch,xmindçš„é‡é‡ç£¨ç‚¼ï¼Œæ€»ç»“å‡ºæ¥è¿™ç¯‡æ–‡ç« ï¼Œä»ä¸‰ä¸ªæ–¹é¢è®²è®²å¦‚ä½•æ‰èƒ½åœ¨çŸ­æ—¶é—´å†…å¿«é€Ÿæ‹¥æœ‰äº§å“çš„senseï¼Œç”»å‡ºé«˜ä¿çœŸçš„åŸå‹ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="éšç¬”" scheme="http://yemengying.com/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
      <category term="éšç¬”" scheme="http://yemengying.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>ã€Springã€‘Xmlè§£æç›¸å…³</title>
    <link href="http://yemengying.com/2016/07/25/spring-xml/"/>
    <id>http://yemengying.com/2016/07/25/spring-xml/</id>
    <published>2016-07-25T14:37:18.000Z</published>
    <updated>2018-12-13T07:51:24.000Z</updated>
    
    <content type="html">&lt;blockquote&gt;
&lt;p&gt;å…ˆè¯·çœ‹ä¸‹å·¦ä¸Šè§’ï¼Œhiahiaï¼Œæ–°logoï¼Œsiä¸siå¾ˆæ¼‚é…¿ï¼Œæœ‰ä¸ªä¼šè®¾è®¡çš„è¡¨å“¥å°±æ˜¯å¥½ï¼Œåˆå¥½åˆå¿«ï¼Œè¿˜ä¸ç”¨é’±ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;æ€»ç»“ä¸‹æœ€è¿‘çœ‹çš„ Spring Xml è§£æç›¸å…³çš„ä¸€ç‚¹ç‚¹ä¸œä¸œï¼Œè¿˜æ²¡æœ‰çœ‹å®Œã€‚ã€‚ã€‚ã€‚&lt;/p&gt;
&lt;h3 id=&quot;å‚è€ƒæ–‡æ¡£&quot;&gt;&lt;a href=&quot;#å‚è€ƒæ–‡æ¡£&quot; class=&quot;headerlink&quot; title=&quot;å‚è€ƒæ–‡æ¡£&quot;&gt;&lt;/a&gt;å‚è€ƒæ–‡æ¡£&lt;/h3&gt;&lt;p&gt;&lt;a href=&quot;https://www.ibm.com/developerworks/cn/java/j-lo-spring-resource/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Spring èµ„æºè®¿é—®å‰–æå’Œç­–ç•¥æ¨¡å¼åº”ç”¨&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;é¢˜å¤–è¯&quot;&gt;&lt;a href=&quot;#é¢˜å¤–è¯&quot; class=&quot;headerlink&quot; title=&quot;é¢˜å¤–è¯&quot;&gt;&lt;/a&gt;é¢˜å¤–è¯&lt;/h3&gt;&lt;p&gt;å…ˆè¯´ä¸ªåœ¨çœ‹æºç æ—¶ï¼Œå‘ç°çš„ä¸€ä¸ªä»¥å‰æ²¡æœ‰å…³æ³¨è¿‡çš„ç‚¹ã€‚å¤§ç¥ä»¬åœ¨åˆ›å»ºé›†åˆçš„æ—¶å€™ï¼Œå¤§å¤šæ•°éƒ½è®¾ç½®äº†ä¸€ä¸ªé¢„ä¼°çš„åˆå§‹å®¹é‡(2çš„å¹‚æ•°)ï¼Œè€Œä¸æ˜¯ç›´æ¥é‡‡ç”¨é»˜è®¤çš„åˆå§‹å®¹é‡( HashMap ä¸­æ˜¯16)ï¼Œå°±åƒä¸‹é¢è¿™æ ·:&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/** Map from dependency type to corresponding autowired value */&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; Map&amp;lt;Class&amp;lt;?&amp;gt;, Object&amp;gt; resolvableDependencies = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ConcurrentHashMap&amp;lt;Class&amp;lt;?&amp;gt;, Object&amp;gt;(&lt;span class=&quot;number&quot;&gt;16&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/** Map of bean definition objects, keyed by bean name */&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; Map&amp;lt;String, BeanDefinition&amp;gt; beanDefinitionMap = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ConcurrentHashMap&amp;lt;String, BeanDefinition&amp;gt;(&lt;span class=&quot;number&quot;&gt;256&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/** Map of singleton and non-singleton bean names, keyed by dependency type */&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; Map&amp;lt;Class&amp;lt;?&amp;gt;, String[]&amp;gt; allBeanNamesByType = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ConcurrentHashMap&amp;lt;Class&amp;lt;?&amp;gt;, String[]&amp;gt;(&lt;span class=&quot;number&quot;&gt;64&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/** Map of singleton-only bean names, keyed by dependency type */&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; Map&amp;lt;Class&amp;lt;?&amp;gt;, String[]&amp;gt; singletonBeanNamesByType = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ConcurrentHashMap&amp;lt;Class&amp;lt;?&amp;gt;, String[]&amp;gt;(&lt;span class=&quot;number&quot;&gt;64&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/** List of bean definition names, in registration order */&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;volatile&lt;/span&gt; List&amp;lt;String&amp;gt; beanDefinitionNames = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ArrayList&amp;lt;String&amp;gt;(&lt;span class=&quot;number&quot;&gt;256&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/** List of names of manually registered singletons, in registration order */&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;volatile&lt;/span&gt; Set&amp;lt;String&amp;gt; manualSingletonNames = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; LinkedHashSet&amp;lt;String&amp;gt;(&lt;span class=&quot;number&quot;&gt;16&lt;/span&gt;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;å¤§ç¥ä»¬è¿™æ ·å†™è‚¯å®šæ˜¯æœ‰å¥½å¤„çš„ã€‚ä¸å¤ªäº†è§£å…¶å®ƒé›†åˆç±»çš„å®ç°ï¼Œå°±ä»¥ HashMap ä¸ºä¾‹çœ‹ä¸€ä¸‹ã€‚HashMap åº•å±‚çš„å­˜å‚¨ç»“æ„æ˜¯ä¸€ä¸ª Entry å¯¹è±¡çš„æ•°ç»„(Java 8ä¸­æ˜¯ Node å¯¹è±¡çš„æ•°ç»„)ï¼Œé»˜è®¤åˆå§‹å®¹é‡æ˜¯16ï¼Œè´Ÿè½½å› å­æ˜¯0.75ã€‚ä¹Ÿå°±æ˜¯è¯´å½“å…ƒç´ ä¸ªæ•°è¶…è¿‡16*0.75=12æ—¶ï¼Œå°±è¦è¿›è¡Œæ‰©å®¹ï¼Œå°†æ•°ç»„å¤§å°æ‰©å¤§ä¸€å€ï¼Œå¹¶è®¡ç®—å…ƒç´ åœ¨æ–°æ•°ç»„ä¸­çš„ä½ç½®ï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯æ¯”è¾ƒè€—è´¹æ€§èƒ½çš„ã€‚æ‰€ä»¥ï¼Œä¸ªäººè§‰å¾—å¤§ç¥ä»¬è¿™æ ·å†™æ˜¯å› ä¸ºå¦‚æœç›´æ¥é‡‡ç”¨é»˜è®¤çš„åˆå§‹å®¹é‡ï¼Œé‚£ä¹ˆåœ¨å…ƒç´ ä¸ªæ•°è¾ƒå°‘æ—¶ï¼Œä¼šæµªè´¹ç©ºé—´ï¼›å…ƒç´ ä¸ªæ•°è¾ƒå¤šæ—¶ï¼Œåˆä¼šé€ æˆé¢‘ç¹çš„æ‰©å®¹ï¼Œè€—è´¹æ€§èƒ½ã€‚&lt;/p&gt;
&lt;p&gt;æƒ³èµ·ä¸Šæ¬¡çš„éœ€æ±‚ï¼Œæ˜æ˜ç¡®å®šä¸€å®šä»¥åŠè‚¯å®šè¯„åˆ†åªæœ‰5ä¸ªï¼Œè¿˜æ˜¯newäº†ä¸ªé»˜è®¤å®¹é‡(16)çš„mapã€‚&lt;br&gt;&lt;img src=&quot;https://pic.yupoo.com/jiananshi/a02bf1e2/ebfc3a85.jpeg&quot; alt=&quot;ren xing&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;ç›¸å…³æ¥å£&quot;&gt;&lt;a href=&quot;#ç›¸å…³æ¥å£&quot; class=&quot;headerlink&quot; title=&quot;ç›¸å…³æ¥å£&quot;&gt;&lt;/a&gt;ç›¸å…³æ¥å£&lt;/h3&gt;&lt;p&gt;å…ˆç†ä¸€ç†åŠ è½½xmlé…ç½®æ–‡ä»¶çš„ç›¸å…³æ¥å£&lt;br&gt;&lt;strong&gt;1.Resource&lt;/strong&gt;ï¼šé‡‡ç”¨äº†ç­–ç•¥æ¨¡å¼ï¼Œæ˜¯ Spring èµ„æºè®¿é—®ç­–ç•¥çš„æŠ½è±¡ï¼Œè¯¥æ¥å£æœ‰å¤šç§å®ç°ç±»ï¼Œæ¯ä¸ªå®ç°ç±»ä»£è¡¨ä¸€ç§èµ„æºè®¿é—®ç­–ç•¥ï¼Œè´Ÿè´£å…·ä½“çš„èµ„æºè®¿é—®ã€‚&lt;br&gt;&lt;strong&gt;2.ResourceLoader&lt;/strong&gt;ï¼šè¯¥æ¥å£çš„å®ç°ç±»å¯ä»¥è·å¾—ä¸€ä¸ª Resource çš„å®ä¾‹ã€‚&lt;br&gt;&lt;strong&gt;3.BeanDefinitionReader&lt;/strong&gt;ï¼š æ ¹æ®æŒ‡å®šçš„ Resource åŠ è½½bean definition. &lt;/p&gt;
&lt;p&gt;æœªå®Œå¾…ç»­ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬æ¥æ˜¯æƒ³å¤šæ•´ç†ä¸€ç‚¹çš„ï¼Œä½†æ˜¯ã€‚ã€‚ã€‚å¬è¯´æ–°ä¸€æœŸRMä¸»è§’æ˜¯wuliå…‰æ´™ï¼Œè¿™è¿˜èƒ½å¿ï¼Œæ»šå»çœ‹RMäº†ã€‚ã€‚ã€‚ã€‚&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;å…ˆè¯·çœ‹ä¸‹å·¦ä¸Šè§’ï¼Œhiahiaï¼Œæ–°logoï¼Œsiä¸siå¾ˆæ¼‚é…¿ï¼Œæœ‰ä¸ªä¼šè®¾è®¡çš„è¡¨å“¥å°±æ˜¯å¥½ï¼Œåˆå¥½åˆå¿«ï¼Œè¿˜ä¸ç”¨é’±ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="spring" scheme="http://yemengying.com/categories/spring/"/>
    
    
      <category term="spring" scheme="http://yemengying.com/tags/spring/"/>
    
  </entry>
  
  <entry>
    <title>ã€Springã€‘Beançš„ç”Ÿå‘½å‘¨æœŸ</title>
    <link href="http://yemengying.com/2016/07/14/spring-bean-life-cycle/"/>
    <id>http://yemengying.com/2016/07/14/spring-bean-life-cycle/</id>
    <published>2016-07-14T13:35:53.000Z</published>
    <updated>2018-12-13T07:52:27.000Z</updated>
    
    <content type="html">&lt;blockquote&gt;
&lt;p&gt;æ™ºå•†æ‰é¸¡ğŸ”ï¼Œå®åœ¨æ²¡åŠæ³•ä¸€ä¸‹å­ç†è§£Spring IoCå’ŒAOPçš„å®ç°åŸç†ï¼Œçœ‹çš„é—¹å¿ƒä¹Ÿä¸å¤ªæ‡‚ï¼Œæ‰€ä»¥ã€‚ã€‚ã€‚å†³å®šæ‹†æˆå°çš„ä¸èƒ½åœ¨å°çš„ä¸€ä¸ªä¸ªé—®é¢˜ï¼Œä¸€ç‚¹ç‚¹å•ƒã€‚ä»Šå¤©å…ˆæ¥çœ‹çœ‹Springä¸­Beançš„ç”Ÿå‘½å‘¨æœŸã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;Spring Beanæ˜¯Springåº”ç”¨ä¸­æœ€æœ€é‡è¦çš„éƒ¨åˆ†äº†ã€‚æ‰€ä»¥æ¥çœ‹çœ‹Springå®¹å™¨åœ¨åˆå§‹åŒ–ä¸€ä¸ªbeançš„æ—¶å€™ä¼šåšé‚£äº›äº‹æƒ…ï¼Œé¡ºåºæ˜¯æ€æ ·çš„ï¼Œåœ¨å®¹å™¨å…³é—­çš„æ—¶å€™ï¼Œåˆä¼šåšå“ªäº›äº‹æƒ…ã€‚&lt;/p&gt;
&lt;h3 id=&quot;ç¤ºä¾‹ä»£ç &quot;&gt;&lt;a href=&quot;#ç¤ºä¾‹ä»£ç &quot; class=&quot;headerlink&quot; title=&quot;ç¤ºä¾‹ä»£ç &quot;&gt;&lt;/a&gt;ç¤ºä¾‹ä»£ç &lt;/h3&gt;&lt;p&gt;gitåœ°å€ï¼š&lt;br&gt;&lt;div id=&quot;badge-container-giraffe0813-giraffeInSpring-giraffeInSpring&quot; class=&quot;hexo-github&quot; style=&quot;width: 100%&quot;&gt;&lt;/div&gt;
&lt;script src=&quot;/hexo-github/badge.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
  loadStyle(&quot;/hexo-github/style.css&quot;);
  loadStyle(&quot;/hexo-github/octicons/octicons.css&quot;);
  new Badge(&quot;#badge-container-giraffe0813-giraffeInSpring-giraffeInSpring&quot;, &quot;giraffe0813&quot;, &quot;giraffeInSpring&quot;, &quot;giraffeInSpring&quot;, false);
&lt;/script&gt;
&lt;/p&gt;
&lt;p&gt;springç‰ˆæœ¬ï¼š4.2.3.RELEASE&lt;br&gt;é‰´äºSpringæºç æ˜¯ç”¨gradleæ„å»ºçš„ï¼Œæˆ‘ä¹Ÿå†³å®šèˆå¼ƒæˆ‘å¤§mavenï¼Œå°è¯•ä¸‹&lt;a href=&quot;http://kevin.doyeden.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;æ´ªèŠ&lt;/a&gt;æ¨èè¿‡çš„gradleã€‚è¿è¡ŒbeanLifeCycleæ¨¡å—ä¸‹çš„junit testå³å¯åœ¨æ§åˆ¶å°çœ‹åˆ°å¦‚ä¸‹è¾“å‡ºï¼Œå¯ä»¥æ¸…æ¥šäº†è§£Springå®¹å™¨åœ¨åˆ›å»ºï¼Œåˆå§‹åŒ–å’Œé”€æ¯Beançš„æ—¶å€™ä¾æ¬¡åšäº†é‚£äº›äº‹æƒ…ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;Springå®¹å™¨åˆå§‹åŒ–&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;=====================================&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;è°ƒç”¨GiraffeServiceæ— å‚æ„é€ å‡½æ•°&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;GiraffeServiceä¸­åˆ©ç”¨&lt;span class=&quot;built_in&quot;&gt;set&lt;/span&gt;æ–¹æ³•è®¾ç½®å±æ€§å€¼&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;è°ƒç”¨&lt;span class=&quot;built_in&quot;&gt;set&lt;/span&gt;BeanName:: Bean Name defined &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; context=giraffeService&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;è°ƒç”¨&lt;span class=&quot;built_in&quot;&gt;set&lt;/span&gt;BeanClassLoader,ClassLoader Name = sun.misc.Launcher&lt;span class=&quot;variable&quot;&gt;$AppClassLoader&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;è°ƒç”¨&lt;span class=&quot;built_in&quot;&gt;set&lt;/span&gt;BeanFactory,&lt;span class=&quot;built_in&quot;&gt;set&lt;/span&gt;BeanFactory:: giraffe bean singleton=&lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;è°ƒç”¨&lt;span class=&quot;built_in&quot;&gt;set&lt;/span&gt;Environment&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;è°ƒç”¨&lt;span class=&quot;built_in&quot;&gt;set&lt;/span&gt;ResourceLoader:: Resource File Name=spring-beans.xml&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;è°ƒç”¨&lt;span class=&quot;built_in&quot;&gt;set&lt;/span&gt;ApplicationEventPublisher&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;è°ƒç”¨&lt;span class=&quot;built_in&quot;&gt;set&lt;/span&gt;ApplicationContext:: Bean Definition Names=[giraffeService, org.springframework.context.annotation.CommonAnnotationBeanPostProcessor&lt;span class=&quot;comment&quot;&gt;#0, com.giraffe.spring.service.GiraffeServicePostProcessor#0]&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;æ‰§è¡ŒBeanPostProcessorçš„postProcessBeforeInitializationæ–¹æ³•,beanName=giraffeService&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;è°ƒç”¨PostConstructæ³¨è§£æ ‡æ³¨çš„æ–¹æ³•&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;æ‰§è¡ŒInitializingBeanæ¥å£çš„afterPropertiesSetæ–¹æ³•&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;æ‰§è¡Œé…ç½®çš„init-method&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;æ‰§è¡ŒBeanPostProcessorçš„postProcessAfterInitializationæ–¹æ³•,beanName=giraffeService&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Springå®¹å™¨åˆå§‹åŒ–å®Œæ¯•&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;=====================================&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;ä»å®¹å™¨ä¸­è·å–Bean&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;giraffe Name=æå…‰æ´™&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;=====================================&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;è°ƒç”¨preDestroyæ³¨è§£æ ‡æ³¨çš„æ–¹æ³•&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;æ‰§è¡ŒDisposableBeanæ¥å£çš„destroyæ–¹æ³•&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;æ‰§è¡Œé…ç½®çš„destroy-method&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Springå®¹å™¨å…³é—­&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;å‚è€ƒæ–‡æ¡£&quot;&gt;&lt;a href=&quot;#å‚è€ƒæ–‡æ¡£&quot; class=&quot;headerlink&quot; title=&quot;å‚è€ƒæ–‡æ¡£&quot;&gt;&lt;/a&gt;å‚è€ƒæ–‡æ¡£&lt;/h3&gt;&lt;p&gt;&lt;a href=&quot;http://www.journaldev.com/2637/spring-bean-life-cycle#comment-35644&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;life cycle management of a spring bean&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://javabeat.net/life-cycle-management-of-a-spring-bean/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Spring Bean Life Cycle&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;Spring-Beançš„ç”Ÿå‘½å‘¨æœŸ&quot;&gt;&lt;a href=&quot;#Spring-Beançš„ç”Ÿå‘½å‘¨æœŸ&quot; class=&quot;headerlink&quot; title=&quot;Spring Beançš„ç”Ÿå‘½å‘¨æœŸ&quot;&gt;&lt;/a&gt;Spring Beançš„ç”Ÿå‘½å‘¨æœŸ&lt;/h3&gt;&lt;p&gt;å…ˆæ¥çœ‹çœ‹ï¼ŒSpringåœ¨Beanä»åˆ›å»ºåˆ°é”€æ¯çš„ç”Ÿå‘½å‘¨æœŸä¸­å¯èƒ½åšå¾—äº‹æƒ…ã€‚&lt;/p&gt;
&lt;h4 id=&quot;initialization-å’Œ-destroy&quot;&gt;&lt;a href=&quot;#initialization-å’Œ-destroy&quot; class=&quot;headerlink&quot; title=&quot;initialization å’Œ destroy&quot;&gt;&lt;/a&gt;initialization å’Œ destroy&lt;/h4&gt;&lt;p&gt;æœ‰æ—¶æˆ‘ä»¬éœ€è¦åœ¨Beanå±æ€§å€¼setå¥½ä¹‹åå’ŒBeané”€æ¯ä¹‹å‰åšä¸€äº›äº‹æƒ…ï¼Œæ¯”å¦‚æ£€æŸ¥Beanä¸­æŸä¸ªå±æ€§æ˜¯å¦è¢«æ­£å¸¸çš„è®¾ç½®å¥½å€¼äº†ã€‚Springæ¡†æ¶æä¾›äº†å¤šç§æ–¹æ³•è®©æˆ‘ä»¬å¯ä»¥åœ¨Spring Beançš„ç”Ÿå‘½å‘¨æœŸä¸­æ‰§è¡Œinitializationå’Œpre-destroyæ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1.å®ç°InitializingBeanå’ŒDisposableBeanæ¥å£&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸¤ä¸ªæ¥å£éƒ½åªåŒ…å«ä¸€ä¸ªæ–¹æ³•ã€‚é€šè¿‡å®ç°InitializingBeanæ¥å£çš„afterPropertiesSet()æ–¹æ³•å¯ä»¥åœ¨Beanå±æ€§å€¼è®¾ç½®å¥½ä¹‹ååšä¸€äº›æ“ä½œï¼Œå®ç°DisposableBeanæ¥å£çš„destroy()æ–¹æ³•å¯ä»¥åœ¨é”€æ¯Beanä¹‹å‰åšä¸€äº›æ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;ğŸŒ°å¦‚ä¸‹ï¼š&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;GiraffeService&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;InitializingBean&lt;/span&gt;,&lt;span class=&quot;title&quot;&gt;DisposableBean&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;afterPropertiesSet&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;throws&lt;/span&gt; Exception &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        System.out.println(&lt;span class=&quot;string&quot;&gt;&quot;æ‰§è¡ŒInitializingBeanæ¥å£çš„afterPropertiesSetæ–¹æ³•&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;destroy&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;throws&lt;/span&gt; Exception &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        System.out.println(&lt;span class=&quot;string&quot;&gt;&quot;æ‰§è¡ŒDisposableBeanæ¥å£çš„destroyæ–¹æ³•&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;è¿™ç§æ–¹æ³•æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯ä¸å»ºè®®ä½¿ç”¨ã€‚å› ä¸ºè¿™æ ·ä¼šå°†Beançš„å®ç°å’ŒSpringæ¡†æ¶è€¦åˆåœ¨ä¸€èµ·ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2.åœ¨beançš„é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šinit-methodå’Œdestroy-methodæ–¹æ³•&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Springå…è®¸æˆ‘ä»¬åˆ›å»ºè‡ªå·±çš„initæ–¹æ³•å’Œdestroyæ–¹æ³•ï¼Œåªè¦åœ¨Beançš„é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šinit-methodå’Œdestroy-methodçš„å€¼å°±å¯ä»¥åœ¨Beanåˆå§‹åŒ–æ—¶å’Œé”€æ¯ä¹‹å‰æ‰§è¡Œä¸€äº›æ“ä½œã€‚&lt;br&gt;ğŸŒ°å¦‚ä¸‹ï¼š&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;GiraffeService&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//é€šè¿‡&amp;lt;bean&amp;gt;çš„destroy-methodå±æ€§æŒ‡å®šçš„é”€æ¯æ–¹æ³•&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;destroyMethod&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;throws&lt;/span&gt; Exception &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        System.out.println(&lt;span class=&quot;string&quot;&gt;&quot;æ‰§è¡Œé…ç½®çš„destroy-method&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//é€šè¿‡&amp;lt;bean&amp;gt;çš„init-methodå±æ€§æŒ‡å®šçš„åˆå§‹åŒ–æ–¹æ³•&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;initMethod&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;throws&lt;/span&gt; Exception &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        System.out.println(&lt;span class=&quot;string&quot;&gt;&quot;æ‰§è¡Œé…ç½®çš„init-method&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;é…ç½®æ–‡ä»¶ä¸­çš„é…ç½®ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;bean&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;giraffeService&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;com.giraffe.spring.service.GiraffeService&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;init-method&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;initMethod&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;destroy-method&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;destroyMethod&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;bean&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;éœ€è¦æ³¨æ„çš„æ˜¯è‡ªå®šä¹‰çš„init-methodå’Œpost-methodæ–¹æ³•å¯ä»¥æŠ›å¼‚å¸¸ä½†æ˜¯ä¸èƒ½æœ‰å‚æ•°ã€‚&lt;br&gt;è¿™ç§æ–¹å¼æ¯”è¾ƒæ¨èï¼Œå› ä¸ºå¯ä»¥è‡ªå·±åˆ›å»ºæ–¹æ³•ï¼Œæ— éœ€å°†Beançš„å®ç°ç›´æ¥ä¾èµ–äºspringçš„æ¡†æ¶ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3.ä½¿ç”¨@PostConstructå’Œ@PreDestroyæ³¨è§£&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;é™¤äº†xmlé…ç½®çš„æ–¹å¼ï¼ŒSpringä¹Ÿæ”¯æŒç”¨&lt;code&gt;@PostConstruct&lt;/code&gt;å’Œ &lt;code&gt;@PreDestroy&lt;/code&gt;æ³¨è§£æ¥æŒ‡å®šinitå’Œdestroyæ–¹æ³•ã€‚è¿™ä¸¤ä¸ªæ³¨è§£å‡åœ¨&lt;code&gt;javax.annotation&lt;/code&gt;åŒ…ä¸­ã€‚&lt;br&gt;ä¸ºäº†æ³¨è§£å¯ä»¥ç”Ÿæ•ˆï¼Œéœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­å®šä¹‰&lt;code&gt;org.springframework.context.annotation.CommonAnnotationBeanPostProcessor&lt;/code&gt;æˆ–&lt;code&gt;context:annotation-config&lt;/code&gt;&lt;br&gt;ğŸŒ°å¦‚ä¸‹ï¼š&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;GiraffeService&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@PostConstruct&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;initPostConstruct&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        System.out.println(&lt;span class=&quot;string&quot;&gt;&quot;æ‰§è¡ŒPostConstructæ³¨è§£æ ‡æ³¨çš„æ–¹æ³•&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@PreDestroy&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;preDestroy&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        System.out.println(&lt;span class=&quot;string&quot;&gt;&quot;æ‰§è¡ŒpreDestroyæ³¨è§£æ ‡æ³¨çš„æ–¹æ³•&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;é…ç½®æ–‡ä»¶:&lt;br&gt;&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;bean&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;org.springframework.context.annotation.CommonAnnotationBeanPostProcessor&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&quot;å®ç°-Awareæ¥å£-åœ¨Beanä¸­ä½¿ç”¨Springæ¡†æ¶çš„ä¸€äº›å¯¹è±¡&quot;&gt;&lt;a href=&quot;#å®ç°-Awareæ¥å£-åœ¨Beanä¸­ä½¿ç”¨Springæ¡†æ¶çš„ä¸€äº›å¯¹è±¡&quot; class=&quot;headerlink&quot; title=&quot;å®ç°*Awareæ¥å£ åœ¨Beanä¸­ä½¿ç”¨Springæ¡†æ¶çš„ä¸€äº›å¯¹è±¡&quot;&gt;&lt;/a&gt;å®ç°*Awareæ¥å£ åœ¨Beanä¸­ä½¿ç”¨Springæ¡†æ¶çš„ä¸€äº›å¯¹è±¡&lt;/h4&gt;&lt;p&gt;æœ‰äº›æ—¶å€™æˆ‘ä»¬éœ€è¦åœ¨Beançš„åˆå§‹åŒ–ä¸­ä½¿ç”¨Springæ¡†æ¶è‡ªèº«çš„ä¸€äº›å¯¹è±¡æ¥æ‰§è¡Œä¸€äº›æ“ä½œï¼Œæ¯”å¦‚è·å–ServletContextçš„ä¸€äº›å‚æ•°ï¼Œè·å–ApplicaitionContextä¸­çš„BeanDefinitionçš„åå­—ï¼Œè·å–Beanåœ¨å®¹å™¨ä¸­çš„åå­—ç­‰ç­‰ã€‚ä¸ºäº†è®©Beanå¯ä»¥è·å–åˆ°æ¡†æ¶è‡ªèº«çš„ä¸€äº›å¯¹è±¡ï¼ŒSpringæä¾›äº†ä¸€ç»„åä¸º*Awareçš„æ¥å£ã€‚&lt;br&gt;è¿™äº›æ¥å£å‡ç»§æ‰¿äº&lt;code&gt;org.springframework.beans.factory.Aware&lt;/code&gt;æ ‡è®°æ¥å£ï¼Œå¹¶æä¾›ä¸€ä¸ªå°†ç”±Beanå®ç°çš„set*æ–¹æ³•,Springé€šè¿‡åŸºäºsetterçš„ä¾èµ–æ³¨å…¥æ–¹å¼ä½¿ç›¸åº”çš„å¯¹è±¡å¯ä»¥è¢«Beanä½¿ç”¨ã€‚&lt;br&gt;ç½‘ä¸Šè¯´ï¼Œè¿™äº›æ¥å£æ˜¯åˆ©ç”¨è§‚å¯Ÿè€…æ¨¡å¼å®ç°çš„ï¼Œç±»ä¼¼äºservlet listenersï¼Œç›®å‰è¿˜ä¸æ˜ç™½ï¼Œä¸è¿‡è¿™ä¹Ÿä¸åœ¨æœ¬æ–‡çš„è®¨è®ºèŒƒå›´å†…ã€‚&lt;br&gt;ä»‹ç»ä¸€äº›é‡è¦çš„Awareæ¥å£ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ApplicationContextAware: è·å¾—ApplicationContextå¯¹è±¡,å¯ä»¥ç”¨æ¥è·å–æ‰€æœ‰Bean definitionçš„åå­—ã€‚&lt;/li&gt;
&lt;li&gt;BeanFactoryAware:è·å¾—BeanFactoryå¯¹è±¡ï¼Œå¯ä»¥ç”¨æ¥æ£€æµ‹Beançš„ä½œç”¨åŸŸã€‚&lt;/li&gt;
&lt;li&gt;BeanNameAware:è·å¾—Beanåœ¨é…ç½®æ–‡ä»¶ä¸­å®šä¹‰çš„åå­—ã€‚&lt;/li&gt;
&lt;li&gt;ResourceLoaderAware:è·å¾—ResourceLoaderå¯¹è±¡ï¼Œå¯ä»¥è·å¾—classpathä¸­æŸä¸ªæ–‡ä»¶ã€‚&lt;/li&gt;
&lt;li&gt;ServletContextAware:åœ¨ä¸€ä¸ªMVCåº”ç”¨ä¸­å¯ä»¥è·å–ServletContextå¯¹è±¡ï¼Œå¯ä»¥è¯»å–contextä¸­çš„å‚æ•°ã€‚&lt;/li&gt;
&lt;li&gt;ServletConfigAwareåœ¨ä¸€ä¸ªMVCåº”ç”¨ä¸­å¯ä»¥è·å–ServletConfigå¯¹è±¡ï¼Œå¯ä»¥è¯»å–configä¸­çš„å‚æ•°ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ğŸŒ°å¦‚ä¸‹:&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;41&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;42&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;43&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;44&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;45&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;46&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;47&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;48&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;49&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;50&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;GiraffeService&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;implements&lt;/span&gt;   &lt;span class=&quot;title&quot;&gt;ApplicationContextAware&lt;/span&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;title&quot;&gt;ApplicationEventPublisherAware&lt;/span&gt;, &lt;span class=&quot;title&quot;&gt;BeanClassLoaderAware&lt;/span&gt;, &lt;span class=&quot;title&quot;&gt;BeanFactoryAware&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;title&quot;&gt;BeanNameAware&lt;/span&gt;, &lt;span class=&quot;title&quot;&gt;EnvironmentAware&lt;/span&gt;, &lt;span class=&quot;title&quot;&gt;ImportAware&lt;/span&gt;, &lt;span class=&quot;title&quot;&gt;ResourceLoaderAware&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;setBeanClassLoader&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(ClassLoader classLoader)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        System.out.println(&lt;span class=&quot;string&quot;&gt;&quot;æ‰§è¡ŒsetBeanClassLoader,ClassLoader Name = &quot;&lt;/span&gt; + classLoader.getClass().getName());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;setBeanFactory&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(BeanFactory beanFactory)&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;throws&lt;/span&gt; BeansException &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        System.out.println(&lt;span class=&quot;string&quot;&gt;&quot;æ‰§è¡ŒsetBeanFactory,setBeanFactory:: giraffe bean singleton=&quot;&lt;/span&gt; +  beanFactory.isSingleton(&lt;span class=&quot;string&quot;&gt;&quot;giraffeService&quot;&lt;/span&gt;));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;setBeanName&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(String s)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        System.out.println(&lt;span class=&quot;string&quot;&gt;&quot;æ‰§è¡ŒsetBeanName:: Bean Name defined in context=&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                + s);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;setApplicationContext&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(ApplicationContext applicationContext)&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;throws&lt;/span&gt; BeansException &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        System.out.println(&lt;span class=&quot;string&quot;&gt;&quot;æ‰§è¡ŒsetApplicationContext:: Bean Definition Names=&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                + Arrays.toString(applicationContext.getBeanDefinitionNames()));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;setApplicationEventPublisher&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(ApplicationEventPublisher applicationEventPublisher)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        System.out.println(&lt;span class=&quot;string&quot;&gt;&quot;æ‰§è¡ŒsetApplicationEventPublisher&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;setEnvironment&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Environment environment)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        System.out.println(&lt;span class=&quot;string&quot;&gt;&quot;æ‰§è¡ŒsetEnvironment&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;setResourceLoader&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(ResourceLoader resourceLoader)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        Resource resource = resourceLoader.getResource(&lt;span class=&quot;string&quot;&gt;&quot;classpath:spring-beans.xml&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        System.out.println(&lt;span class=&quot;string&quot;&gt;&quot;æ‰§è¡ŒsetResourceLoader:: Resource File Name=&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                + resource.getFilename());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;setImportMetadata&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(AnnotationMetadata annotationMetadata)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        System.out.println(&lt;span class=&quot;string&quot;&gt;&quot;æ‰§è¡ŒsetImportMetadata&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&quot;BeanPostProcessor&quot;&gt;&lt;a href=&quot;#BeanPostProcessor&quot; class=&quot;headerlink&quot; title=&quot;BeanPostProcessor&quot;&gt;&lt;/a&gt;BeanPostProcessor&lt;/h4&gt;&lt;p&gt;ä¸Šé¢çš„*Awareæ¥å£æ˜¯é’ˆå¯¹æŸä¸ªå®ç°è¿™äº›æ¥å£çš„Beanå®šåˆ¶åˆå§‹åŒ–çš„è¿‡ç¨‹ï¼Œ&lt;br&gt;SpringåŒæ ·å¯ä»¥é’ˆå¯¹å®¹å™¨ä¸­çš„æ‰€æœ‰Beanï¼Œæˆ–è€…æŸäº›Beanå®šåˆ¶åˆå§‹åŒ–è¿‡ç¨‹ï¼Œåªéœ€æä¾›ä¸€ä¸ªå®ç°BeanPostProcessoræ¥å£çš„ç±»å³å¯ã€‚ è¯¥æ¥å£ä¸­åŒ…å«ä¸¤ä¸ªæ–¹æ³•ï¼ŒpostProcessBeforeInitializationå’ŒpostProcessAfterInitializationã€‚ postProcessBeforeInitializationæ–¹æ³•ä¼šåœ¨å®¹å™¨ä¸­çš„Beanåˆå§‹åŒ–ä¹‹å‰æ‰§è¡Œï¼Œ postProcessAfterInitializationæ–¹æ³•åœ¨å®¹å™¨ä¸­çš„Beanåˆå§‹åŒ–ä¹‹åæ‰§è¡Œã€‚&lt;br&gt;ğŸŒ°å¦‚ä¸‹ï¼š&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;CustomerBeanPostProcessor&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;BeanPostProcessor&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; Object &lt;span class=&quot;title&quot;&gt;postProcessBeforeInitialization&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Object bean, String beanName)&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;throws&lt;/span&gt; BeansException &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        System.out.println(&lt;span class=&quot;string&quot;&gt;&quot;æ‰§è¡ŒBeanPostProcessorçš„postProcessBeforeInitializationæ–¹æ³•,beanName=&quot;&lt;/span&gt; + beanName);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; bean;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; Object &lt;span class=&quot;title&quot;&gt;postProcessAfterInitialization&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Object bean, String beanName)&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;throws&lt;/span&gt; BeansException &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        System.out.println(&lt;span class=&quot;string&quot;&gt;&quot;æ‰§è¡ŒBeanPostProcessorçš„postProcessAfterInitializationæ–¹æ³•,beanName=&quot;&lt;/span&gt; + beanName);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; bean;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;è¦å°†BeanPostProcessorçš„Beanåƒå…¶ä»–Beanä¸€æ ·å®šä¹‰åœ¨é…ç½®æ–‡ä»¶ä¸­&lt;br&gt;&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;bean&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;com.giraffe.spring.service.CustomerBeanPostProcessor&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;æ€»ç»“&quot;&gt;&lt;a href=&quot;#æ€»ç»“&quot; class=&quot;headerlink&quot; title=&quot;æ€»ç»“&quot;&gt;&lt;/a&gt;æ€»ç»“&lt;/h3&gt;&lt;p&gt;æ‰€ä»¥ã€‚ã€‚ã€‚ç»“åˆç¬¬ä¸€èŠ‚æ§åˆ¶å°è¾“å‡ºçš„å†…å®¹ï¼ŒSpring Beançš„ç”Ÿå‘½å‘¨æœŸæ˜¯è¿™æ ·çº¸çš„ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Beanå®¹å™¨æ‰¾åˆ°é…ç½®æ–‡ä»¶ä¸­Spring Beançš„å®šä¹‰ã€‚&lt;/li&gt;
&lt;li&gt;Beanå®¹å™¨åˆ©ç”¨Java Reflection APIåˆ›å»ºä¸€ä¸ªBeançš„å®ä¾‹ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœæ¶‰åŠåˆ°ä¸€äº›å±æ€§å€¼ åˆ©ç”¨setæ–¹æ³•è®¾ç½®ä¸€äº›å±æ€§å€¼ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœBeanå®ç°äº†BeanNameAwareæ¥å£ï¼Œè°ƒç”¨setBeanName()æ–¹æ³•ï¼Œä¼ å…¥Beançš„åå­—ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœBeanå®ç°äº†BeanClassLoaderAwareæ¥å£ï¼Œè°ƒç”¨setBeanClassLoader()æ–¹æ³•ï¼Œä¼ å…¥ClassLoaderå¯¹è±¡çš„å®ä¾‹ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœBeanå®ç°äº†BeanFactoryAwareæ¥å£ï¼Œè°ƒç”¨setBeanClassLoader()æ–¹æ³•ï¼Œä¼ å…¥ClassLoaderå¯¹è±¡çš„å®ä¾‹ã€‚&lt;/li&gt;
&lt;li&gt;ä¸ä¸Šé¢çš„ç±»ä¼¼ï¼Œå¦‚æœå®ç°äº†å…¶ä»–*Awareæ¥å£ï¼Œå°±è°ƒç”¨ç›¸åº”çš„æ–¹æ³•ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœæœ‰å’ŒåŠ è½½è¿™ä¸ªBeançš„Springå®¹å™¨ç›¸å…³çš„BeanPostProcessorå¯¹è±¡ï¼Œæ‰§è¡ŒpostProcessBeforeInitialization()æ–¹æ³•&lt;/li&gt;
&lt;li&gt;å¦‚æœBeanå®ç°äº†InitializingBeanæ¥å£ï¼Œæ‰§è¡ŒafterPropertiesSet()æ–¹æ³•ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœBeanåœ¨é…ç½®æ–‡ä»¶ä¸­çš„å®šä¹‰åŒ…å«&lt;code&gt;init-method&lt;/code&gt;å±æ€§ï¼Œæ‰§è¡ŒæŒ‡å®šçš„æ–¹æ³•ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœæœ‰å’ŒåŠ è½½è¿™ä¸ªBeançš„Springå®¹å™¨ç›¸å…³çš„BeanPostProcessorå¯¹è±¡ï¼Œæ‰§è¡ŒpostProcessAfterInitialization()æ–¹æ³•&lt;/li&gt;
&lt;li&gt;å½“è¦é”€æ¯Beançš„æ—¶å€™ï¼Œå¦‚æœBeanå®ç°äº†DisposableBeanæ¥å£ï¼Œæ‰§è¡Œdestroy()æ–¹æ³•ã€‚&lt;/li&gt;
&lt;li&gt;å½“è¦é”€æ¯Beançš„æ—¶å€™ï¼Œå¦‚æœBeanåœ¨é…ç½®æ–‡ä»¶ä¸­çš„å®šä¹‰åŒ…å«&lt;code&gt;destroy-method&lt;/code&gt;å±æ€§ï¼Œæ‰§è¡ŒæŒ‡å®šçš„æ–¹æ³•ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç”¨å›¾è¡¨ç¤ºä¸€ä¸‹(&lt;a href=&quot;http://www.jianshu.com/p/d00539babca5&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;å›¾æ¥æº&lt;/a&gt;)ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://pic.yupoo.com/jiananshi/dcdf1402/09a8ab47.png&quot; alt=&quot;Spring BeanLifeCycle&quot;&gt;&lt;/p&gt;
&lt;p&gt;å¸Œæœ›ä»Šæ™šèƒ½æˆåŠŸç©ä¸Špokemon goï¼Œå¥½æƒ³æŠ“ç²¾çµå•Š&lt;br&gt;&lt;img src=&quot;https://pic.yupoo.com/jiananshi/2cac9c9d/fca3487f.jpg&quot; alt=&quot;å•¦å•¦å•¦&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ¬¢è¿æŒ‡æ­£é”™è¯¯ï¼Œæ¬¢è¿ä¸€èµ·è®¨è®º~~&lt;/p&gt;
&lt;/blockquote&gt;
</content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;æ™ºå•†æ‰é¸¡ğŸ”ï¼Œå®åœ¨æ²¡åŠæ³•ä¸€ä¸‹å­ç†è§£Spring IoCå’ŒAOPçš„å®ç°åŸç†ï¼Œçœ‹çš„é—¹å¿ƒä¹Ÿä¸å¤ªæ‡‚ï¼Œæ‰€ä»¥ã€‚ã€‚ã€‚å†³å®šæ‹†æˆå°çš„ä¸èƒ½åœ¨å°çš„ä¸€ä¸ªä¸ªé—®é¢˜ï¼Œä¸€ç‚¹ç‚¹å•ƒã€‚ä»Šå¤©å…ˆæ¥çœ‹çœ‹Springä¸­Beançš„ç”Ÿå‘½å‘¨æœŸã€‚&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="spring" scheme="http://yemengying.com/categories/spring/"/>
    
    
      <category term="spring" scheme="http://yemengying.com/tags/spring/"/>
    
  </entry>
  
</feed>
